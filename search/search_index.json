{"config":{"lang":["en","zh"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"\u7b80\u4ecb","text":"<p>\u865a\u7a7a\u7ec8\u7aef \u662f\u4e00\u4e2a\u57fa\u4e8e\u5f00\u6e90\u9879\u76ee \u539f\u795e \u7684\u4e8c\u6b21\u5f00\u53d1\u7248\u672c\uff0c\u589e\u52a0\u4e86\u4e00\u4e9b\u72ec\u6709\u7279\u6027,\u672c\u6587\u6863\u4ecd\u5728\u4fee\u8ba2\u4e2d\uff0c\u6b22\u8fce PR\u3002</p> <p>\u4f7f\u7528 \u865a\u7a7a\u7ec8\u7aef \u524d\uff0c\u8bf7\u6089\u77e5\uff1a</p> <ul> <li>\u672c Wiki \u4e3b\u8981\u4ecb\u7ecd \u865a\u7a7a\u7ec8\u7aef \u7684\u7279\u8272\u529f\u80fd\uff0c\u539f\u795e \u7279\u6027\u8bf7\u67e5\u770b \u539f\u795e Wiki</li> <li>\u672c Wiki \u57fa\u4e8e\u6700\u65b0\u7684 \u865a\u7a7a\u7ec8\u7aef \u5206\u652f\u4ecb\u7ecd\uff0c\u5982\u679c\u60a8\u7684 \u865a\u7a7a\u7ec8\u7aef \u4f4e\u4e8e\u6b64\u7248\u672c\uff0c\u53ef\u80fd\u4f1a\u6709\u90e8\u5206\u529f\u80fd\u4e0d\u652f\u6301\uff1b</li> <li>\u865a\u7a7a\u7ec8\u7aef \u652f\u6301\u539f\u795e\u7684\u5168\u90e8\u7279\u6027\uff0c\u652f\u6301 \u539f\u795e Premium \u6838\u5fc3\u90e8\u5206\u7279\u6027\u3002</li> </ul>"},{"location":"api/","title":"API","text":""},{"location":"api/#_1","title":"\u8bf7\u6c42\u793a\u4f8b","text":"<p>curl \u793a\u4f8b <code>curl -H 'Authorization: Bearer ${secret}'  http://${controller-api}/configs?force=true -d '{\"path\": \"\", \"payload\": \"\"}' -X PUT</code></p> <p>\u6b64\u8bf7\u6c42\u9644\u5e26 <code>'Authorization: Bearer ${secret}'</code> \u8bf7\u6c42\u5934\uff0c\u5176\u4e2d\uff1a</p> <ul> <li><code>${secret}</code> \u4e3a\u914d\u7f6e\u6587\u4ef6\u8bbe\u7f6e\u7684api\u5bc6\u94a5</li> <li><code>${controller-api}</code> \u4e3a\u914d\u7f6e\u6587\u4ef6\u4e2d\u8bbe\u7f6e\u7684api\u76d1\u542c\u5730\u5740</li> <li><code>?force=true</code> \u4e3a\u643a\u5e26\u53c2\u6570\uff0c\u90e8\u5206\u8bf7\u6c42\u9700\u643a\u5e26</li> <li><code>'{\"path\": \"\", \"payload\": \"\"}'</code> \u4e3a\u8981\u66f4\u65b0\u7684\u8d44\u6e90\u7684\u6570\u636e</li> </ul> <p>\u5927\u591a\u6570\u60c5\u51b5\u4f20\u5165\u7684\u6570\u636e\u90fd\u4e3a<code>'{\"path\": \"\", \"payload\": \"\"}'</code>\uff0c\u53ef\u4ee5\u9644\u5e26\u65b0\u7684\u914d\u7f6e\u6587\u4ef6\u8def\u5f84</p>"},{"location":"api/#_2","title":"\u65e5\u5fd7","text":""},{"location":"api/#logs","title":"<code>/logs</code>","text":"<p>\u8bf7\u6c42\u65b9\u6cd5\uff1a<code>GET</code></p> <ul> <li>\u83b7\u53d6\u5b9e\u65f6\u65e5\u5fd7</li> </ul>"},{"location":"api/#_3","title":"\u6d41\u91cf\u4fe1\u606f","text":""},{"location":"api/#traffic","title":"<code>/traffic</code>","text":"<p>\u8bf7\u6c42\u65b9\u6cd5\uff1a<code>GET</code></p> <ul> <li>\u83b7\u53d6\u5b9e\u65f6\u6d41\u91cf\uff0c\u5355\u4f4d kbps</li> </ul>"},{"location":"api/#_4","title":"\u5185\u5b58\u4fe1\u606f","text":""},{"location":"api/#memory","title":"<code>/memory</code>","text":"<p>\u8bf7\u6c42\u65b9\u6cd5\uff1a<code>GET</code></p> <ul> <li>\u83b7\u53d6\u5b9e\u65f6\u5185\u5b58\u5360\u7528\uff0c\u5355\u4f4d kb</li> </ul>"},{"location":"api/#_5","title":"\u7248\u672c\u4fe1\u606f","text":""},{"location":"api/#version","title":"<code>/version</code>","text":"<p>\u8bf7\u6c42\u65b9\u6cd5\uff1a<code>GET</code></p> <ul> <li>\u83b7\u53d6 Clash \u7248\u672c</li> </ul>"},{"location":"api/#_6","title":"\u7f13\u5b58","text":""},{"location":"api/#cachefakeipflush","title":"<code>/cache/fakeip/flush</code>","text":"<p>\u8bf7\u6c42\u65b9\u6cd5\uff1a<code>POST</code></p> <ul> <li>\u6e05\u9664 fakeip \u7f13\u5b58</li> </ul>"},{"location":"api/#_7","title":"\u8fd0\u884c\u914d\u7f6e","text":""},{"location":"api/#configs","title":"<code>/configs</code>","text":"<p>\u8bf7\u6c42\u65b9\u6cd5\uff1a<code>GET</code></p> <ul> <li>\u83b7\u53d6\u57fa\u672c\u914d\u7f6e</li> </ul> <p>\u8bf7\u6c42\u65b9\u6cd5\uff1a<code>PUT</code></p> <ul> <li>\u91cd\u65b0\u52a0\u8f7d\u57fa\u672c\u914d\u7f6e\uff0c\u5fc5\u987b\u53d1\u9001\u6570\u636e\uff0cURL \u9700\u643a\u5e26 <code>?force=true</code> \u5f3a\u5236\u6267\u884c</li> </ul> <p>\u8bf7\u6c42\u65b9\u6cd5\uff1a<code>PATCH</code></p> <ul> <li>\u66f4\u65b0\u57fa\u672c\u914d\u7f6e\uff0c\u5fc5\u987b\u53d1\u9001\u6570\u636e\uff0c\u683c\u5f0f\u4e3a<code>'{\"mixed-port\": 7890}'</code>\uff0c\u6309\u9700\u4fee\u6539\u4e3a\u9700\u8981\u66f4\u65b0\u7684\u914d\u7f6e\u9879</li> </ul>"},{"location":"api/#configsgeo","title":"<code>/configs/geo</code>","text":"<p>\u8bf7\u6c42\u65b9\u6cd5\uff1a<code>POST</code></p> <ul> <li>\u66f4\u65b0 GEO \u6570\u636e\u5e93\uff0c\u5fc5\u987b\u53d1\u9001\u6570\u636e</li> </ul>"},{"location":"api/#restart","title":"<code>/restart</code>","text":"<p>\u8bf7\u6c42\u65b9\u6cd5\uff1a<code>POST</code></p> <ul> <li>\u91cd\u542f\u5185\u6838\uff0c\u5fc5\u987b\u53d1\u9001\u6570\u636e</li> </ul>"},{"location":"api/#_8","title":"\u66f4\u65b0","text":""},{"location":"api/#upgrade","title":"<code>/upgrade</code>","text":"<p>\u8bf7\u6c42\u65b9\u6cd5\uff1a<code>POST</code></p> <ul> <li>\u66f4\u65b0\u5185\u6838\uff0c\u5fc5\u987b\u53d1\u9001\u6570\u636e</li> </ul>"},{"location":"api/#upgradeui","title":"<code>/upgrade/ui</code>","text":"<p>\u8bf7\u6c42\u65b9\u6cd5\uff1a<code>POST</code></p> <ul> <li>\u66f4\u65b0\u9762\u677f\uff0c\u987b\u8bbe\u7f6e external-ui</li> </ul>"},{"location":"api/#upgradegeo","title":"<code>/upgrade/geo</code>","text":"<p>\u8bf7\u6c42\u65b9\u6cd5\uff1a<code>POST</code></p> <ul> <li>\u66f4\u65b0 GEO \u6570\u636e\u5e93\uff0c\u5fc5\u987b\u53d1\u9001\u6570\u636e</li> </ul>"},{"location":"api/#_9","title":"\u7b56\u7565\u7ec4","text":""},{"location":"api/#group","title":"<code>/group</code>","text":"<p>\u8bf7\u6c42\u65b9\u6cd5\uff1a<code>GET</code></p> <ul> <li>\u83b7\u53d6\u7b56\u7565\u7ec4\u4fe1\u606f</li> </ul>"},{"location":"api/#groupgroup_name","title":"<code>/group/group_name</code>","text":"<p>\u8bf7\u6c42\u65b9\u6cd5\uff1a<code>GET</code></p> <ul> <li>\u83b7\u53d6\u5177\u4f53\u7684\u7b56\u7565\u7ec4\u4fe1\u606f</li> </ul> <p>\u8bf7\u6c42\u65b9\u6cd5\uff1a<code>DELETE</code></p> <ul> <li>\u6e05\u9664\u81ea\u52a8\u7b56\u7565\u7ec4 fixed \u9009\u62e9</li> </ul>"},{"location":"api/#groupgroup_namedelay","title":"<code>/group/group_name/delay</code>","text":"<p>\u8bf7\u6c42\u65b9\u6cd5\uff1a<code>GET</code></p> <ul> <li>\u5bf9\u6307\u5b9a\u7b56\u7565\u7ec4\u5185\u7684\u8282\u70b9/\u7b56\u7565\u7ec4\u8fdb\u884c\u6d4b\u8bd5\uff0c\u8fd4\u56de\u65b0\u7684\u5ef6\u8fdf\u4fe1\u606f\uff0c,\u5e76\u6e05\u9664\u81ea\u52a8\u7b56\u7565\u7ec4\u7684 fixed \u9009\u62e9</li> <li>URL \u9700\u643a\u5e26<code>?url=xxx&amp;timeout=5000</code>\uff0c\u6309\u9700\u4fee\u6539</li> </ul>"},{"location":"api/#_10","title":"\u4ee3\u7406","text":""},{"location":"api/#proxies","title":"<code>/proxies</code>","text":"<p>\u8bf7\u6c42\u65b9\u6cd5\uff1a<code>GET</code></p> <ul> <li>\u83b7\u53d6\u4ee3\u7406\u4fe1\u606f</li> </ul>"},{"location":"api/#proxiesproxies_name","title":"<code>/proxies/proxies_name</code>","text":"<p>\u8bf7\u6c42\u65b9\u6cd5\uff1a<code>GET</code></p> <ul> <li>\u83b7\u53d6\u5177\u4f53\u7684\u4ee3\u7406\u4fe1\u606f</li> </ul> <p>\u8bf7\u6c42\u65b9\u6cd5\uff1a<code>PUT</code></p> <ul> <li>\u9009\u62e9\u7279\u5b9a\u7684\u4ee3\u7406\uff0c\u9700\u643a\u5e26\u6570\u636e\uff0c\u683c\u5f0f\u4e3a<code>'{\"name\":\"\u65e5\u672c\"}'</code></li> </ul>"},{"location":"api/#proxiesproxies_namedelay","title":"<code>/proxies/proxies_name/delay</code>","text":"<p>\u8bf7\u6c42\u65b9\u6cd5\uff1a<code>GET</code></p> <ul> <li>\u5bf9\u6307\u5b9a\u4ee3\u7406\u8fdb\u884c\u6d4b\u8bd5\uff0c\u5e76\u8fd4\u56de\u65b0\u7684\u5ef6\u8fdf\u4fe1\u606f</li> <li>URL \u9700\u643a\u5e26<code>?url=xxx&amp;timeout=5000</code>\uff0c\u6309\u9700\u4fee\u6539</li> </ul>"},{"location":"api/#_11","title":"\u4ee3\u7406\u96c6\u5408","text":""},{"location":"api/#providersproxies","title":"<code>/providers/proxies</code>","text":"<p>\u8bf7\u6c42\u65b9\u6cd5\uff1a<code>GET</code></p> <ul> <li>\u83b7\u53d6\u6240\u6709\u4ee3\u7406\u96c6\u5408\u7684\u6240\u6709\u4fe1\u606f</li> </ul>"},{"location":"api/#providersproxiesproviders_name","title":"<code>/providers/proxies/providers_name</code>","text":"<p>\u8bf7\u6c42\u65b9\u6cd5\uff1a<code>GET</code></p> <ul> <li>\u83b7\u53d6\u7279\u5b9a\u4ee3\u7406\u96c6\u5408\u7684\u4fe1\u606f</li> </ul> <p>\u8bf7\u6c42\u65b9\u6cd5\uff1a<code>PUT</code></p> <ul> <li>\u66f4\u65b0\u4ee3\u7406\u96c6\u5408</li> </ul>"},{"location":"api/#providersproxiesproviders_namehealthcheck","title":"<code>/providers/proxies/providers_name/healthcheck</code>","text":"<p>\u8bf7\u6c42\u65b9\u6cd5\uff1a<code>GET</code></p> <ul> <li>\u89e6\u53d1\u7279\u5b9a\u4ee3\u7406\u96c6\u5408\u7684\u5065\u5eb7\u68c0\u67e5</li> </ul>"},{"location":"api/#providersproxiesproviders_nameproxies_namehealthcheck","title":"<code>/providers/proxies/providers_name/proxies_name/healthcheck</code>","text":"<ul> <li>\u5bf9\u4ee3\u7406\u96c6\u5408\u5185\u7684\u6307\u5b9a\u4ee3\u7406\u8fdb\u884c\u6d4b\u8bd5\uff0c\u5e76\u8fd4\u56de\u65b0\u7684\u5ef6\u8fdf\u4fe1\u606f</li> <li>URL \u9700\u643a\u5e26<code>?url=xxx&amp;timeout=5000</code>\uff0c\u6309\u9700\u4fee\u6539</li> </ul>"},{"location":"api/#_12","title":"\u89c4\u5219","text":""},{"location":"api/#rules","title":"<code>/rules</code>","text":"<p>\u8bf7\u6c42\u65b9\u6cd5\uff1a<code>GET</code></p> <ul> <li>\u83b7\u53d6\u89c4\u5219\u4fe1\u606f</li> </ul>"},{"location":"api/#_13","title":"\u89c4\u5219\u96c6\u5408","text":""},{"location":"api/#providersrules","title":"<code>/providers/rules</code>","text":"<p>\u8bf7\u6c42\u65b9\u6cd5\uff1a<code>GET</code></p> <ul> <li>\u83b7\u53d6\u6240\u6709\u89c4\u5219\u96c6\u5408\u7684\u6240\u6709\u4fe1\u606f</li> </ul>"},{"location":"api/#providersrulesproviders_name","title":"<code>/providers/rules/providers_name</code>","text":"<p>\u8bf7\u6c42\u65b9\u6cd5\uff1a<code>PUT</code></p> <ul> <li>\u66f4\u65b0\u89c4\u5219\u96c6\u5408</li> </ul>"},{"location":"api/#_14","title":"\u8fde\u63a5","text":""},{"location":"api/#connections","title":"<code>/connections</code>","text":"<p>\u8bf7\u6c42\u65b9\u6cd5\uff1a<code>GET</code></p> <ul> <li>\u83b7\u53d6\u8fde\u63a5\u4fe1\u606f</li> </ul> <p>\u8bf7\u6c42\u65b9\u6cd5\uff1a<code>DELETE</code></p> <ul> <li>\u5173\u95ed\u6240\u6709\u8fde\u63a5</li> </ul>"},{"location":"api/#connectionsid","title":"<code>/connections/:id</code>","text":"<p>\u8bf7\u6c42\u65b9\u6cd5\uff1a<code>DELETE</code></p> <ul> <li>\u5173\u95ed\u7279\u5b9a\u8fde\u63a5</li> </ul>"},{"location":"api/#_15","title":"\u57df\u540d\u67e5\u8be2","text":""},{"location":"api/#dnsquery","title":"<code>/dns/query</code>","text":"<p>\u8bf7\u6c42\u65b9\u6cd5\uff1a<code>GET</code></p> <ul> <li>\u83b7\u53d6\u6307\u5b9a\u540d\u79f0\u548c\u7c7b\u578b\u7684 DNS \u67e5\u8be2\u6570\u636e</li> <li>URL \u9700\u643a\u5e26<code>?name=example.com&amp;type=A</code>\uff0c\u6309\u9700\u4fee\u6539</li> </ul>"},{"location":"api/#debug","title":"DEBUG","text":"<p><code>/debug</code> \u9700\u8981\u5185\u6838\u542f\u52a8\u65f6 \u65e5\u5fd7\u7ea7\u522b \u4e3a <code>debug</code></p>"},{"location":"api/#debuggc","title":"<code>/debug/gc</code>","text":"<p>\u8bf7\u6c42\u65b9\u6cd5\uff1a<code>PUT</code></p> <ul> <li>\u8fdb\u884c\u4e3b\u52a8 GC</li> </ul>"},{"location":"api/#debugpprof","title":"<code>/debug/pprof</code>","text":"<p>\u6d4f\u89c8\u5668\u6253\u5f00 <code>http://${controller-api}/debug/pprof</code> \u53ef\u67e5\u770b\u539f\u59cb DEBUG \u4fe1\u606f\uff0c\u5176\u4e2d\uff1a</p> <ul> <li>allocs \u8868\u793a\u6bcf\u4e2a\u51fd\u6570\u8c03\u7528\u7684\u5185\u5b58\u5206\u914d\u60c5\u51b5\uff0c\u5305\u62ec\u5728\u5806\u6808\u4e0a\u548c\u5806\u4e0a\u5206\u914d\u7684\u5185\u5b58\u5927\u5c0f\u4ee5\u53ca\u5185\u5b58\u5206\u914d\u6b21\u6570\u3002\u8fd9\u4e2a\u62a5\u544a\u4e3b\u8981\u662f\u4e3a\u4e86\u5e2e\u52a9\u6211\u4eec\u627e\u5230\u4ee3\u7801\u4e2d\u5b58\u5728\u7684\u5185\u5b58\u6cc4\u6f0f\u3001\u5185\u5b58\u9891\u7e41\u7533\u8bf7\u7b49\u95ee\u9898\u3002</li> <li>heap \u62a5\u544a\u5219\u7ed9\u51fa\u4e86\u7a0b\u5e8f\u5728\u5806\u4e0a\u4f7f\u7528\u7684\u5185\u5b58\u7684\u8be6\u7ec6\u4fe1\u606f\uff0c\u5176\u4e2d\u5305\u62ec\u88ab\u5206\u914d\u7684\u5185\u5b58\u5757\u7684\u5927\u5c0f\u3001\u6570\u91cf\u548c\u5730\u5740\uff0c\u5e76\u4e14\u6309\u7167\u5927\u5c0f\u6392\u5e8f\u3002\u8fd9\u4e2a\u62a5\u544a\u4e3b\u8981\u662f\u4e3a\u4e86\u641c\u5bfb\u5185\u5b58\u4f7f\u7528\u8fc7\u9ad8\u7684\u5730\u65b9\uff0c\u6211\u4eec\u53ef\u4ee5\u5728 heap \u62a5\u544a\u4e2d\u67e5\u770b\u5bf9\u8c61\u7684\u5927\u5c0f\uff0c\u4ece\u800c\u627e\u5230\u5185\u5b58\u4f7f\u7528\u8fc7\u9ad8\u7684\u5730\u65b9\u3002</li> </ul>"},{"location":"api/#graphviz-debug","title":"\u5b89\u88c5 Graphviz,\u53ef\u67e5\u770b\u56fe\u5f62\u5316\u7684 debug \u4fe1\u606f","text":""},{"location":"api/#heap","title":"\u67e5\u770b\u56fe\u5f62\u5316 Heap \u62a5\u544a","text":"<pre><code>go tool pprof -http=:8080 http://127.0.0.1:xxxx/debug/pprof/heap\n</code></pre> <p>Full image</p>"},{"location":"api/#allocs","title":"\u67e5\u770b\u56fe\u5f62\u5316 Allocs \u62a5\u544a","text":"<pre><code>go tool pprof -http=:8080 http://127.0.0.1:xxxx/debug/pprof/allocs\n</code></pre> <p>\u793a\u4f8b\u8f93\u51fa</p>"},{"location":"api/#_16","title":"\u63d0\u4ea4\u8f93\u51fa\u62a5\u544a","text":"<p>\u6d4f\u89c8\u5668\u8bbf\u95ee <code>http://${controller-api}/debug/pprof/heap?raw=true</code> \u5373\u53ef\u4e0b\u8f7d\u8fd9\u4e2a\u6587\u4ef6\uff0c\u901a\u8fc7\u4e0a\u4f20\u5230 issues \u63d0\u4ea4\u4f60\u9047\u5230\u7684\u95ee\u9898\u3002</p>"},{"location":"config/","title":"\u914d\u7f6e","text":"<ul> <li> <p> \u5b8c\u6574\u793a\u4f8b</p> <p>test</p> </li> <li> <p> \u6d41\u91cf\u5165\u7ad9</p> <p>test</p> </li> <li> <p> \u8def\u7531\u89c4\u5219</p> <p>test</p> </li> <li> <p> \u51fa\u7ad9\u4ee3\u7406</p> <p>test</p> </li> <li> <p> DNS</p> <p>test</p> </li> <li> <p> \u7b56\u7565\u7ec4</p> <p>test</p> </li> </ul>"},{"location":"config/experimental/","title":"\u5b9e\u9a8c\u6027\u914d\u7f6e","text":"<pre><code>experimental:\n  quic-go-disable-gso: false\n  quic-go-disable-ecn: false\n  dialer-ip4p-convert: false\n</code></pre>"},{"location":"config/experimental/#quic-go-disable-gso","title":"quic-go-disable-gso","text":"<p>\u7981\u7528<code>GSO</code></p>"},{"location":"config/experimental/#quic-go-disable-ecn","title":"quic-go-disable-ecn","text":"<p>\u7981\u7528<code>ECN</code></p>"},{"location":"config/experimental/#dialer-ip4p-convert","title":"dialer-ip4p-convert","text":"<p>\u542f\u7528IP4P\u5730\u5740\u8f6c\u6362</p>"},{"location":"config/general/","title":"\u5168\u5c40\u914d\u7f6e","text":""},{"location":"config/general/#_2","title":"\u5141\u8bb8\u5c40\u57df\u7f51","text":"<p>\u5141\u8bb8\u5176\u4ed6\u8bbe\u5907\u7ecf\u8fc7 Clash \u7684\u4ee3\u7406\u7aef\u53e3\u8bbf\u95ee\u4e92\u8054\u7f51</p> <p>\u53ef\u9009\u503c <code>true/false</code></p> <pre><code>allow-lan: true\n</code></pre> <p>\u7ed1\u5b9a\u5730\u5740\uff0c\u4ec5\u5141\u8bb8\u5176\u4ed6\u8bbe\u5907\u901a\u8fc7\u8fd9\u4e2a\u5730\u5740\u8bbf\u95ee</p> <p><code>\"*\"</code> \u7ed1\u5b9a\u6240\u6709 IP \u5730\u5740</p> <p><code>192.168.31.31</code> \u7ed1\u5b9a\u5355\u4e2a IPV4 \u5730\u5740</p> <p><code>[aaaa::a8aa:ff:fe09:57d8]</code> \u7ed1\u5b9a\u5355\u4e2a IPV6 \u5730\u5740</p> <pre><code>bind-address: \"*\"\n</code></pre> <p>\u5141\u8bb8\u8fde\u63a5\u7684 IP \u5730\u5740\u6bb5\uff0c\u4ec5\u4f5c\u7528\u4e8e <code>allow-lan</code> \u4e3a <code>true</code> \u9ed8\u8ba4\u503c\u4e3a <code>0.0.0.0/0</code>\u548c <code>::/0</code></p> <pre><code>lan-allowed-ips:\n- 0.0.0.0/0\n- ::/0\n</code></pre> <p>\u7981\u6b62\u8fde\u63a5\u7684 IP \u5730\u5740\u6bb5\uff0c\u9ed1\u540d\u5355\u4f18\u5148\u7ea7\u9ad8\u4e8e\u767d\u540d\u5355\uff0c\u9ed8\u8ba4\u503c\u4e3a\u7a7a</p> <pre><code>lan-disallowed-ips:\n- 192.168.0.3/32\n</code></pre>"},{"location":"config/general/#_3","title":"\u7528\u6237\u9a8c\u8bc1","text":"<p><code>http(s)</code>/<code>socks</code>/<code>mixed</code>\u4ee3\u7406\u7684\u7528\u6237\u9a8c\u8bc1</p> <pre><code>authentication:\n- \"user1:pass1\"\n- \"user2:pass2\"\n</code></pre> <p>\u8bbe\u7f6e\u5141\u8bb8\u8df3\u8fc7\u9a8c\u8bc1\u7684 IP \u6bb5</p> <pre><code>skip-auth-prefixes:\n- 127.0.0.1/8\n- ::1/128\n</code></pre>"},{"location":"config/general/#_4","title":"\u8fd0\u884c\u6a21\u5f0f","text":"<ul> <li><code>rule</code> \u89c4\u5219\u5339\u914d</li> <li><code>global</code> \u5168\u5c40\u4ee3\u7406 (\u9700\u8981\u5728 GLOBAL \u7b56\u7565\u7ec4\u9009\u62e9\u4ee3\u7406/\u7b56\u7565)</li> <li><code>direct</code> \u5168\u5c40\u76f4\u8fde</li> </ul> <p>\u6b64\u9879\u62e5\u6709\u9ed8\u8ba4\u503c\uff0c\u9ed8\u8ba4\u4e3a\u89c4\u5219\u6a21\u5f0f</p> <pre><code>mode: rule\n</code></pre>"},{"location":"config/general/#_5","title":"\u65e5\u5fd7\u7ea7\u522b","text":"<p>Clash \u5185\u6838\u8f93\u51fa\u65e5\u5fd7\u7684\u7b49\u7ea7\uff0c\u4ec5\u5728\u63a7\u5236\u53f0\u548c\u63a7\u5236\u9875\u9762\u8f93\u51fa</p> <pre><code>log-level: info\n</code></pre> <ul> <li><code>silent</code> \u9759\u9ed8\uff0c\u4e0d\u8f93\u51fa</li> <li><code>error</code> \u4ec5\u8f93\u51fa\u53d1\u751f\u9519\u8bef\u81f3\u65e0\u6cd5\u4f7f\u7528\u7684\u65e5\u5fd7</li> <li><code>warning</code> \u8f93\u51fa\u53d1\u751f\u9519\u8bef\u4f46\u4e0d\u5f71\u54cd\u8fd0\u884c\u7684\u65e5\u5fd7\uff0c\u4ee5\u53ca error \u7ea7\u522b\u5185\u5bb9</li> <li><code>info</code> \u8f93\u51fa\u4e00\u822c\u8fd0\u884c\u7684\u5185\u5bb9\uff0c\u4ee5\u53ca error \u548c warning \u7ea7\u522b\u7684\u65e5\u5fd7</li> <li><code>debug</code> \u5c3d\u53ef\u80fd\u7684\u8f93\u51fa\u8fd0\u884c\u4e2d\u6240\u6709\u7684\u4fe1\u606f</li> </ul>"},{"location":"config/general/#ipv6","title":"IPv6","text":"<p>\u662f\u5426\u5141\u8bb8\u5185\u6838\u63a5\u53d7 IPv6 \u6d41\u91cf</p> <p>\u53ef\u9009\u503c <code>true/false,</code>\u9ed8\u8ba4\u4e3a <code>true</code></p> <pre><code>ipv6: true\n</code></pre>"},{"location":"config/general/#tcp-keep-alive","title":"TCP Keep Alive \u8bbe\u7f6e","text":"<p>\u4fee\u6539\u6b64\u9879\u4ee5\u51cf\u5c11\u79fb\u52a8\u8bbe\u5907\u8017\u7535\u95ee\u9898</p> <p>TCP Keep Alive \u5305\u7684\u95f4\u9694\uff0c\u5355\u4f4d\u4e3a\u79d2</p> <pre><code>keep-alive-interval: 15\n</code></pre> <p>TCP Keep Alive \u7684\u6700\u5927\u7a7a\u95f2\u65f6\u95f4</p> <pre><code>keep-alive-idle: 15\n</code></pre> <p>\u7981\u7528 TCP Keep Alive\uff0c\u5728 Amdroid \u9ed8\u8ba4\u4e3a true</p> <pre><code>disable-keep-alive: false\n</code></pre>"},{"location":"config/general/#_6","title":"\u8fdb\u7a0b\u5339\u914d\u6a21\u5f0f","text":"<p>\u63a7\u5236\u662f\u5426\u8ba9 Clash \u53bb\u5339\u914d\u8fdb\u7a0b</p> <ul> <li><code>always</code> \u5f00\u542f\uff0c\u5f3a\u5236\u5339\u914d\u6240\u6709\u8fdb\u7a0b</li> <li><code>strict</code> \u9ed8\u8ba4\uff0c\u7531 Clash \u5224\u65ad\u662f\u5426\u5f00\u542f</li> <li><code>off</code> \u4e0d\u5339\u914d\u8fdb\u7a0b\uff0c\u63a8\u8350\u5728\u8def\u7531\u5668\u4e0a\u4f7f\u7528\u6b64\u6a21\u5f0f</li> </ul> <pre><code>find-process-mode: strict\n</code></pre>"},{"location":"config/general/#api","title":"\u5916\u90e8\u63a7\u5236 (API)","text":"<p>\u5916\u90e8\u63a7\u5236\u5668\uff0c\u53ef\u4ee5\u4f7f\u7528 RESTful API \u6765\u63a7\u5236\u4f60\u7684 Clash \u5185\u6838</p> <p>API \u76d1\u542c\u5730\u5740\uff0c\u4f60\u53ef\u4ee5\u5c06 127.0.0.1 \u4fee\u6539\u4e3a 0.0.0.0 \u6765\u76d1\u542c\u6240\u6709 IP</p> <pre><code>external-controller: 127.0.0.1:9090\n</code></pre> <p>API CORS \u6807\u5934\u914d\u7f6e</p> <pre><code>external-controller-cors:\n  allow-origins:\n    - *\n  allow-private-network: true\n</code></pre> <p>Unix socket API \u76d1\u542c\u5730\u5740</p> <p>\u4eceUnix socket\u8bbf\u95eeapi\u63a5\u53e3\u4e0d\u4f1a\u9a8c\u8bc1secret\uff0c \u5982\u679c\u5f00\u542f\u8bf7\u81ea\u884c\u4fdd\u8bc1\u5b89\u5168\u95ee\u9898</p> <pre><code>external-controller-unix: mihomo.sock\n</code></pre> <p>Windows namedpipe API \u76d1\u542c\u5730\u5740</p> <p>\u4eceWindows namedpipe\u8bbf\u95eeapi\u63a5\u53e3\u4e0d\u4f1a\u9a8c\u8bc1secret\uff0c \u5982\u679c\u5f00\u542f\u8bf7\u81ea\u884c\u4fdd\u8bc1\u5b89\u5168\u95ee\u9898</p> <pre><code>external-controller-pipe: \\\\.\\pipe\\mihomo\n</code></pre> <p>HTTPS-API \u76d1\u542c\u5730\u5740\uff0c\u9700\u8981\u914d\u7f6e <code>tls</code> \u90e8\u5206\u8bc1\u4e66\u548c\u5176\u79c1\u94a5\u914d\u7f6e\uff0c\u4f7f\u7528 TLS \u4e5f\u5fc5\u987b\u586b\u5199 <code>external-controller</code></p> <pre><code>external-controller-tls: 127.0.0.1:9443\n</code></pre> <p>\u5728 RESTful API \u7aef\u53e3\u4e0a\u5f00\u542f DOH \u670d\u52a1\u5668</p> <p>\u8be5URL\u4e0d\u4f1a\u9a8c\u8bc1secret\uff0c \u5982\u679c\u5f00\u542f\u8bf7\u81ea\u884c\u4fdd\u8bc1\u5b89\u5168\u95ee\u9898</p> <pre><code>external-doh-server: /dns-query\n</code></pre> <p>API \u7684\u8bbf\u95ee\u5bc6\u94a5</p> <pre><code>secret: \"\"\n</code></pre>"},{"location":"config/general/#_7","title":"\u5916\u90e8\u7528\u6237\u754c\u9762","text":"<p>\u53ef\u4ee5\u5c06\u9759\u6001\u7f51\u9875\u8d44\u6e90 (\u6bd4\u5982 Clash-dashboard) \u8fd0\u884c\u5728 Clash API, \u8def\u5f84\u4e3a API \u5730\u5740/ui</p> <pre><code>external-ui: /path/to/ui/folder\n</code></pre> <p>\u53ef\u4ee5\u4e3a\u7edd\u5bf9\u8def\u5f84\uff0c\u6216\u8005 Clash \u5de5\u4f5c\u76ee\u5f55\u7684\u76f8\u5bf9\u8def\u5f84</p>"},{"location":"config/general/#_8","title":"\u81ea\u5b9a\u4e49\u5916\u90e8\u7528\u6237\u754c\u9762\u540d\u5b57","text":"<pre><code>external-ui-name: xd      #  \u5408\u5e76\u4e3a external-ui/xd\n</code></pre> <p>\u975e\u5fc5\u987b\uff0c\u66f4\u65b0\u65f6\u4f1a\u66f4\u65b0\u5230\u6307\u5b9a\u6587\u4ef6\u5939\uff0c\u4e0d\u914d\u7f6e\u5219\u76f4\u63a5\u66f4\u65b0\u5230 external-ui \u76ee\u5f55</p>"},{"location":"config/general/#_9","title":"\u81ea\u5b9a\u4e49\u5916\u90e8\u7528\u6237\u754c\u9762\u4e0b\u8f7d\u5730\u5740","text":"<pre><code>external-ui-url: \"https://github.com/MetaCubeX/metacubexd/archive/refs/heads/gh-pages.zip\" #\u4ece GitHub Pages \u5206\u652f\u83b7\u53d6\n</code></pre>"},{"location":"config/general/#_10","title":"\u7f13\u5b58","text":"<pre><code>profile:\n  store-selected: true\n  # \u50a8\u5b58 API \u5bf9\u7b56\u7565\u7ec4\u7684\u9009\u62e9\uff0c\u4ee5\u4f9b\u4e0b\u6b21\u542f\u52a8\u65f6\u4f7f\u7528\n  store-fake-ip: true\n  # \u50a8\u5b58 fakeip \u6620\u5c04\u8868\uff0c\u57df\u540d\u518d\u6b21\u53d1\u751f\u8fde\u63a5\u65f6\uff0c\u4f7f\u7528\u539f\u6709\u6620\u5c04\u5730\u5740\n</code></pre>"},{"location":"config/general/#_11","title":"\u7edf\u4e00\u5ef6\u8fdf","text":"<p>\u5f00\u542f\u7edf\u4e00\u5ef6\u8fdf\u65f6\uff0c\u4f1a\u8ba1\u7b97 RTT\uff0c\u4ee5\u6d88\u9664\u8fde\u63a5\u63e1\u624b\u7b49\u5e26\u6765\u7684\u4e0d\u540c\u7c7b\u578b\u8282\u70b9\u7684\u5ef6\u8fdf\u5dee\u5f02</p> <p>\u53ef\u9009\u503c <code>true/false</code></p> <pre><code>unified-delay: true\n</code></pre>"},{"location":"config/general/#tcp","title":"TCP \u5e76\u53d1","text":"<p>\u53ef\u9009\u503c <code>true/false</code></p> <pre><code>tcp-concurrent: true\n</code></pre>"},{"location":"config/general/#_12","title":"\u51fa\u7ad9\u63a5\u53e3","text":"<p>Clash \u7684\u6d41\u91cf\u51fa\u7ad9\u63a5\u53e3</p> <pre><code>interface-name: en0\n</code></pre>"},{"location":"config/general/#_13","title":"\u8def\u7531\u6807\u8bb0","text":"<p>\u4e3a Linux \u4e0b\u7684\u51fa\u7ad9\u8fde\u63a5\u63d0\u4f9b\u9ed8\u8ba4\u6d41\u91cf\u6807\u8bb0</p> <pre><code>routing-mark: 6666\n</code></pre>"},{"location":"config/general/#tls","title":"TLS","text":"<p>\u76ee\u524d\u4ec5\u7528\u4e8e API \u7684 https</p> <pre><code>tls:\n  certificate: string # \u8bc1\u4e66 PEM \u683c\u5f0f\uff0c\u6216\u8005 \u8bc1\u4e66\u7684\u8def\u5f84\n  private-key: string # \u8bc1\u4e66\u5bf9\u5e94\u7684\u79c1\u94a5 PEM \u683c\u5f0f\uff0c\u6216\u8005\u79c1\u94a5\u8def\u5f84\n</code></pre>"},{"location":"config/general/#_14","title":"\u5168\u5c40\u5ba2\u6237\u7aef\u6307\u7eb9","text":"<p>\u5168\u5c40 TLS \u6307\u7eb9\uff0c\u4f18\u5148\u4f4e\u4e8e proxy \u5185\u7684 client-fingerprint\u3002</p> <p>\u76ee\u524d\u652f\u6301\u5f00\u542f TLS \u4f20\u8f93\u7684 TCP/grpc/WS/HTTP , \u652f\u6301\u534f\u8bae\u6709 VLESS,Vmess \u548c trojan.</p> <pre><code>global-client-fingerprint: chrome\n</code></pre> <p>Note</p> <p>\u53ef\u9009\uff1a<code>chrome</code>, <code>firefox</code>, <code>safari</code>, <code>iOS</code>, <code>android</code>, <code>edge</code>, <code>360</code>, <code>qq</code>, <code>random</code>, \u82e5\u9009\u62e9 <code>random</code>, \u5219\u6309 Cloudflare Radar \u6570\u636e\u6309\u6982\u7387\u751f\u6210\u4e00\u4e2a\u73b0\u4ee3\u6d4f\u89c8\u5668\u6307\u7eb9\u3002</p>"},{"location":"config/general/#geoip","title":"GEOIP \u6570\u636e\u6a21\u5f0f","text":"<p>\u66f4\u6539 geoip \u4f7f\u7528\u6587\u4ef6\uff0cmmdb \u6216\u8005 dat\uff0c\u53ef\u9009 <code>true</code>/<code>false</code>,<code>true</code>\u4e3a dat\uff0c\u6b64\u9879\u6709\u9ed8\u8ba4\u503c <code>false</code></p> <pre><code>geodata-mode: true \n</code></pre>"},{"location":"config/general/#geo","title":"GEO \u6587\u4ef6\u52a0\u8f7d\u6a21\u5f0f","text":"<p>\u53ef\u9009\u7684\u52a0\u8f7d\u6a21\u5f0f\u5982\u4e0b</p> <ul> <li><code>standard</code>\uff1a\u6807\u51c6\u52a0\u8f7d\u5668</li> <li><code>memconservative</code>\uff1a\u4e13\u4e3a\u5185\u5b58\u53d7\u9650 (\u5c0f\u5185\u5b58) \u8bbe\u5907\u4f18\u5316\u7684\u52a0\u8f7d\u5668 (\u9ed8\u8ba4\u503c)</li> </ul> <pre><code>geodata-loader: memconservative\n</code></pre>"},{"location":"config/general/#geo_1","title":"\u81ea\u52a8\u66f4\u65b0 GEO","text":"<pre><code>geo-auto-update: false\n</code></pre> <p>\u66f4\u65b0\u95f4\u9694\uff0c\u5355\u4f4d\u4e3a\u5c0f\u65f6</p> <pre><code>geo-update-interval: 24\n</code></pre>"},{"location":"config/general/#geo_2","title":"\u81ea\u5b9a GEO \u4e0b\u8f7d\u5730\u5740","text":"<pre><code>geox-url:\n  geoip: \"https://testingcf.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@release/geoip.dat\"\n  geosite: \"https://testingcf.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@release/geosite.dat\"\n  mmdb: \"https://testingcf.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@release/country.mmdb\"\n  asn: \"https://github.com/xishang0128/geoip/releases/download/latest/GeoLite2-ASN.mmdb\"\n</code></pre>"},{"location":"config/general/#ua","title":"\u81ea\u5b9a\u5168\u5c40 UA","text":"<p>\u81ea\u5b9a\u4e49\u5916\u90e8\u8d44\u6e90\u4e0b\u8f7d\u65f6\u4f7f\u7528\u7684\u7684 UA\uff0c\u9ed8\u8ba4\u4e3a <code>clash.meta</code></p> <pre><code>global-ua: clash.meta\n</code></pre>"},{"location":"config/general/#etag","title":"ETag \u652f\u6301","text":"<p>\u5916\u90e8\u8d44\u6e90\u4e0b\u8f7d\u7684 ETag \u652f\u6301\uff0c\u9ed8\u8ba4\u4e3a <code>true</code></p> <pre><code>etag-support: true\n</code></pre>"},{"location":"config/sub-rule/","title":"SUB-RULE","text":"<pre><code>sub-rules:\n  rule1:\n    - DOMAIN-SUFFIX,baidu.com,DIRECT\n    - MATCH,PROXY\n  sub-rule2:\n    - IP-CIDR,1.1.1.1/32,REJECT\n    - IP-CIDR,8.8.8.8/32,ss1\n    - DOMAIN,dns.alidns.com,REJECT\n</code></pre>"},{"location":"config/tunnels/","title":"TUNNEL","text":"<p>\u6d41\u91cf\u8f6c\u53d1\u96a7\u9053\uff0c\u53ef\u4ee5\u8f6c\u53d1 tcp/udp \u6d41\u91cf\uff0c\u4e5f\u53ef\u7ecf\u8fc7\u4ee3\u7406\u8f6c\u53d1</p> <pre><code>tunnels:\n- tcp/udp,127.0.0.1:6553,114.114.114.114:53,proxy\n- network: [tcp, udp]\n  address: 127.0.0.1:7777\n  target: target.com\n  proxy: proxy\n</code></pre>"},{"location":"config/tunnels/#_1","title":"\u5355\u884c","text":"<pre><code>tunnels:\n- tcp/udp,127.0.0.1:6553,8.8.8.8:53,proxy\n</code></pre>"},{"location":"config/tunnels/#_2","title":"\u591a\u884c","text":"<pre><code>tunnels:\n- network: [tcp, udp]\n  address: 127.0.0.1:6553\n  target: 8.8.8.8:53\n  proxy: proxy\n</code></pre> <p>\u5355\u884c\u987a\u5e8f\u5206\u522b\u5bf9\u5e94\u591a\u884c\u7684 <code>network</code>/<code>address</code>/<code>target</code>/<code>proxy</code></p>"},{"location":"config/tunnels/#network","title":"network","text":"<p>\u9700\u8981\u76d1\u542c\u7684\u7f51\u7edc\u7c7b\u578b\uff0c\u53ef\u4e3a tcp/udp</p>"},{"location":"config/tunnels/#address","title":"address","text":"<p>\u672c\u5730\u76d1\u542c\u5730\u5740</p>"},{"location":"config/tunnels/#target","title":"target","text":"<p>\u8f6c\u53d1\u7684\u76ee\u6807\u5730\u5740</p>"},{"location":"config/tunnels/#proxy","title":"proxy","text":"<p>\u53ef\u9009\u9879\uff0c\u7ecf\u8fc7\u67d0\u4e2a <code>proxies</code>/<code>proxy-groups</code> \u53d1\u9001\u6d41\u91cf</p> <p>\u5982\u4e0a\u793a\u4f8b\u4e3a   \u8bbf\u95ee<code>127.0.0.1:6553</code>\u4e3a\u7ecf\u8fc7<code>proxy</code>\u8fd9\u4e2a<code>proxies</code>/<code>proxy-groups</code>\u8bbf\u95ee<code>8.8.8.8:53</code></p>"},{"location":"config/dns/","title":"DNS","text":"<pre><code>dns:\n  enable: true\n  prefer-h3: false\n  use-hosts: true\n  use-system-hosts: true\n  respect-rules: false\n  listen: 0.0.0.0:1053\n  ipv6: false\n  default-nameserver:\n    - 223.5.5.5\n  enhanced-mode: fake-ip\n  fake-ip-range: 198.18.0.1/16\n  fake-ip-filter-mode: blacklist\n  fake-ip-filter:\n    - '*.lan'\n  nameserver-policy:\n    '+.arpa': '10.0.0.1'\n    'rule-set:cn':\n    - https://doh.pub/dns-query\n    - https://dns.alidns.com/dns-query\n  nameserver:\n    - https://doh.pub/dns-query\n    - https://dns.alidns.com/dns-query\n  fallback:\n    - tls://8.8.4.4\n    - tls://1.1.1.1\n  proxy-server-nameserver:\n    - https://doh.pub/dns-query\n  direct-nameserver:\n    - system\n  direct-nameserver-follow-policy: false\n  fallback-filter:\n    geoip: true\n    geoip-code: CN\n    geosite:\n      - gfw\n    ipcidr:\n      - 240.0.0.0/4\n    domain:\n      - '+.google.com'\n      - '+.facebook.com'\n      - '+.youtube.com'\n</code></pre>"},{"location":"config/dns/#enable","title":"enable","text":"<p>\u662f\u5426\u542f\u7528\uff0c\u5982\u4e3a false\uff0c\u5219\u4f7f\u7528\u7cfb\u7edf DNS \u89e3\u6790</p>"},{"location":"config/dns/#prefer-h3","title":"prefer-h3","text":"<p>DOH \u4f18\u5148\u4f7f\u7528 http/3</p>"},{"location":"config/dns/#listen","title":"listen","text":"<p>DNS \u670d\u52a1\u76d1\u542c\uff0c\u4ec5\u652f\u6301 udp</p>"},{"location":"config/dns/#ipv6","title":"IPV6","text":"<p>\u662f\u5426\u89e3\u6790 IPV6, \u5982\u4e3a false, \u5219\u56de\u5e94 AAAA \u7684\u7a7a\u89e3\u6790</p>"},{"location":"config/dns/#enhanced-mode","title":"enhanced-mode","text":"<p>\u53ef\u9009\u503c <code>fake-ip</code>/<code>redir-host</code>\uff0c\u9ed8\u8ba4<code>redir-host</code></p> <p>mihomo \u7684 DNS \u5904\u7406\u6a21\u5f0f</p>"},{"location":"config/dns/#fake-ip-range","title":"fake-ip-range","text":"<p>fakeip \u4e0b\u7684 IP \u6bb5\u8bbe\u7f6e\uff0ctun \u7684\u9ed8\u8ba4 IPV4 \u5730\u5740 \u4e5f\u4f7f\u7528\u6b64\u503c\u4f5c\u4e3a\u53c2\u8003</p>"},{"location":"config/dns/#fake-ip-filter","title":"fake-ip-filter","text":"<p>fakeip \u8fc7\u6ee4\uff0c\u4ee5\u4e0b\u5730\u5740\u4e0d\u4f1a\u4e0b\u53d1 fakeip \u6620\u5c04\u7528\u4e8e\u8fde\u63a5</p> <p>\u503c\u652f\u6301\u57df\u540d\u901a\u914d\u4ee5\u53ca\u5f15\u5165\u57df\u540d\u96c6\u5408</p>"},{"location":"config/dns/#fake-ip-filter-mode-blacklist","title":"fake-ip-filter-mode: blacklist","text":"<p>\u53ef\u9009 <code>blacklist</code>/<code>whitelist</code>\uff0c\u9ed8\u8ba4<code>blacklist``\uff0cwhitelist</code> \u5373\u53ea\u6709\u5339\u914d\u6210\u529f\u624d\u8fd4\u56de fake-ip</p>"},{"location":"config/dns/#use-hosts","title":"use-hosts","text":"<p>\u662f\u5426\u56de\u5e94\u914d\u7f6e\u4e2d\u7684 hosts\uff0c\u9ed8\u8ba4 true</p>"},{"location":"config/dns/#use-system-hosts","title":"use-system-hosts","text":"<p>\u662f\u5426\u67e5\u8be2\u7cfb\u7edf hosts\uff0c\u9ed8\u8ba4 true</p>"},{"location":"config/dns/#respect-rules","title":"respect-rules","text":"<p>dns \u8fde\u63a5\u9075\u5b88\u8def\u7531\u89c4\u5219\uff0c\u9700\u914d\u7f6e proxy-server-nameserver</p>"},{"location":"config/dns/#default-nameserver","title":"default-nameserver","text":"<p>\u9ed8\u8ba4 DNS, \u7528\u4e8e\u89e3\u6790 DNS \u670d\u52a1\u5668 \u7684\u57df\u540d</p> <p>\u5fc5\u987b\u4e3a IP, \u53ef\u4e3a\u52a0\u5bc6 DNS</p>"},{"location":"config/dns/#nameserver-policy","title":"nameserver-policy","text":"<p>\u6307\u5b9a\u57df\u540d\u67e5\u8be2\u7684\u89e3\u6790\u670d\u52a1\u5668\uff0c\u53ef\u4f7f\u7528 geosite, \u4f18\u5148\u4e8e <code>nameserver/fallback \u67e5\u8be2</code></p> <p>\u952e\u652f\u6301\u57df\u540d\u901a\u914d</p> <p>\u503c\u652f\u6301\u5b57\u7b26\u4e32/\u6570\u7ec4</p>"},{"location":"config/dns/#proxy-server-nameserver","title":"proxy-server-nameserver","text":"<p>\u4ee3\u7406\u8282\u70b9\u57df\u540d\u89e3\u6790\u670d\u52a1\u5668\uff0c\u4ec5\u7528\u4e8e\u89e3\u6790\u4ee3\u7406\u8282\u70b9\u7684\u57df\u540d\uff0c\u5982\u679c\u4e0d\u586b\u5219\u9075\u5faanameserver-policy\u3001nameserver\u548cfallback\u7684\u914d\u7f6e</p>"},{"location":"config/dns/#direct-nameserver","title":"direct-nameserver","text":"<p>\u7528\u4e8edirect\u51fa\u53e3\u57df\u540d\u89e3\u6790\u7684 DNS \u670d\u52a1\u5668\uff0c\u5982\u679c\u4e0d\u586b\u5219\u9075\u5faanameserver-policy\u3001nameserver\u548cfallback\u7684\u914d\u7f6e</p>"},{"location":"config/dns/#direct-nameserver-follow-policy","title":"direct-nameserver-follow-policy","text":"<p>\u662f\u5426\u9075\u5faanameserver-policy\uff0c\u9ed8\u8ba4\u4e3a\u4e0d\u9075\u5b88\uff0c\u4ec5\u5f53direct-nameserver\u4e0d\u4e3a\u7a7a\u65f6\u751f\u6548</p>"},{"location":"config/dns/#nameserver","title":"nameserver","text":"<p>\u9ed8\u8ba4\u7684\u57df\u540d\u89e3\u6790\u670d\u52a1\u5668</p>"},{"location":"config/dns/#fallback","title":"fallback","text":"<p>\u540e\u5907\u57df\u540d\u89e3\u6790\u670d\u52a1\u5668\uff0c\u4e00\u822c\u60c5\u51b5\u4e0b\u4f7f\u7528\u5883\u5916 DNS, \u4fdd\u8bc1\u7ed3\u679c\u53ef\u4fe1</p> <p>\u914d\u7f6e <code>fallback</code>\u540e\u9ed8\u8ba4\u542f\u7528 <code>fallback-filter</code>,<code>geoip-code</code>\u4e3a cn</p>"},{"location":"config/dns/#fallback-filter","title":"fallback-filter","text":"<p>\u540e\u5907\u57df\u540d\u89e3\u6790\u670d\u52a1\u5668\u7b5b\u9009\uff0c\u6ee1\u8db3\u6761\u4ef6\u7684\u5c06\u4f7f\u7528 <code>fallback</code>\u7ed3\u679c\u6216\u53ea\u4f7f\u7528 <code>fallback</code>\u89e3\u6790</p>"},{"location":"config/dns/#geoip","title":"geoip","text":"<p>\u662f\u5426\u542f\u7528 geoip \u5224\u65ad</p>"},{"location":"config/dns/#geoip-code","title":"geoip-code","text":"<p>\u53ef\u9009\u503c\u4e3a \u56fd\u5bb6\u7f29\u5199\uff0c\u9ed8\u8ba4\u503c\u4e3a <code>CN</code></p> <p>\u9664\u4e86 <code>geoip-code</code> \u914d\u7f6e\u7684\u56fd\u5bb6 IP, \u5176\u4ed6\u7684 IP \u7ed3\u679c\u4f1a\u88ab\u89c6\u4e3a\u6c61\u67d3</p> <p><code>geoip-code</code> \u914d\u7f6e\u7684\u56fd\u5bb6\u7684\u7ed3\u679c\u4f1a\u76f4\u63a5\u91c7\u7528\uff0c\u5426\u5219\u5c06\u91c7\u7528 <code>fallback</code>\u7ed3\u679c</p>"},{"location":"config/dns/#geosite","title":"geosite","text":"<p>\u53ef\u9009\u503c\u4e3a\u5bf9\u4e8e\u7684 geosite \u5185\u5305\u542b\u7684\u96c6\u5408</p> <p>geosite \u5217\u8868\u7684\u5185\u5bb9\u88ab\u89c6\u4e3a\u5df2\u6c61\u67d3\uff0c\u5339\u914d\u5230 geosite \u7684\u57df\u540d\uff0c\u5c06\u53ea\u4f7f\u7528 <code>fallback</code>\u89e3\u6790\uff0c\u4e0d\u53bb\u4f7f\u7528 <code>nameserver</code></p>"},{"location":"config/dns/#ipcidr","title":"ipcidr","text":"<p>\u4e66\u5199\u5185\u5bb9\u4e3a <code>IP/\u63a9\u7801</code></p> <p>\u8fd9\u4e9b\u7f51\u6bb5\u7684\u7ed3\u679c\u4f1a\u88ab\u89c6\u4e3a\u6c61\u67d3\uff0c<code>nameserver</code>\u89e3\u6790\u51fa\u8fd9\u4e9b\u7ed3\u679c\u65f6\u5c06\u4f1a\u91c7\u7528 <code>fallback</code>\u7684\u89e3\u6790\u7ed3\u679c</p>"},{"location":"config/dns/#domain","title":"domain","text":"<p>\u8fd9\u4e9b\u57df\u540d\u88ab\u89c6\u4e3a\u5df2\u6c61\u67d3\uff0c\u5339\u914d\u5230\u8fd9\u4e9b\u57df\u540d\uff0c\u4f1a\u76f4\u63a5\u4f7f\u7528 <code>fallback</code>\u89e3\u6790\uff0c\u4e0d\u53bb\u4f7f\u7528 <code>nameserver</code></p>"},{"location":"config/dns/#_1","title":"\u9644\u52a0\u53c2\u6570","text":"<p>\u6b64\u90e8\u5206\u53ef\u7528\u4e8e\u53d1\u5411\u516c\u7f51\u5730\u5740\u7684 DNS \u670d\u52a1\u5668\uff0c\u4f7f\u7528<code>#</code>\u9644\u52a0\uff0c\u4f7f\u7528<code>&amp;</code>\u8fde\u63a5\u4e0d\u540c\u7684\u53c2\u6570</p>"},{"location":"config/dns/#dns_1","title":"DNS \u6307\u5b9a \u4ee3\u7406/\u63a5\u53e3 \u8fdb\u884c\u8fde\u63a5","text":"<p>\u4f18\u5148\u4f7f\u7528\u5df2\u6709\u4ee3\u7406\uff0c\u5982\u679c\u4e0d\u5b58\u5728\u8be5\u540d\u79f0\u7684\u4ee3\u7406\u5219\u6307\u5b9a\u63a5\u53e3\u8fde\u63a5</p> <p><code>#RULES</code>\u4e3a\u9075\u5b88\u8def\u7531\u89c4\u5219\u8fdb\u884c\u8fde\u63a5\uff0c\u7b49\u540c\u4e8erespect-rules</p> <p>\u5982\u9700\u7ecf\u8fc7\u4ee3\u7406\u67e5\u8be2\uff0c\u5e94\u914d\u7f6e <code>proxy-server-nameserver</code>, \u4ee5\u9632\u51fa\u73b0\u9e21\u86cb\u95ee\u9898</p> <pre><code>nameserver:\n  - 'tls://dns.google#proxy'\n  - 'tls://dns.alidns.com#eth0'\n</code></pre>"},{"location":"config/dns/#http3","title":"\u5f3a\u5236 HTTP/3","text":"<p>\u6b64\u9009\u9879\u4e0e <code>perfer-h3</code> \u4e0d\u51b2\u7a81\uff0c\u586b\u5199\u540e\u5f3a\u5236\u542f\u7528 HTTP/3 \u5efa\u7acb DOH \u8fde\u63a5\uff0c\u4f7f\u7528\u524d\u9700\u786e\u4fdd DOH \u670d\u52a1\u5668\u652f\u6301 HTTP/3</p> <pre><code>nameserver:\n  - 'https://dns.cloudflare.com/dns-query#h3=true'\n</code></pre>"},{"location":"config/dns/#doh","title":"doh \u8df3\u8fc7\u8bc1\u4e66\u9a8c\u8bc1","text":"<pre><code>nameserver:\n  - 'https://dns.cloudflare.com/dns-query#skip-cert-verify=true'\n</code></pre>"},{"location":"config/dns/#ecs","title":"ecs","text":"<p>\u6307\u5b9a dns \u67e5\u8be2\u7684 subnet \u5730\u5740\uff0c\u4ec5\u652f\u6301 doh</p> <pre><code>nameserver:\n  - 'https://8.8.8.8/dns-query#ecs=1.1.1.1/24'\n</code></pre>"},{"location":"config/dns/#ecs-override","title":"ecs-override","text":"<p>\u5f3a\u5236\u8986\u76d6 dns \u67e5\u8be2\u7684 subnet \u5730\u5740\uff0c\u4ec5\u652f\u6301 doh</p> <pre><code>nameserver:\n  - 'https://8.8.8.8/dns-query#ecs=1.1.1.1/24&amp;ecs-override=true'\n</code></pre>"},{"location":"config/dns/diagram/","title":"\u89e3\u6790\u6d41\u7a0b","text":"<p>\u4ee5\u4e0b\u662f\u4e24\u79cd\u5e38\u89c1\u7684 DNS \u914d\u7f6e\uff1a</p> <pre><code>dns:\n  ...\n  ipv6: true\n  enhanced-mode: redir-host / fake-ip\n  fake-ip-range: 28.0.0.1/8\n  fake-ip-filter:\n    - '*'\n    - '+.lan'\n  nameserver:\n    - https://doh.pub/dns-query\n  fallback:\n    - https://8.8.8.8/dns-query\n  nameserver-policy:\n    \"geosite:cn,private\":\n      - https://doh.pub/dns-query\n      - https://dns.alidns.com/dns-query\n</code></pre> <p>\u6b64\u6d41\u7a0b\u56fe\u4e3a\u4e86\u66f4\u76f4\u89c2\u548c\u7b80\u5355\u5730\u8bf4\u660e Clash.Meta \u7684 DNS \u5de5\u4f5c\u6d41\u7a0b\uff0c\u5ffd\u7565\u4e86 Clash \u5185\u90e8\u7684 DNS \u6620\u5c04\u5904\u7406\u3002</p> <pre><code>flowchart TD\n  Start[\u5ba2\u6237\u7aef\u53d1\u8d77\u8bf7\u6c42] --&gt; rule[\u5339\u914d\u89c4\u5219]\n  rule --&gt;  Domain[\u5339\u914d\u5230\u57fa\u4e8e\u57df\u540d\u7684\u89c4\u5219]\n  rule --&gt; IP[\u5339\u914d\u5230\u57fa\u4e8e IP \u7684\u89c4\u5219]\n\n  Domain --&gt; |\u57df\u540d\u5339\u914d\u5230\u76f4\u8fde\u89c4\u5219|DNS\n  IP --&gt; DNS[\u901a\u8fc7 Clash DNS \u89e3\u6790\u57df\u540d]\n\n\n  Domain --&gt; |\u57df\u540d\u5339\u914d\u5230\u4ee3\u7406\u89c4\u5219|Remote[\u901a\u8fc7\u4ee3\u7406\u670d\u52a1\u5668\u89e3\u6790\u57df\u540d\u5e76\u5efa\u7acb\u8fde\u63a5]\n\n  Cache --&gt; |Redir-host/FakeIP-Direct \u672a\u547d\u4e2d|NS[\u5339\u914d nameserver-policy \u5e76\u67e5\u8be2 ]\n  Cache --&gt; |Cache \u547d\u4e2d|Get\n  Cache --&gt; |FakeIP \u672a\u547d\u4e2d,\u4ee3\u7406\u57df\u540d|Remote\n\n  NS --&gt; |\u5339\u914d\u6210\u529f| Get[\u5c06\u67e5\u8be2\u5230\u7684 IP \u7528\u4e8e\u5339\u914d IP \u89c4\u5219]\n  NS --&gt; |\u6ca1\u5339\u914d\u5230| NF[nameserver/fallback \u5e76\u53d1\u67e5\u8be2]\n\n  NF --&gt; Get[\u67e5\u8be2\u5f97\u5230 IP]\n  Get --&gt; |\u7f13\u5b58 DNS \u7ed3\u679c|Cache[(Cache)]\n  Get --&gt; S[\u901a\u8fc7 IP \u76f4\u63a5/\u901a\u8fc7\u4ee3\u7406\u5efa\u7acb\u8fde\u63a5]\n\n  DNS --&gt; Redir-host/FakeIP\n  Redir-host/FakeIP --&gt; |\u67e5\u8be2 DNS \u7f13\u5b58|Cache\n\n\n</code></pre>"},{"location":"config/dns/hosts/","title":"hosts","text":"<pre><code>hosts:\n  '*.clash.dev': 127.0.0.1\n  'alpha.clash.dev': '::1'\n  test.com: [1.1.1.1, 2.2.2.2]\n  baidu.com: google.com\n</code></pre> <p>\u952e\u652f\u6301\u57df\u540d\u901a\u914d</p> <p>\u503c\u652f\u6301\u5b57\u7b26\u4e32/\u6570\u7ec4\uff0c\u57df\u540d\u91cd\u5b9a\u5411\u4e0d\u652f\u6301\u6570\u7ec4</p> <p>Note</p> <p>\u5b8c\u6574\u7684\u7684\u57df\u540d\u4f18\u5148\u7ea7\u9ad8\u4e8e\u4f7f\u7528\u901a\u914d\u7b26\u7684\u57df\u540d\uff0c\u4f8b\u5982\uff1afoo.example.com &gt; *.example.com &gt; .example.com</p>"},{"location":"config/dns/type/","title":"\u652f\u6301\u7684\u7c7b\u578b","text":""},{"location":"config/dns/type/#udp","title":"UDP","text":"<pre><code>- 223.5.5.5\n- udp://223.5.5.5\n</code></pre>"},{"location":"config/dns/type/#tcp","title":"TCP","text":"<pre><code>- tcp://8.8.8.8\n</code></pre>"},{"location":"config/dns/type/#dns-over-tls","title":"DNS over TLS","text":"<pre><code>- tls://1.1.1.1\n</code></pre>"},{"location":"config/dns/type/#dns-over-https","title":"DNS over HTTPS","text":"<pre><code>- https://doh.pub/dns-query\n</code></pre>"},{"location":"config/dns/type/#dns-over-quic","title":"DNS over QUIC","text":"<pre><code>- quic://dns.adguard.com:784\n</code></pre>"},{"location":"config/dns/type/#system","title":"system","text":"<pre><code>- system://\n- system\n</code></pre>"},{"location":"config/dns/type/#dhcp","title":"dhcp","text":"<pre><code>- dhcp://en0\n</code></pre> <p>\u4ec5\u9650 cmfa\uff0c\u4f7f\u7528\u7cfb\u7edf dns</p> <pre><code>- dhcp://system\n</code></pre>"},{"location":"config/dns/type/#rcode","title":"rcode","text":"<pre><code>- rcode://success            # No error\n- rcode://format_error       # Format error\n- rcode://server_failure     # Server failure\n- rcode://name_error         # Non-existent domain\n- rcode://not_implemented    # Not implemented\n- rcode://refused            # Query refused\n</code></pre>"},{"location":"config/inbound/","title":"Index","text":"<p>Clash.Meta \u4f7f\u7528\u6d41\u91cf\u5165\u7ad9\uff0c\u53ef\u4ee5\u4f5c\u4e3a\u670d\u52a1\u5668\u3002</p>"},{"location":"config/inbound/#_1","title":"\u5c40\u57df\u7f51\u5165\u7ad9","text":"<p>\u7528\u4e8e\u76d1\u542c\u5c40\u57df\u7f51\u6d41\u91cf\u7684\u5165\u7ad9\uff0c\u9002\u7528\u4e8e\u65e0\u52a0\u5bc6\u4f20\u8f93\uff1a</p> <pre><code>listeners:\n  - name: socks5-in-1\n    type: socks\n    port: 10808\n    #listen: 0.0.0.0 # \u9ed8\u8ba4\u76d1\u542c 0.0.0.0\n    # rule: sub-rule-name1 # \u9ed8\u8ba4\u4f7f\u7528 rules,\u5982\u679c\u672a\u627e\u5230 sub-rule \u5219\u76f4\u63a5\u4f7f\u7528 rules\n    # proxy: proxy # \u5982\u679c\u4e0d\u4e3a\u7a7a\u5219\u76f4\u63a5\u5c06\u8be5\u5165\u7ad9\u6d41\u91cf\u4ea4\u7531\u6307\u5b9aproxy\u5904\u7406\n    # udp: false # \u9ed8\u8ba4 true\n\n  - name: http-in-1\n    type: http\n    port: 10809\n    listen: 0.0.0.0\n    # rule: sub-rule-name1 # \u9ed8\u8ba4\u4f7f\u7528 rules,\u5982\u679c\u672a\u627e\u5230 sub-rule \u5219\u76f4\u63a5\u4f7f\u7528 rules\n    # proxy: proxy # \u5982\u679c\u4e0d\u4e3a\u7a7a\u5219\u76f4\u63a5\u5c06\u8be5\u5165\u7ad9\u6d41\u91cf\u4ea4\u7531\u6307\u5b9aproxy\u5904\u7406(\u5f53proxy\u4e0d\u4e3a\u7a7a\u65f6,\u8fd9\u91cc\u7684proxy\u540d\u79f0\u5fc5\u987b\u5408\u6cd5,\u5426\u5219\u4f1a\u51fa\u9519)\n\n  - name: mixed-in-1\n    type: mixed #  HTTP(S) \u548c SOCKS \u4ee3\u7406\u6df7\u5408\n    port: 10810\n    listen: 0.0.0.0\n    # rule: sub-rule-name1 # \u9ed8\u8ba4\u4f7f\u7528 rules,\u5982\u679c\u672a\u627e\u5230 sub-rule \u5219\u76f4\u63a5\u4f7f\u7528 rules\n    # proxy: proxy # \u5982\u679c\u4e0d\u4e3a\u7a7a\u5219\u76f4\u63a5\u5c06\u8be5\u5165\u7ad9\u6d41\u91cf\u4ea4\u7531\u6307\u5b9aproxy\u5904\u7406(\u5f53proxy\u4e0d\u4e3a\u7a7a\u65f6,\u8fd9\u91cc\u7684proxy\u540d\u79f0\u5fc5\u987b\u5408\u6cd5,\u5426\u5219\u4f1a\u51fa\u9519)\n    # udp: false # \u9ed8\u8ba4 true\n\n  - name: reidr-in-1\n    type: redir\n    port: 10811\n    listen: 0.0.0.0\n    # rule: sub-rule-name1 # \u9ed8\u8ba4\u4f7f\u7528 rules,\u5982\u679c\u672a\u627e\u5230 sub-rule \u5219\u76f4\u63a5\u4f7f\u7528 rules\n    # proxy: proxy # \u5982\u679c\u4e0d\u4e3a\u7a7a\u5219\u76f4\u63a5\u5c06\u8be5\u5165\u7ad9\u6d41\u91cf\u4ea4\u7531\u6307\u5b9aproxy\u5904\u7406(\u5f53proxy\u4e0d\u4e3a\u7a7a\u65f6,\u8fd9\u91cc\u7684proxy\u540d\u79f0\u5fc5\u987b\u5408\u6cd5,\u5426\u5219\u4f1a\u51fa\u9519)\n\n  - name: tproxy-in-1\n    type: tproxy\n    port: 10812\n    listen: 0.0.0.0\n    # rule: sub-rule-name1 # \u9ed8\u8ba4\u4f7f\u7528 rules,\u5982\u679c\u672a\u627e\u5230 sub-rule \u5219\u76f4\u63a5\u4f7f\u7528 rules\n    # proxy: proxy # \u5982\u679c\u4e0d\u4e3a\u7a7a\u5219\u76f4\u63a5\u5c06\u8be5\u5165\u7ad9\u6d41\u91cf\u4ea4\u7531\u6307\u5b9aproxy\u5904\u7406(\u5f53proxy\u4e0d\u4e3a\u7a7a\u65f6,\u8fd9\u91cc\u7684proxy\u540d\u79f0\u5fc5\u987b\u5408\u6cd5,\u5426\u5219\u4f1a\u51fa\u9519)\n    # udp: false # \u9ed8\u8ba4 true\n\n  - name: tunnel-in-1\n    type: tunnel\n    port: 10816\n    listen: 0.0.0.0\n    # rule: sub-rule-name1 # \u9ed8\u8ba4\u4f7f\u7528 rules,\u5982\u679c\u672a\u627e\u5230 sub-rule \u5219\u76f4\u63a5\u4f7f\u7528 rules\n    # proxy: proxy # \u5982\u679c\u4e0d\u4e3a\u7a7a\u5219\u76f4\u63a5\u5c06\u8be5\u5165\u7ad9\u6d41\u91cf\u4ea4\u7531\u6307\u5b9aproxy\u5904\u7406(\u5f53proxy\u4e0d\u4e3a\u7a7a\u65f6,\u8fd9\u91cc\u7684proxy\u540d\u79f0\u5fc5\u987b\u5408\u6cd5,\u5426\u5219\u4f1a\u51fa\u9519)\n    network: [tcp, udp]\n    target: target.com\n\n  - name: tun-in-1\n    type: tun\n    # rule: sub-rule-name1 # \u9ed8\u8ba4\u4f7f\u7528 rules,\u5982\u679c\u672a\u627e\u5230 sub-rule \u5219\u76f4\u63a5\u4f7f\u7528 rules\n    # proxy: proxy # \u5982\u679c\u4e0d\u4e3a\u7a7a\u5219\u76f4\u63a5\u5c06\u8be5\u5165\u7ad9\u6d41\u91cf\u4ea4\u7531\u6307\u5b9aproxy\u5904\u7406(\u5f53proxy\u4e0d\u4e3a\u7a7a\u65f6,\u8fd9\u91cc\u7684proxy\u540d\u79f0\u5fc5\u987b\u5408\u6cd5,\u5426\u5219\u4f1a\u51fa\u9519)\n    stack: system # gvisor / lwip\n    dns-hijack:\n      - 0.0.0.0:53 # \u9700\u8981\u52ab\u6301\u7684 DNS\n    # auto-detect-interface: false # \u81ea\u52a8\u8bc6\u522b\u51fa\u53e3\u7f51\u5361\n    # auto-route: false # \u914d\u7f6e\u8def\u7531\u8868\n    # mtu: 9000 # \u6700\u5927\u4f20\u8f93\u5355\u5143\n    inet4-address: # \u5fc5\u987b\u624b\u52a8\u8bbe\u7f6eipv4\u5730\u5740\u6bb5\n      - 198.19.0.1/30\n    inet6-address: # \u5fc5\u987b\u624b\u52a8\u8bbe\u7f6eipv6\u5730\u5740\u6bb5\n      - \"fdfe:dcba:9877::1/126\"\n    # strict-route: true # \u5c06\u6240\u6709\u8fde\u63a5\u8def\u7531\u5230tun\u6765\u9632\u6b62\u6cc4\u6f0f,\u4f46\u4f60\u7684\u8bbe\u5907\u5c06\u65e0\u6cd5\u5176\u4ed6\u8bbe\u5907\u88ab\u8bbf\u95ee\n    #    inet4-route-address: # \u542f\u7528 auto-route \u65f6\u4f7f\u7528\u81ea\u5b9a\u4e49\u8def\u7531\u800c\u4e0d\u662f\u9ed8\u8ba4\u8def\u7531\n    #      - 0.0.0.0/1\n    #      - 128.0.0.0/1\n    #    inet6-route-address: # \u542f\u7528 auto-route \u65f6\u4f7f\u7528\u81ea\u5b9a\u4e49\u8def\u7531\u800c\u4e0d\u662f\u9ed8\u8ba4\u8def\u7531\n    #      - \"::/1\"\n    #      - \"8000::/1\"\n    # endpoint-independent-nat: false # \u542f\u7528\u72ec\u7acb\u4e8e\u7aef\u70b9\u7684 NAT\n    # include-uid: # UID \u89c4\u5219\u4ec5\u5728 Linux \u4e0b\u88ab\u652f\u6301,\u5e76\u4e14\u9700\u8981 auto-route\n    # - 0\n    # include-uid-range: # \u9650\u5236\u88ab\u8def\u7531\u7684\u7684\u7528\u6237\u8303\u56f4\n    # - 1000-99999\n    # exclude-uid: # \u6392\u9664\u8def\u7531\u7684\u7684\u7528\u6237\n    #- 1000\n    # exclude-uid-range: # \u6392\u9664\u8def\u7531\u7684\u7684\u7528\u6237\u8303\u56f4\n    # - 1000-99999\n\n    # Android \u7528\u6237\u548c\u5e94\u7528\u89c4\u5219\u4ec5\u5728 Android \u4e0b\u88ab\u652f\u6301\n    # \u5e76\u4e14\u9700\u8981 auto-route\n\n    # include-android-user: # \u9650\u5236\u88ab\u8def\u7531\u7684 Android \u7528\u6237\n    # - 0\n    # - 10\n    # include-package: # \u9650\u5236\u88ab\u8def\u7531\u7684 Android \u5e94\u7528\u5305\u540d\n    # - com.android.chrome\n    # exclude-package: # \u6392\u9664\u88ab\u8def\u7531\u7684 Android \u5e94\u7528\u5305\u540d\n    # - com.android.captiveportallogin\n</code></pre>"},{"location":"config/inbound/#_2","title":"\u4e92\u8054\u7f51\u5165\u7ad9","text":"<p>\u7528\u4e8e\u52a0\u5bc6\u4f20\u8f93\u6d41\u91cf\u7684\u5165\u7ad9\u5982\u4e0b\uff1a</p> <pre><code>listeners:\n  - name: shadowsocks-in-1\n    type: shadowsocks\n    port: 10813\n    listen: 0.0.0.0\n    # rule: sub-rule-name1 # \u9ed8\u8ba4\u4f7f\u7528 rules,\u5982\u679c\u672a\u627e\u5230 sub-rule \u5219\u76f4\u63a5\u4f7f\u7528 rules\n    # proxy: proxy # \u5982\u679c\u4e0d\u4e3a\u7a7a\u5219\u76f4\u63a5\u5c06\u8be5\u5165\u7ad9\u6d41\u91cf\u4ea4\u7531\u6307\u5b9aproxy\u5904\u7406(\u5f53proxy\u4e0d\u4e3a\u7a7a\u65f6,\u8fd9\u91cc\u7684proxy\u540d\u79f0\u5fc5\u987b\u5408\u6cd5,\u5426\u5219\u4f1a\u51fa\u9519)\n    password: vlmpIPSyHH6f4S8WVPdRIHIlzmB+GIRfoH3aNJ/t9Gg=\n    cipher: 2022-blake3-aes-256-gcm\n\n  - name: vmess-in-1\n    type: vmess\n    port: 10814\n    listen: 0.0.0.0\n    # rule: sub-rule-name1 # \u9ed8\u8ba4\u4f7f\u7528 rules,\u5982\u679c\u672a\u627e\u5230 sub-rule \u5219\u76f4\u63a5\u4f7f\u7528 rules\n    # proxy: proxy # \u5982\u679c\u4e0d\u4e3a\u7a7a\u5219\u76f4\u63a5\u5c06\u8be5\u5165\u7ad9\u6d41\u91cf\u4ea4\u7531\u6307\u5b9aproxy\u5904\u7406(\u5f53proxy\u4e0d\u4e3a\u7a7a\u65f6,\u8fd9\u91cc\u7684proxy\u540d\u79f0\u5fc5\u987b\u5408\u6cd5,\u5426\u5219\u4f1a\u51fa\u9519)\n    users:\n      - username: 1\n        uuid: 9d0cb9d0-964f-4ef6-897d-6c6b3ccf9e68\n        alterId: 1\n\n  - name: tuic-in-1\n    type: tuic\n    port: 10815\n    listen: 0.0.0.0\n    # rule: sub-rule-name1 # \u9ed8\u8ba4\u4f7f\u7528 rules\uff0c\u5982\u679c\u672a\u627e\u5230 sub-rule \u5219\u76f4\u63a5\u4f7f\u7528 rules\n    # proxy: proxy # \u5982\u679c\u4e0d\u4e3a\u7a7a\u5219\u76f4\u63a5\u5c06\u8be5\u5165\u7ad9\u6d41\u91cf\u4ea4\u7531\u6307\u5b9aproxy\u5904\u7406(\u5f53proxy\u4e0d\u4e3a\u7a7a\u65f6\uff0c\u8fd9\u91cc\u7684proxy\u540d\u79f0\u5fc5\u987b\u5408\u6cd5\uff0c\u5426\u5219\u4f1a\u51fa\u9519)\n    # token:    # tuicV4\u586b\u5199\uff08\u4e0d\u53ef\u540c\u65f6\u586b\u5199users\uff09\n    #   - TOKEN\n    # users:    # tuicV5\u586b\u5199\uff08\u4e0d\u53ef\u540c\u65f6\u586b\u5199token\uff09\n    #   00000000-0000-0000-0000-000000000000: PASSWORD-0\n    #   00000000-0000-0000-0000-000000000001: PASSWORD-1\n    #  certificate: ./server.crt\n    #  private-key: ./server.key\n    #  congestion-controller: bbr\n    #  max-idle-time: 15000\n    #  authentication-timeout: 1000\n    #  alpn:\n    #    - h3\n    #  max-udp-relay-packet-size: 1500\n</code></pre> <p>Note</p> <p>proxy \u5982\u679c\u4e0d\u4e3a\u7a7a\uff0c\u5219\u5c06\u8be5\u5165\u7ad9\u6d41\u91cf\u4ea4\u7531\u6307\u5b9aproxy\u5904\u7406</p> <p>rule \u5982\u679c\u5b9a\u4e49\u7684 \u5b50\u89c4\u5219 (sub-rule)\u4e0d\u5b58\u5728 \u5219\u76f4\u63a5\u4f7f\u7528 rules</p>"},{"location":"config/inbound/#_3","title":"\u5165\u53e3\u914d\u7f6e","text":"<p>\u5165\u53e3\u914d\u7f6e\u4e0e Listener \u7b49\u4ef7\uff0c\u4f20\u5165\u6d41\u91cf\u5c06\u548c socks,mixed \u7b49\u5165\u53e3\u4e00\u6837\u6309\u7167 mode \u6240\u6307\u5b9a\u7684\u65b9\u5f0f\u8fdb\u884c\u5339\u914d\u5904\u7406</p> <pre><code># shadowsocks,vmess \u5165\u53e3\u914d\u7f6e\uff08\u4f20\u5165\u6d41\u91cf\u5c06\u548csocks,mixed\u7b49\u5165\u53e3\u4e00\u6837\u6309\u7167mode\u6240\u6307\u5b9a\u7684\u65b9\u5f0f\u8fdb\u884c\u5339\u914d\u5904\u7406\uff09\nss-config: ss://2022-blake3-aes-256-gcm:vlmpIPSyHH6f4S8WVPdRIHIlzmB+GIRfoH3aNJ/t9Gg=@:23456\nvmess-config: vmess://1:9d0cb9d0-964f-4ef6-897d-6c6b3ccf9e68@:12345\n\n# tuic\u670d\u52a1\u5668\u5165\u53e3\uff08\u4f20\u5165\u6d41\u91cf\u5c06\u548csocks,mixed\u7b49\u5165\u53e3\u4e00\u6837\u6309\u7167mode\u6240\u6307\u5b9a\u7684\u65b9\u5f0f\u8fdb\u884c\u5339\u914d\u5904\u7406\uff09\ntuic-server:\n enable: true\n listen: 127.0.0.1:10443\n token:    # tuicV4\u586b\u5199\uff08\u4e0d\u53ef\u540c\u65f6\u586b\u5199users\uff09\n   - TOKEN\n users:    # tuicV5\u586b\u5199\uff08\u4e0d\u53ef\u540c\u65f6\u586b\u5199token\uff09\n   00000000-0000-0000-0000-000000000000: PASSWORD-0\n   00000000-0000-0000-0000-000000000001: PASSWORD-1\n certificate: ./server.crt\n private-key: ./server.key\n congestion-controller: bbr\n max-idle-time: 15000\n authentication-timeout: 1000\n alpn:\n   - h3\n max-udp-relay-packet-size: 1500\n</code></pre>"},{"location":"config/inbound/port/","title":"\u4ee3\u7406\u7aef\u53e3","text":"<p>http/socks/mixed\u7aef\u53e3\u9a8c\u8bc1\u4e0e\u5916\u90e8\u8bbf\u95ee</p>"},{"location":"config/inbound/port/#https","title":"http(s) \u4ee3\u7406\u7aef\u53e3","text":"<pre><code>port: 7890\n</code></pre>"},{"location":"config/inbound/port/#socks44a5","title":"socks4/4a/5 \u4ee3\u7406\u7aef\u53e3","text":"<pre><code>socks-port: 7891\n</code></pre>"},{"location":"config/inbound/port/#_2","title":"\u6df7\u5408\u7aef\u53e3","text":"<p>Node</p> <p>\u6df7\u5408\u7aef\u53e3\u662f\u4e00\u4e2a\u7279\u6b8a\u7684\u7aef\u53e3\uff0c\u5b83\u540c\u65f6\u652f\u6301 HTTP(S) \u548c SOCKS5 \u534f\u8bae\u3002\u60a8\u53ef\u4ee5\u4f7f\u7528\u4efb\u4f55\u652f\u6301 HTTP \u6216 SOCKS \u4ee3\u7406\u7684\u7a0b\u5e8f\u8fde\u63a5\u5230\u8fd9\u4e2a\u7aef\u53e3</p> <pre><code>mixed-port: 7892\n</code></pre>"},{"location":"config/inbound/port/#_3","title":"\u900f\u660e\u4ee3\u7406\u7aef\u53e3","text":"<p>Note</p> <p>redirect \u7aef\u53e3\u4ec5\u9650 Linux(Android) \u4ee5\u53ca macOS \u9002\u7528\uff0ctproxy \u7aef\u53e3\u4ec5\u9650 linux(Android) \u9002\u7528</p> <p>redirect \u900f\u660e\u4ee3\u7406\u7aef\u53e3\uff0c\u4ec5\u80fd\u4ee3\u7406 TCP \u6d41\u91cf</p> <pre><code>redir-port: 7893\n</code></pre> <p>tproxy \u900f\u660e\u4ee3\u7406\u7aef\u53e3\uff0c\u53ef\u4ee3\u7406 TCP \u4e0e UDP \u6d41\u91cf</p> <pre><code>tproxy-port: 7894\n</code></pre>"},{"location":"config/inbound/tun/","title":"TUN","text":"<pre><code>tun:\n  enable: true\n  stack: system\n  auto-route: true\n  auto-redirect: true\n  auto-detect-interface: true\n  dns-hijack:\n    - any:53\n    - tcp://any:53\n  device: utun0\n  mtu: 9000\n  strict-route: true\n  gso: true\n  gso-max-size: 65536\n  udp-timeout: 300\n  iproute2-table-index: 2022\n  iproute2-rule-index: 9000\n  endpoint-independent-nat: false\n  route-address-set:\n    - ruleset-1\n  route-exclude-address-set:\n    - ruleset-2\n  route-address:\n    - 0.0.0.0/1\n    - 128.0.0.0/1\n    - \"::/1\"\n    - \"8000::/1\"\n  route-exclude-address:\n  - 192.168.0.0/16\n  - fc00::/7\n  include-interface:\n  - eth0\n  exclude-interface:\n  - eth1\n  include-uid:\n  - 0\n  include-uid-range:\n  - 1000:9999\n  exclude-uid:\n  - 1000\n  exclude-uid-range:\n  - 1000:9999\n  include-android-user:\n  - 0\n  - 10\n  include-package:\n  - com.android.chrome\n  exclude-package:\n  - com.android.captiveportallogin\n\n## \u65e7\u5199\u6cd5\n  inet4-route-address:\n  - 0.0.0.0/1\n  - 128.0.0.0/1\n  inet6-route-address:\n  - \"::/1\"\n  - \"8000::/1\"\n  inet4-route-exclude-address:\n  - 192.168.0.0/16\n  inet6-route-exclude-address:\n  - fc00::/7\n</code></pre>"},{"location":"config/inbound/tun/#enable","title":"enable","text":"<p>\u542f\u7528 tun</p>"},{"location":"config/inbound/tun/#stack","title":"stack","text":"<p>tun \u6a21\u5f0f\u5806\u6808\uff0c\u5982\u65e0\u4f7f\u7528\u95ee\u9898\uff0c\u5efa\u8bae\u4f7f\u7528 <code>mixed</code>\u6808\uff0c\u9ed8\u8ba4 <code>gvisor</code></p> <p>\u53ef\u7528\u503c\uff1a <code>system/gvisor/mixed</code></p> <p>\u534f\u8bae\u6808\u4e4b\u95f4\u7684\u533a\u522b</p> <ul> <li><code>system</code> \u4f7f\u7528\u7cfb\u7edf\u534f\u8bae\u6808\uff0c\u53ef\u4ee5\u63d0\u4f9b\u66f4\u7a33\u5b9a/\u5168\u9762\u7684 tun \u4f53\u9a8c\uff0c\u4e14\u5360\u7528\u76f8\u5bf9\u5176\u4ed6\u5806\u6808\u66f4\u4f4e</li> <li><code>gvisor</code> \u901a\u8fc7\u5728\u7528\u6237\u7a7a\u95f4\u4e2d\u5b9e\u73b0\u7f51\u7edc\u534f\u8bae\u6808\uff0c\u53ef\u4ee5\u63d0\u4f9b\u66f4\u9ad8\u7684\u5b89\u5168\u6027\u548c\u9694\u79bb\u6027\uff0c\u540c\u65f6\u53ef\u4ee5\u907f\u514d\u64cd\u4f5c\u7cfb\u7edf\u5185\u6838\u548c\u7528\u6237\u7a7a\u95f4\u4e4b\u95f4\u7684\u5207\u6362\uff0c\u4ece\u800c\u5728\u7279\u5b9a\u60c5\u51b5\u4e0b\u5177\u6709\u66f4\u597d\u7684\u7f51\u7edc\u5904\u7406\u6027\u80fd</li> <li><code>mixed</code> \u6df7\u5408\u5806\u6808\uff0ctcp \u4f7f\u7528 <code>system</code>\u6808\uff0cudp \u4f7f\u7528 <code>gvisor</code>\u6808\uff0c\u4f7f\u7528\u4f53\u9a8c\u53ef\u80fd\u76f8\u5bf9\u66f4\u597d</li> <li>\u7b80\u5355\u6027\u80fd\u6d4b\u8bd5</li> </ul>"},{"location":"config/inbound/tun/#device","title":"device","text":"<p>\u6307\u5b9a tun \u7f51\u5361\u540d\u79f0\uff0cMacOS \u8bbe\u5907\u53ea\u80fd\u4f7f\u7528 utun \u5f00\u5934\u7684\u7f51\u5361\u540d</p>"},{"location":"config/inbound/tun/#auto-route","title":"auto-route","text":"<p>\u81ea\u52a8\u8bbe\u7f6e\u5168\u5c40\u8def\u7531\uff0c\u53ef\u4ee5\u81ea\u52a8\u5c06\u5168\u5c40\u6d41\u91cf\u8def\u7531\u8fdb\u5165 tun \u7f51\u5361\u3002</p>"},{"location":"config/inbound/tun/#auto-redirect","title":"auto-redirect","text":"<p>\u4ec5\u652f\u6301 Linux\uff0c\u81ea\u52a8\u914d\u7f6e iptables/nftables \u4ee5\u91cd\u5b9a\u5411 TCP \u8fde\u63a5\uff0c\u9700\u8981<code>auto-route</code>\u5df2\u542f\u7528</p> <p>\u5728 Android \u4e2d\uff1a</p> <p>\u4ec5\u8f6c\u53d1\u672c\u5730 IPv4 \u8fde\u63a5\u3002\u8981\u901a\u8fc7\u70ed\u70b9\u6216\u4e2d\u7ee7\u5171\u4eab\u60a8\u7684 VPN \u8fde\u63a5\uff0c\u8bf7\u4f7f\u7528 VPNHotspot\u3002</p> <p>\u5728 Linux \u4e2d\uff1a</p> <p>\u5e26\u6709 auto-route \u7684 auto-redirect \u73b0\u5728\u53ef\u4ee5\u5728\u8def\u7531\u5668\u4e0a\u6309\u9884\u671f\u5de5\u4f5c\uff0c\u65e0\u9700\u5e72\u9884\u3002</p>"},{"location":"config/inbound/tun/#auto-detect-interface","title":"auto-detect-interface","text":"<p>\u81ea\u52a8\u9009\u62e9\u6d41\u91cf\u51fa\u53e3\u63a5\u53e3\uff0c\u591a\u51fa\u53e3\u7f51\u5361\u540c\u65f6\u8fde\u63a5\u7684\u8bbe\u5907\u5efa\u8bae\u624b\u52a8\u6307\u5b9a\u51fa\u53e3\u7f51\u5361</p>"},{"location":"config/inbound/tun/#dns-hijack","title":"dns-hijack","text":"<p>dns \u52ab\u6301\uff0c\u5c06\u5339\u914d\u5230\u7684\u8fde\u63a5\u5bfc\u5165\u5185\u90e8 dns \u6a21\u5757\uff0c\u4e0d\u4e66\u5199\u534f\u8bae\u5219\u4e3a udp://</p> <ul> <li>\u5728 <code>MacOS</code>/<code>Windows</code> \u65e0\u6cd5\u81ea\u52a8\u52ab\u6301\u53d1\u5f80\u5c40\u57df\u7f51\u7684 dns \u8bf7\u6c42</li> <li>\u5728 <code>Android</code> \u5982\u5f00\u542f <code>\u79c1\u4ebadns</code> \u5219\u65e0\u6cd5\u81ea\u52a8\u52ab\u6301 dns \u8bf7\u6c42</li> </ul>"},{"location":"config/inbound/tun/#strict-route","title":"strict-route","text":"<p>\u542f\u7528 <code>auto-route</code> \u65f6\u6267\u884c\u4e25\u683c\u7684\u8def\u7531\u89c4\u5219</p> <p>\u5728 Linux \u4e2d:</p> <ul> <li>\u8ba9\u4e0d\u652f\u6301\u7684\u7f51\u7edc\u65e0\u6cd5\u5230\u8fbe</li> <li>\u5c06\u6240\u6709\u8fde\u63a5\u8def\u7531\u5230 tun</li> </ul> <p>\u5b83\u53ef\u4ee5\u9632\u6b62\u5730\u5740\u6cc4\u6f0f\uff0c\u5e76\u4f7f DNS \u52ab\u6301\u5728 Android \u4e0a\u5de5\u4f5c\u3002</p> <p>\u5728 Windows \u4e2d:</p> <ul> <li>\u6dfb\u52a0\u9632\u706b\u5899\u89c4\u5219\u4ee5\u963b\u6b62 Windows   \u7684 \u666e\u901a\u591a\u5bbf\u4e3b DNS \u89e3\u6790\u884c\u4e3a   \u9020\u6210\u7684 DNS \u6cc4\u9732</li> </ul> <p>\u5b83\u53ef\u80fd\u4f1a\u4f7f\u67d0\u4e9b\u5e94\u7528\u7a0b\u5e8f\uff08\u5982 VirtualBox\uff09\u5728\u67d0\u4e9b\u60c5\u51b5\u4e0b\u65e0\u6cd5\u6b63\u5e38\u5de5\u4f5c\u3002</p>"},{"location":"config/inbound/tun/#mtu","title":"mtu","text":"<p>\u6700\u5927\u4f20\u8f93\u5355\u5143\uff0c\u4f1a\u5f71\u54cd\u6781\u9650\u72b6\u6001\u4e0b\u7684\u901f\u7387\uff0c\u4e00\u822c\u7528\u6237\u9ed8\u8ba4\u5373\u53ef\u3002</p>"},{"location":"config/inbound/tun/#gso","title":"gso","text":"<p>\u542f\u7528\u901a\u7528\u5206\u6bb5\u5378\u8f7d\uff0c\u4ec5\u652f\u6301 Linux</p>"},{"location":"config/inbound/tun/#gso-max-size","title":"gso-max-size","text":"<p>\u6570\u636e\u5757\u7684\u6700\u5927\u957f\u5ea6</p>"},{"location":"config/inbound/tun/#udp-timeout","title":"udp-timeout","text":"<p>UDP NAT \u8fc7\u671f\u65f6\u95f4\uff0c\u4ee5\u79d2\u4e3a\u5355\u4f4d\uff0c\u9ed8\u8ba4\u4e3a 300(5 \u5206\u949f)</p>"},{"location":"config/inbound/tun/#iproute2-table-index","title":"iproute2-table-index","text":"<p><code>auto-route</code> \u751f\u6210\u7684 iproute2 \u8def\u7531\u8868\u7d22\u5f15\uff0c\u9ed8\u8ba4\u4f7f\u7528 <code>2022</code></p>"},{"location":"config/inbound/tun/#iproute2-rule-index","title":"iproute2-rule-index","text":"<p><code>auto-route</code> \u751f\u6210\u7684 iproute2 \u89c4\u5219\u8d77\u59cb\u7d22\u5f15\uff0c\u9ed8\u8ba4\u4f7f\u7528 <code>9000</code></p>"},{"location":"config/inbound/tun/#endpoint-independent-nat","title":"endpoint-independent-nat","text":"<p>\u542f\u7528\u72ec\u7acb\u4e8e\u7aef\u70b9\u7684 NAT\uff0c\u6027\u80fd\u53ef\u80fd\u4f1a\u7565\u6709\u4e0b\u964d\uff0c\u6240\u4ee5\u4e0d\u5efa\u8bae\u5728\u4e0d\u9700\u8981\u7684\u65f6\u5019\u5f00\u542f\u3002</p>"},{"location":"config/inbound/tun/#route-address-set","title":"route-address-set","text":"<p>\u5c06\u6307\u5b9a\u89c4\u5219\u96c6\u4e2d\u7684\u76ee\u6807 IP CIDR \u89c4\u5219\u6dfb\u52a0\u5230\u9632\u706b\u5899\uff0c\u4e0d\u5339\u914d\u7684\u6d41\u91cf\u5c06\u7ed5\u8fc7\u8def\u7531 \u4ec5\u652f\u6301 Linux\uff0c\u4e14\u9700\u8981 nftables \u4ee5\u53ca<code>auto-route</code> \u548c <code>auto-redirect</code> \u5df2\u542f\u7528\u3002</p> <p>\u4e0e\u4efb\u610f\u914d\u7f6e\u4e2d\u7684 routing-mark \u51b2\u7a81</p>"},{"location":"config/inbound/tun/#route-exclude-address-set","title":"route-exclude-address-set","text":"<p>\u5c06\u6307\u5b9a\u89c4\u5219\u96c6\u4e2d\u7684\u76ee\u6807 IP CIDR \u89c4\u5219\u6dfb\u52a0\u5230\u9632\u706b\u5899\uff0c\u5339\u914d\u7684\u6d41\u91cf\u5c06\u7ed5\u8fc7\u8def\u7531 \u4ec5\u652f\u6301 Linux\uff0c\u4e14\u9700\u8981 nftables \u4ee5\u53ca<code>auto-route</code> \u548c <code>auto-redirect</code> \u5df2\u542f\u7528\u3002</p> <p>\u4e0e\u4efb\u610f\u914d\u7f6e\u4e2d\u7684 routing-mark \u51b2\u7a81</p>"},{"location":"config/inbound/tun/#route-address","title":"route-address","text":"<p>\u542f\u7528 <code>auto-route</code>\u65f6\u8def\u7531\u81ea\u5b9a\u4e49\u8def\u7531\u7f51\u6bb5\u800c\u4e0d\u662f\u9ed8\u8ba4\u8def\u7531\uff0c\u4e00\u822c\u65e0\u9700\u914d\u7f6e\u3002</p>"},{"location":"config/inbound/tun/#route-exclude-address","title":"route-exclude-address","text":"<p>\u542f\u7528 <code>auto-route</code> \u65f6\u6392\u9664\u81ea\u5b9a\u4e49\u7f51\u6bb5</p>"},{"location":"config/inbound/tun/#include-interface","title":"include-interface","text":"<p>\u9650\u5236\u88ab\u8def\u7531\u7684\u63a5\u53e3\uff0c\u9ed8\u8ba4\u4e0d\u9650\u5236\uff0c\u4e0e <code>exclude-interface</code> \u51b2\u7a81\uff0c\u4e0d\u53ef\u4e00\u8d77\u914d\u7f6e</p>"},{"location":"config/inbound/tun/#exclude-interface","title":"exclude-interface","text":"<p>\u6392\u9664\u8def\u7531\u7684\u63a5\u53e3\uff0c\u4e0e <code>include-interface</code> \u51b2\u7a81\uff0c\u4e0d\u53ef\u4e00\u8d77\u914d\u7f6e</p>"},{"location":"config/inbound/tun/#include-uid","title":"include-uid","text":"<p>\u5305\u542b\u7684\u7528\u6237\uff0c\u4f7f\u5176\u88ab Tun \u8def\u7531\u6d41\u91cf\uff0c\u672a\u88ab\u914d\u7f6e\u7684\u7528\u6237\u4e0d\u4f1a\u88ab Tun \u8def\u7531\u6d41\u91cf\uff0c\u9ed8\u8ba4\u4e0d\u9650\u5236</p> <p>UID \u89c4\u5219\u4ec5\u5728 Linux \u4e0b\u88ab\u652f\u6301,\u5e76\u4e14\u9700\u8981 <code>auto-route</code></p>"},{"location":"config/inbound/tun/#include-uid-range","title":"include-uid-range","text":"<p>\u5305\u542b\u7684\u7528\u6237\u8303\u56f4\uff0c\u4f7f\u5176\u88ab Tun \u8def\u7531\u6d41\u91cf\uff0c\u672a\u88ab\u914d\u7f6e\u7684\u7528\u6237\u4e0d\u4f1a\u88ab Tun \u8def\u7531\u6d41\u91cf</p>"},{"location":"config/inbound/tun/#exclude-uid","title":"exclude-uid","text":"<p>\u6392\u9664\u7528\u6237\uff0c\u4f7f\u5176\u907f\u514d\u88ab Tun \u8def\u7531\u6d41\u91cf</p>"},{"location":"config/inbound/tun/#exclude-uid-range","title":"exclude-uid-range","text":"<p>\u6392\u9664\u7528\u6237\u8303\u56f4\uff0c\u4f7f\u5176\u907f\u514d\u88ab Tun \u8def\u7531\u6d41\u91cf</p>"},{"location":"config/inbound/tun/#include-android-user","title":"include-android-user","text":"<p>\u5305\u542b\u7684 Android \u7528\u6237\uff0c\u4f7f\u5176\u88ab Tun \u8def\u7531\u6d41\u91cf\uff0c\u672a\u88ab\u914d\u7f6e\u7684\u7528\u6237\u4e0d\u4f1a\u88ab Tun \u8def\u7531\u6d41\u91cf</p> <p>Android \u7528\u6237\u548c\u5e94\u7528\u89c4\u5219\u4ec5\u5728 Android \u4e0b\u88ab\u652f\u6301,\u5e76\u4e14\u9700\u8981 <code>auto-route</code></p> \u5e38\u7528\u7528\u6237 ID \u673a\u4e3b 0 \u624b\u673a\u5206\u8eab 10 \u5e94\u7528\u591a\u5f00 999"},{"location":"config/inbound/tun/#include-package","title":"include-package","text":"<p>\u5305\u542b\u7684 Android \u5e94\u7528\u5305\u540d\uff0c\u4f7f\u5176\u88ab Tun \u8def\u7531\u6d41\u91cf\uff0c\u672a\u914d\u7f6e\u7684\u5e94\u7528\u5305\u4e0d\u4f1a\u88ab Tun \u8def\u7531\u6d41\u91cf</p>"},{"location":"config/inbound/tun/#exclude-package","title":"exclude-package","text":"<p>\u6392\u9664 Android \u5e94\u7528\u5305\u540d\uff0c\u4f7f\u5176\u907f\u514d\u88ab Tun \u8def\u7531\u6d41\u91cf</p>"},{"location":"config/inbound/tun/#_1","title":"\u65e7\u5199\u6cd5\uff0c\u5373\u5c06\u5e9f\u5f03","text":""},{"location":"config/inbound/tun/#inet4-route-address","title":"inet4-route-address","text":"<p>\u542f\u7528 <code>auto-route</code>\u65f6\u8def\u7531\u81ea\u5b9a\u4e49\u7f51\u6bb5\u800c\u4e0d\u662f\u9ed8\u8ba4\u8def\u7531\uff0c\u4e00\u822c\u65e0\u9700\u914d\u7f6e\u3002</p>"},{"location":"config/inbound/tun/#inet6-route-address","title":"inet6-route-address","text":"<p>\u542f\u7528 <code>auto-route</code>\u65f6\u8def\u7531\u81ea\u5b9a\u4e49\u7f51\u6bb5\u800c\u4e0d\u662f\u9ed8\u8ba4\u8def\u7531\uff0c\u4e00\u822c\u65e0\u9700\u914d\u7f6e\u3002</p>"},{"location":"config/inbound/tun/#inet4-route-exclude-address","title":"inet4-route-exclude-address","text":"<p>\u542f\u7528 <code>auto-route</code> \u65f6\u6392\u9664\u81ea\u5b9a\u4e49\u7f51\u6bb5</p>"},{"location":"config/inbound/tun/#inet6-route-exclude-address","title":"inet6-route-exclude-address","text":"<p>\u542f\u7528 <code>auto-route</code> \u65f6\u6392\u9664\u81ea\u5b9a\u4e49\u7f51\u6bb5</p>"},{"location":"config/inbound/tun/#tun_1","title":"Tun \u7684\u534f\u8bae\u6808\u7f51\u7edc\u56de\u73af\u6d4b\u8bd5","text":"<p>\u4ece\u4e0a\u5230\u4e0b\u5206\u522b\u4e3a <code>system/gvisor/lwip</code>,\u4ec5\u4f9b\u53c2\u8003\uff0c\u5e73\u53f0\u4e3a linux,Windows \u548c MacOS \u53ef\u80fd\u4f1a\u6709\u5dee\u5f02</p> <p></p>"},{"location":"config/inbound/listeners/","title":"LISTENERS","text":"<pre><code>listeners:\n- name: in-name\n  type: shadowsocks\n  port: 10000\n  listen: 0.0.0.0\n  rule: sub-rule-1\n  proxy: proxy\n</code></pre>"},{"location":"config/inbound/listeners/#name","title":"name","text":"<p>\u5165\u7ad9\u540d\u79f0\uff0c\u53ef\u7528\u4e8e\u5339\u914d<code>\u5165\u7ad9\u89c4\u5219</code></p>"},{"location":"config/inbound/listeners/#type","title":"type","text":"<p>\u5165\u7ad9\u7c7b\u578b</p>"},{"location":"config/inbound/listeners/#listen","title":"listen","text":"<p>\u76d1\u542c\u5730\u5740</p>"},{"location":"config/inbound/listeners/#port","title":"port","text":"<p>\u76d1\u542c\u7aef\u53e3</p>"},{"location":"config/inbound/listeners/#rule","title":"rule","text":"<p>\u4f7f\u7528<code>\u5b50\u89c4\u5219</code>\u4f5c\u4e3a\u5165\u7ad9\u5339\u914d\u89c4\u5219\u51fa\u7ad9\uff0c\u4e3a\u7a7a\u5219\u9ed8\u8ba4\u4f7f\u7528<code>rules</code>,\u5982\u679c\u672a\u627e\u5230<code>\u5b50\u89c4\u5219</code>\u5219\u76f4\u63a5\u4f7f\u7528<code>rules</code></p>"},{"location":"config/inbound/listeners/#proxy","title":"proxy","text":"<p>\u4f7f\u7528<code>\u51fa\u7ad9\u4ee3\u7406</code>\u6216<code>\u7b56\u7565\u7ec4</code>\u76f4\u63a5\u51fa\u7ad9\uff0c\u4e3a\u7a7a\u5219\u9ed8\u8ba4\u4f7f\u7528<code>rules</code></p> <p>\u5f53<code>proxy</code>\u4e0d\u4e3a\u7a7a\u65f6\uff0c\u8fd9\u91cc\u7684<code>proxy</code>\u540d\u79f0\u5fc5\u987b\u5408\u6cd5\uff0c\u5426\u5219\u4f1a\u51fa\u9519</p>"},{"location":"config/inbound/listeners/http/","title":"HTTP","text":"<pre><code>listeners:\n- name: http-in\n  type: http\n  port: 7890\n  listen: 0.0.0.0\n  users:\n    - username: password\n</code></pre>"},{"location":"config/inbound/listeners/http/#_1","title":"\u901a\u7528\u5b57\u6bb5","text":""},{"location":"config/inbound/listeners/http/#_2","title":"\u534f\u8bae\u914d\u7f6e","text":""},{"location":"config/inbound/listeners/http/#_3","title":"\u7528\u6237\u9a8c\u8bc1","text":"<p>\u5982\u679c\u4e0d\u586b\u5199 users \u9879\uff0c\u5219\u9075\u4ece\u5168\u5c40 \u7528\u6237\u9a8c\u8bc1 \u8bbe\u7f6e\uff0c\u5982\u679c\u586b\u5199\u4f1a\u5ffd\u7565\u5168\u5c40\u8bbe\u7f6e\uff0c\u5982\u60f3\u8df3\u8fc7\u8be5\u5165\u7ad9\u7684\u9a8c\u8bc1\u53ef\u586b\u5199 <code>users: []</code></p>"},{"location":"config/inbound/listeners/hysteria2/","title":"Hysteria2","text":"<pre><code>listeners:\n- name: hy-in\n  type: hysteria2\n  port: 8443\n  listen: 0.0.0.0\n  users:\n    user1: password1\n    user2: password2\n  up: 1000\n  down: 1000\n  ignore-client-bandwidth: false\n  obfs: salamander\n  obfs-password: password\n  masquerade: \"\"\n  alpn:\n  - h3\n  certificate: ./server.crt\n  private-key: ./server.key\n</code></pre>"},{"location":"config/inbound/listeners/hysteria2/#_1","title":"\u901a\u7528\u5b57\u6bb5","text":""},{"location":"config/inbound/listeners/hysteria2/#_2","title":"\u534f\u8bae\u914d\u7f6e","text":""},{"location":"config/inbound/listeners/hysteria2/#users","title":"users","text":"<p>Hysteria \u7528\u6237\u4ee5\u53ca\u8ba4\u8bc1\u5bc6\u7801\uff0c\u683c\u5f0f\u4e3a<code>\u7528\u6237\u540d: \u5bc6\u7801</code></p> <p>\u7528\u6237\u540d\u4e0d\u53c2\u4e0e\u8ba4\u8bc1,\u4ec5\u7528\u4e8e\u5165\u7ad9\u89c4\u5219\u5339\u914d</p>"},{"location":"config/inbound/listeners/hysteria2/#updown","title":"up/down","text":"<p>Hysteria \u901f\u7387\u8bbe\u7f6e\uff0c\u9ed8\u8ba4 Mbps\uff0c\u5177\u4f53\u53ef\u53c2\u8003 Hysteria \u6587\u6863</p>"},{"location":"config/inbound/listeners/hysteria2/#ignore-client-bandwidth","title":"ignore-client-bandwidth","text":"<p>\u53ef\u7528\u503c\uff1a<code>true/false</code></p> <p>\u542f\u7528\u540e\uff0c\u670d\u52a1\u5668\u5c06\u5ffd\u7565\u5ba2\u6237\u7aef\u8bbe\u7f6e\u7684\u4efb\u4f55\u5e26\u5bbd\uff0c\u6c38\u8fdc\u4f7f\u7528\u4f20\u7edf\u7684\u62e5\u585e\u63a7\u5236\u7b97\u6cd5 (BBR)</p>"},{"location":"config/inbound/listeners/hysteria2/#obfs","title":"obfs","text":"<p>QUIC \u6d41\u91cf\u6df7\u6dc6\u5668\uff0c\u4ec5\u53ef\u8bbe\u4e3a <code>salamander</code>,\u5982\u679c\u4e3a\u7a7a\u5219\u7981\u7528</p> <p>\u542f\u7528\u6df7\u6dc6\u5c06\u4f7f\u670d\u52a1\u5668\u4e0e\u6807\u51c6\u7684 QUIC \u8fde\u63a5\u4e0d\u517c\u5bb9\uff0c\u5931\u53bb HTTP/3 \u4f2a\u88c5\u7684\u80fd\u529b</p>"},{"location":"config/inbound/listeners/hysteria2/#obfs-password","title":"obfs-password","text":"<p>QUIC \u6d41\u91cf\u6df7\u6dc6\u5668\u5bc6\u7801</p>"},{"location":"config/inbound/listeners/hysteria2/#masquerade","title":"masquerade","text":"<p>\u4f2a\u88c5 HTTP/3 \u6d41\u91cf\uff0c\u4ec5\u652f\u6301<code>file</code>\u548c<code>http/https</code>,\u5982\u679c\u4e3a\u7a7a\uff0c\u5219\u59cb\u7ec8\u8fd4\u56de 404 Not Found</p> <p>\u5177\u4f53\u53ef\u53c2\u8003 Hysteria \u6587\u6863</p> \u793a\u4f8b \u63cf\u8ff0 <code>file</code> <code>file:///var/www</code> \u4f5c\u4e3a\u6587\u4ef6\u670d\u52a1\u5668 <code>http/https</code> <code>http://127.0.0.1:8080</code> \u4f5c\u4e3a\u53cd\u5411\u4ee3\u7406"},{"location":"config/inbound/listeners/hysteria2/#alpn","title":"alpn","text":"<p>TLS \u5e94\u7528\u5c42\u534f\u8bae\u534f\u5546\u5217\u8868\uff0c\u5ba2\u6237\u7aef\u9700\u5199\u5165\u670d\u52a1\u7aef alpn \u5217\u8868\u4e2d\u7684\u4e00\u4e2a\uff0c\u5426\u5219\u5c06\u8ba4\u8bc1\u5931\u8d25\uff0c\u9ed8\u8ba4\u4e3a<code>h3</code></p>"},{"location":"config/inbound/listeners/hysteria2/#certificateprivate-key","title":"certificate/private-key","text":"<p>TLS \u8bc1\u4e66\u6587\u4ef6\u8def\u5f84</p>"},{"location":"config/inbound/listeners/mixed/","title":"MIXED","text":"<pre><code>listeners:\n- name: mixed-in\n  type: mixed\n  port: 7892\n  listen: 0.0.0.0\n  udp: true\n  users:\n    - username: password\n</code></pre>"},{"location":"config/inbound/listeners/mixed/#_1","title":"\u901a\u7528\u5b57\u6bb5","text":""},{"location":"config/inbound/listeners/mixed/#_2","title":"\u534f\u8bae\u914d\u7f6e","text":""},{"location":"config/inbound/listeners/mixed/#udp","title":"udp","text":"<p>\u662f\u5426\u76d1\u542c UDP</p>"},{"location":"config/inbound/listeners/mixed/#_3","title":"\u7528\u6237\u9a8c\u8bc1","text":"<p>\u5982\u679c\u4e0d\u586b\u5199 users \u9879\uff0c\u5219\u9075\u4ece\u5168\u5c40 \u7528\u6237\u9a8c\u8bc1 \u8bbe\u7f6e\uff0c\u5982\u679c\u586b\u5199\u4f1a\u5ffd\u7565\u5168\u5c40\u8bbe\u7f6e\uff0c\u5982\u60f3\u8df3\u8fc7\u8be5\u5165\u7ad9\u7684\u9a8c\u8bc1\u53ef\u586b\u5199 users: []</p>"},{"location":"config/inbound/listeners/redirect/","title":"REDIRECT","text":"<pre><code>listeners:\n- name: redir-in\n  type: redir\n  port: 7893\n  listen: 0.0.0.0\n</code></pre>"},{"location":"config/inbound/listeners/redirect/#_1","title":"\u901a\u7528\u5b57\u6bb5","text":""},{"location":"config/inbound/listeners/socks/","title":"SOCKS","text":"<pre><code>listeners:\n- name: socks-in\n  type: socks\n  port: 7891\n  listen: 0.0.0.0\n  udp: true\n  users:\n    - username: password\n</code></pre>"},{"location":"config/inbound/listeners/socks/#_1","title":"\u901a\u7528\u5b57\u6bb5","text":""},{"location":"config/inbound/listeners/socks/#_2","title":"\u534f\u8bae\u914d\u7f6e","text":""},{"location":"config/inbound/listeners/socks/#udp","title":"udp","text":"<p>\u662f\u5426\u76d1\u542c UDP</p>"},{"location":"config/inbound/listeners/socks/#_3","title":"\u7528\u6237\u9a8c\u8bc1","text":"<p>\u5982\u679c\u4e0d\u586b\u5199 users \u9879\uff0c\u5219\u9075\u4ece\u5168\u5c40 \u7528\u6237\u9a8c\u8bc1 \u8bbe\u7f6e\uff0c\u5982\u679c\u586b\u5199\u4f1a\u5ffd\u7565\u5168\u5c40\u8bbe\u7f6e\uff0c\u5982\u60f3\u8df3\u8fc7\u8be5\u5165\u7ad9\u7684\u9a8c\u8bc1\u53ef\u586b\u5199 users: []</p>"},{"location":"config/inbound/listeners/ss/","title":"ShadowSocks","text":"<pre><code>listeners:\n- name: ss-in\n  type: shadowsocks\n  port: 10001\n  listen: 0.0.0.0\n  cipher: 2022-blake3-aes-256-gcm\n  password: vlmpIPSyHH6f4S8WVPdRIHIlzmB+GIRfoH3aNJ/t9Gg=\n  udp: true\n</code></pre>"},{"location":"config/inbound/listeners/ss/#_1","title":"\u901a\u7528\u5b57\u6bb5","text":""},{"location":"config/inbound/listeners/ss/#_2","title":"\u534f\u8bae\u914d\u7f6e","text":""},{"location":"config/inbound/listeners/ss/#cipher","title":"cipher","text":"<p>\u52a0\u5bc6\u65b9\u6cd5</p> \u65b9\u6cd5 \u5bc6\u7801\u957f\u5ea6 2022-blake3-aes-128-gcm 16 2022-blake3-aes-256-gcm 32 2022-blake3-chacha20-poly1305 32 none / aes-128-gcm / aes-192-gcm / aes-256-gcm / chacha20-ietf-poly1305 / xchacha20-ietf-poly1305 /"},{"location":"config/inbound/listeners/ss/#password","title":"password","text":"\u65b9\u6cd5 \u5bc6\u7801\u683c\u5f0f none / 2022 <code>openssl rand --base64 &lt;\u5bc6\u7801\u957f\u5ea6&gt;</code> \u5176\u4ed6 \u4efb\u610f\u5b57\u7b26\u4e32"},{"location":"config/inbound/listeners/ss/#udp","title":"udp","text":"<p>\u662f\u5426\u76d1\u542c UDP</p>"},{"location":"config/inbound/listeners/tproxy/","title":"TPROXY","text":"<pre><code>listeners:\n- name: tproxy-in\n  type: tproxy\n  port: 7894\n  listen: 0.0.0.0\n  udp: true\n</code></pre>"},{"location":"config/inbound/listeners/tproxy/#_1","title":"\u901a\u7528\u5b57\u6bb5","text":""},{"location":"config/inbound/listeners/tproxy/#_2","title":"\u534f\u8bae\u914d\u7f6e","text":""},{"location":"config/inbound/listeners/tproxy/#udp","title":"udp","text":"<p>\u662f\u5426\u76d1\u542c UDP</p>"},{"location":"config/inbound/listeners/tuic-v4/","title":"TUIC V4","text":"<pre><code>listeners:\n- name: tuicv4-in\n  type: tuic\n  port: 10003\n  listen: 0.0.0.0\n  token:\n    - TOKEN\n  certificate: ./server.crt\n  private-key: ./server.key\n  congestion-controller: bbr\n  max-idle-time: 15000\n  authentication-timeout: 1000\n  alpn:\n    - h3\n  max-udp-relay-packet-size: 1500\n</code></pre>"},{"location":"config/inbound/listeners/tuic-v5/","title":"TUIC V5","text":"<pre><code>listeners:\n- name: tuicv5-in\n  type: tuic\n  port: 10004\n  listen: 0.0.0.0\n  users:\n    UUID1: PASSWORD1\n    UUID2: PASSWORD2\n  certificate: ./server.crt\n  private-key: ./server.key\n  congestion-controller: bbr\n  max-idle-time: 15000\n  authentication-timeout: 1000\n  alpn:\n    - h3\n  max-udp-relay-packet-size: 1500\n</code></pre>"},{"location":"config/inbound/listeners/tun/","title":"TUN","text":"<pre><code>listeners:\n- name: tun-in\n  type: tun\n  stack: system\n  dns-hijack:\n  - 0.0.0.0:53\n  # auto-detect-interface: false\n  # auto-route: false\n  # mtu: 9000\n  inet4-address:\n  - 198.19.0.1/30\n  inet6-address:\n  - \"fdfe:dcba:9877::1/126\"\n  # strict-route: true\n  # inet4-route-address:\u7531\n  # - 0.0.0.0/1\n  # - 128.0.0.0/1\n  # inet6-route-address:\n  # - \"::/1\"\n  # - \"8000::/1\"\n  # endpoint-independent-nat: false\n  # include-uid:\n  # - 0\n  # include-uid-range:\n  # - 1000-99999\n  # exclude-uid:\n  # - 1000\n  # exclude-uid-range:\n  # - 1000-99999\n  # include-android-user:\n  # - 0\n  # - 10\n  # include-package:\n  # - com.android.chrome\n  # exclude-package:\n  # - com.android.captiveportallogin\n</code></pre>"},{"location":"config/inbound/listeners/tunnel/","title":"TUNNEL","text":"<pre><code>listeners:\n- name: tunnel-in\n  type: tunnel\n  port: 10816\n  listen: 0.0.0.0\n  network: [tcp, udp]\n  target: target.com\n</code></pre>"},{"location":"config/inbound/listeners/vmess/","title":"VMESS","text":"<pre><code>listeners:\n- name: vmess-in\n  type: vmess\n  port: 10002\n  listen: 0.0.0.0\n  users:\n    - username: user\n      uuid: 9d0cb9d0-964f-4ef6-897d-6c6b3ccf9e68\n      alterId: 0\n</code></pre>"},{"location":"config/ntp/","title":"NTP","text":"<pre><code>ntp:\n  enable: true\n  write-to-system: true\n  server: time.apple.com\n  port: 123\n  interval: 30\n</code></pre>"},{"location":"config/ntp/#enable","title":"enable","text":"<p>\u662f\u5426\u542f\u7528 NTP \u670d\u52a1</p>"},{"location":"config/ntp/#write-to-system","title":"write-to-system","text":"<p>\u662f\u5426\u540c\u6b65\u81f3\u7cfb\u7edf\u65f6\u95f4\uff0c\u9700\u8981 root\u3001\u7ba1\u7406\u5458\u6a21\u5f0f\u8fd0\u884c\u3002</p>"},{"location":"config/ntp/#server","title":"server","text":"<p>NTP \u670d\u52a1\u5730\u5740\uff0c\u9ed8\u8ba4 <code>time.apple.com</code></p>"},{"location":"config/ntp/#port","title":"port","text":"<p>NTP \u670d\u52a1\u7aef\u53e3\uff0c\u9ed8\u8ba4 <code>123</code></p>"},{"location":"config/ntp/#interval","title":"interval","text":"<p>\u540c\u6b65\u65f6\u95f4\u95f4\u9694\uff0c\u5355\u4f4d\uff08\u5206\uff09\uff0c\u9ed8\u8ba4\u540c\u6b65\u95f4\u9694\u4e3a 30 \u5206</p>"},{"location":"config/proxies/","title":"\u901a\u7528\u5b57\u6bb5","text":"<pre><code>proxies:\n- name: \"ss-out2\"\n  type: ss\n  server: server\n  port: 443\n  ip-version: ipv4\n  udp: true\n  interface-name: eth0\n  routing-mark: 1234\n  tfo: false\n  mptcp: false\n\n  dialer-proxy: ss1\n</code></pre>"},{"location":"config/proxies/#proxies","title":"proxies","text":"<p>\u4ee3\u7406\u8282\u70b9\uff0c\u5185\u5bb9\u4e3a\u6570\u7ec4</p>"},{"location":"config/proxies/#name","title":"name","text":"<p>\u5fc5\u987b\uff0c\u4ee3\u7406\u540d\u79f0\uff0c\u4e0d\u53ef\u91cd\u590d</p>"},{"location":"config/proxies/#type","title":"type","text":"<p>\u5fc5\u987b\uff0c\u4ee3\u7406\u8282\u70b9\u7c7b\u578b</p>"},{"location":"config/proxies/#server","title":"server","text":"<p>\u5fc5\u987b\uff0c\u4ee3\u7406\u8282\u70b9\u670d\u52a1\u5668 (\u57df\u540d/ip)</p>"},{"location":"config/proxies/#port","title":"port","text":"<p>\u5fc5\u987b\u9879\uff0c\u4ee3\u7406\u8282\u70b9\u7aef\u53e3</p>"},{"location":"config/proxies/#ip-version","title":"ip-version","text":"<p>\u4ee3\u7406\u8f6f\u4ef6\u51fa\u7ad9\u4f7f\u7528\u7684 ip \u7248\u672c\uff0c\u5982\u679c\u4e0d\u662f direct\uff0c\u5219\u4f1a\u5f71\u54cd server \u4e3a\u57df\u540d\u65f6\u4f7f\u7528\u7684 ip \u5730\u5740</p> <p>\u53ef\u9009\uff1a<code>dual</code>/<code>ipv4</code>/<code>ipv6</code>/<code>ipv4-prefer</code>/<code>ipv6-prefer</code> ,\u9ed8\u8ba4\u4f7f\u7528 <code>dual</code></p> <ul> <li>ipv4: \u4ec5\u4f7f\u7528 IPv4</li> <li>ipv6: \u4ec5\u4f7f\u7528 IPv6</li> <li>ipv4-prefer: \u4f18\u5148\u4f7f\u7528 IPv4\uff0c\u5bf9\u4e8e TCP \u4f1a\u8fdb\u884c\u53cc\u6808\u89e3\u6790\uff0c\u5e76\u53d1\u94fe\u63a5\u4f46\u662f\u4f18\u5148\u4f7f\u7528 IPv4 \u94fe\u63a5\uff0cUDP \u5219\u4e3a\u53cc\u6808\u89e3\u6790\uff0c\u83b7\u53d6\u7ed3\u679c\u4e2d\u7684\u7b2c\u4e00\u4e2a IPv4</li> <li>ipv6-prefer:\u4f18\u5148\u4f7f\u7528 IPv6\uff0c\u5bf9\u4e8e TCP \u4f1a\u8fdb\u884c\u53cc\u6808\u89e3\u6790\uff0c\u5e76\u53d1\u94fe\u63a5\u4f46\u662f\u4f18\u5148\u4f7f\u7528 IPv6 \u94fe\u63a5\uff0cUDP \u5219\u4e3a\u53cc\u6808\u89e3\u6790\uff0c\u83b7\u53d6\u7ed3\u679c\u4e2d\u7684\u7b2c\u4e00\u4e2a IPv6</li> </ul>"},{"location":"config/proxies/#udp","title":"udp","text":"<p>\u662f\u5426\u5141\u8bb8 UDP \u901a\u8fc7\u4ee3\u7406\uff0c\u9ed8\u8ba4\u4e3a <code>false</code></p> <p>Note</p> <p>\u6b64\u9009\u9879\u5728 <code>TUIC</code> \u7b49\u57fa\u4e8e <code>UDP</code> \u7684\u534f\u8bae\u4ee5\u53ca <code>direct</code> \u548c <code>dns</code> \u7c7b\u578b\u4e2d\u9ed8\u8ba4\u5f00\u542f</p>"},{"location":"config/proxies/#interface-name","title":"interface-name","text":"<p>\u6307\u5b9a\u8282\u70b9\u7ed1\u5b9a\u7684\u63a5\u53e3\uff0c\u4ece\u6b64\u63a5\u53e3\u53d1\u8d77\u8fde\u63a5</p>"},{"location":"config/proxies/#routing-mark","title":"routing-mark","text":"<p>\u8282\u70b9\u53d1\u8d77\u8fde\u63a5\u65f6\u9644\u52a0\u7684\u8def\u7531\u6807\u8bb0</p>"},{"location":"config/proxies/#tfo","title":"tfo","text":"<p>\u542f\u7528 <code>TCP Fast Open</code>, \u4ec5\u751f\u6548\u4e8e <code>TCP</code> \u534f\u8bae</p>"},{"location":"config/proxies/#mptcp","title":"mptcp","text":"<p>\u542f\u7528 <code>TCP Multi Path</code>, \u4ec5\u751f\u6548\u4e8e <code>TCP</code> \u534f\u8bae</p>"},{"location":"config/proxies/#dialer-proxy","title":"dialer-proxy","text":"<p>\u53c2\u9605 dialer-proxy</p>"},{"location":"config/proxies/dialer-proxy/","title":"dialer-proxy","text":"<pre><code>proxies:\n- name: \"ss1\"\n  dialer-proxy: dialer\n  ...\n\n- name: \"ss2\"\n  ...\n\nproxy-groups:\n- name: dialer\n  type: select\n  proxies:\n  - ss2\n</code></pre> <p>\u6307\u5b9a\u5f53\u524d <code>proxies</code> \u901a\u8fc7 <code>dialer-proxy</code> \u5efa\u7acb\u7f51\u7edc\u8fde\u63a5\uff0c\u503c\u53ef\u4ee5\u4e3a\u7b56\u7565\u7ec4/\u51fa\u7ad9\u4ee3\u7406\u7684 <code>name</code></p> <p>\u4e0a\u8ff0\u793a\u4f8b\u4e2d\uff0css1 \u901a\u8fc7 ss2 \u5efa\u7acb\u8fde\u63a5</p> <p>\u5f53\u901a\u8fc7 ss1 \u4ee3\u7406\u65f6\uff0c\u5c31\u7ec4\u6210\u4e86\u4e00\u6761 <code>\u5185\u6838&gt;ss2&gt;ss1&gt;\u76ee\u6807</code> \u7684\u4ee3\u7406\u94fe</p>"},{"location":"config/proxies/direct/","title":"DIRECT","text":"<pre><code>proxies:\n- name: \"direct\"\n  type: direct\n  udp: true\n  ip-version: ipv4\n  interface-name: eth0\n  routing-mark: 1234\n</code></pre> <p>\u901a\u7528\u5b57\u6bb5</p>"},{"location":"config/proxies/dns/","title":"DNS","text":"<pre><code>proxies:\n- name: \"dns-out\"\n  type: dns\n</code></pre> <p><code>dns</code>\u51fa\u7ad9\u4f1a\u5c06\u8bf7\u6c42\u52ab\u6301\u5230\u5185\u90e8dns\u6a21\u5757\uff0c\u6240\u6709\u8bf7\u6c42\u5747\u5728\u5185\u90e8\u5904\u7406</p>"},{"location":"config/proxies/http/","title":"HTTP","text":"<pre><code>proxies:\n- name: \"http\"\n  type: http\n  server: server\n  port: 443\n  # username: username\n  # password: password\n  # tls: true # https\n  # skip-cert-verify: true\n  # sni: custom.com\n  # fingerprint: xxxx # \u540c experimental.fingerprints \u4f7f\u7528 sha256 \u6307\u7eb9,\u914d\u7f6e\u534f\u8bae\u72ec\u7acb\u7684\u6307\u7eb9,\u5c06\u5ffd\u7565 experimental.fingerprints\n  # ip-version: dual\n  headers:\n</code></pre> <p>\u901a\u7528\u5b57\u6bb5</p> <p>TLS \u5b57\u6bb5</p>"},{"location":"config/proxies/hysteria/","title":"Hysteria","text":"<pre><code>proxies:\n- name: \"hysteria\"\n  type: hysteria\n  server: server.com\n  port: 443\n  # ports: 1000,2000-3000,4000 # port \u4e0d\u53ef\u7701\u7565\n  auth-str: yourpassword\n  # obfs: obfs_str\n  # alpn:\n  #   - h3\n  protocol: udp # \u652f\u6301 udp/wechat-video/faketcp\n  up: \"30 Mbps\" # \u82e5\u4e0d\u5199\u5355\u4f4d,\u9ed8\u8ba4\u4e3a Mbps\n  down: \"200 Mbps\" # \u82e5\u4e0d\u5199\u5355\u4f4d,\u9ed8\u8ba4\u4e3a Mbps\n  # sni: server.com\n  # skip-cert-verify: false\n  # recv-window-conn: 12582912\n  # recv-window: 52428800\n  # ca: \"./my.ca\"\n  # ca-str: \"xyz\"\n  # disable_mtu_discovery: false\n  # fingerprint: xxxx\n  # fast-open: true # \u542f\u7528 Fast Open (\u964d\u4f4e\u8fde\u63a5\u5efa\u7acb\u5ef6\u8fdf),\u9ed8\u8ba4\u4e3a false\n</code></pre> <p>\u901a\u7528\u5b57\u6bb5</p>"},{"location":"config/proxies/hysteria2/","title":"Hysteria2","text":"<p>\u914d\u7f6e\u53c2\u8003</p> <pre><code>proxies:\n- name: \"hysteria2\"\n  type: hysteria2\n  server: server.com\n  port: 443\n  ports: 443-8443\n  password: yourpassword\n  up: \"30 Mbps\"\n  down: \"200 Mbps\"\n  obfs: salamander # \u9ed8\u8ba4\u4e3a\u7a7a\uff0c\u5982\u679c\u586b\u5199\u5219\u5f00\u542fobfs\uff0c\u76ee\u524d\u4ec5\u652f\u6301salamander\n  obfs-password: yourpassword\n\n  sni: server.com\n  skip-cert-verify: false\n  fingerprint: xxxx\n  alpn:\n    - h3\n  ca: \"./my.ca\"\n  ca-str: \"xyz\"\n</code></pre> <p>\u901a\u7528\u5b57\u6bb5</p> <p>TLS \u5b57\u6bb5</p>"},{"location":"config/proxies/hysteria2/#ports","title":"ports","text":"<p>\u914d\u7f6e\u5219\u542f\u7528\u7aef\u53e3\u8df3\u8dc3\uff0c\u5ffd\u7565<code>port</code>\uff0c\u683c\u5f0f\u53c2\u8003\u7aef\u53e3\u8303\u56f4</p>"},{"location":"config/proxies/hysteria2/#password","title":"password","text":"<p>\u8ba4\u8bc1\u5bc6\u7801</p>"},{"location":"config/proxies/hysteria2/#updown","title":"up/down","text":"<p>brutal \u901f\u7387\u63a7\u5236\uff0c\u82e5\u4e0d\u5199\u5355\u4f4d\uff0c\u9ed8\u8ba4\u4e3a Mbps</p>"},{"location":"config/proxies/hysteria2/#obfs","title":"obfs","text":"<p>QUIC \u6d41\u91cf\u6df7\u6dc6\u5668\u7c7b\u578b\uff0c\u4ec5\u53ef\u8bbe\u4e3a <code>salamander</code>\uff0c\u5982\u679c\u4e3a\u7a7a\u5219\u7981\u7528</p>"},{"location":"config/proxies/hysteria2/#obfs-password","title":"obfs-password","text":"<p>QUIC \u6d41\u91cf\u6df7\u6dc6\u5668\u5bc6\u7801</p>"},{"location":"config/proxies/sing-mux/","title":"sing-mux","text":"<pre><code>smux:\n  enabled: true\n  protocol: smux\n  max-connections: 4\n  min-streams: 4\n  max-streams: 0\n  statistic: false\n  only-tcp: false\n  padding: true\n  brutal-opts:\n    enabled: true\n    up: 50\n    down: 100\n</code></pre>"},{"location":"config/proxies/sing-mux/#enabled","title":"enabled","text":"<p>\u662f\u5426\u542f\u7528\u591a\u8def\u590d\u7528</p>"},{"location":"config/proxies/sing-mux/#protocol","title":"protocol","text":"<p>\u591a\u8def\u590d\u7528\u534f\u8bae\uff0c\u652f\u6301\u5982\u4e0b\u534f\u8bae\uff0c\u9ed8\u8ba4\u4f7f\u7528 <code>h2mux</code></p> \u534f\u8bae \u63cf\u8ff0 <code>smux</code> https://github.com/xtaci/smux <code>yamux</code> https://github.com/hashicorp/yamux <code>h2mux</code> https://golang.org/x/net/http2"},{"location":"config/proxies/sing-mux/#max-connections","title":"max-connections","text":"<p>\u6700\u5927\u8fde\u63a5\u6570\u91cf</p> <p>\u4e0e <code>max-streams</code> \u51b2\u7a81</p>"},{"location":"config/proxies/sing-mux/#min-streams","title":"min-streams","text":"<p>\u5728\u6253\u5f00\u65b0\u8fde\u63a5\u4e4b\u524d\uff0c\u8fde\u63a5\u4e2d\u7684\u6700\u5c0f\u591a\u8def\u590d\u7528\u6d41\u6570\u91cf</p> <p>\u4e0e <code>max-streams</code> \u51b2\u7a81</p>"},{"location":"config/proxies/sing-mux/#max-streams","title":"max-streams","text":"<p>\u5728\u6253\u5f00\u65b0\u8fde\u63a5\u4e4b\u524d\uff0c\u8fde\u63a5\u4e2d\u7684\u6700\u5927\u591a\u8def\u590d\u7528\u6d41\u6570\u91cf</p> <p>\u4e0e <code>max-connections</code> \u548c <code>min-streams</code> \u51b2\u7a81</p>"},{"location":"config/proxies/sing-mux/#statistic","title":"statistic","text":"<p>\u63a7\u5236\u662f\u5426\u5c06\u5e95\u5c42\u8fde\u63a5\u663e\u793a\u5728\u9762\u677f\u4e2d\uff0c\u65b9\u4fbf\u6253\u65ad\u5e95\u5c42\u8fde\u63a5</p>"},{"location":"config/proxies/sing-mux/#only-tcp","title":"only-tcp","text":"<p>\u4ec5\u5141\u8bb8 tcp\uff0c\u5982\u679c\u8bbe\u7f6e\u4e3a true,smux \u7684\u8bbe\u7f6e\u5c06\u4e0d\u4f1a\u5bf9 udp \u751f\u6548\uff0cudp \u8fde\u63a5\u4f1a\u76f4\u63a5\u8d70\u8282\u70b9\u9ed8\u8ba4 udp \u534f\u8bae\u4f20\u8f93</p>"},{"location":"config/proxies/sing-mux/#padding","title":"padding","text":"<p>\u542f\u7528\u586b\u5145</p>"},{"location":"config/proxies/sing-mux/#brutal-opts","title":"brutal-opts","text":"<p>TCP Brutal \u8bbe\u7f6e</p>"},{"location":"config/proxies/sing-mux/#brutal-optsenabled","title":"brutal-opts.enabled","text":"<p>\u542f\u7528 TCP Brutal \u62e5\u585e\u63a7\u5236\u7b97\u6cd5</p>"},{"location":"config/proxies/sing-mux/#brutal-optsupdown","title":"brutal-opts.up/down","text":"<p>\u4e0a\u4f20\u548c\u4e0b\u8f7d\u5e26\u5bbd\uff0c\u4ee5\u9ed8\u8ba4\u4ee5 Mbps \u4e3a\u5355\u4f4d</p>"},{"location":"config/proxies/snell/","title":"Snell","text":"<pre><code>proxies\n- name: \"snell\"\n  type: snell\n  server: server\n  port: 44046\n  psk: yourpsk\n  version: 3\n  obfs-opts:\n    mode: http\n    host: bing.com\n</code></pre> <p>\u901a\u7528\u5b57\u6bb5</p>"},{"location":"config/proxies/snell/#psk","title":"psk","text":"<p>\u5fc5\u987b\uff0cSnell \u9884\u5171\u4eab\u5bc6\u94a5</p>"},{"location":"config/proxies/snell/#version","title":"version","text":"<p>snell \u7248\u672c\uff0c\u4ec5\u652f\u6301 v1-3\uff0c\u9ed8\u8ba4\u4e3a v1\uff0c\u4ec5 v3 \u652f\u6301 udp</p>"},{"location":"config/proxies/snell/#obfs-opts","title":"obfs-opts","text":"<p>Snell \u6df7\u6dc6\u8bbe\u7f6e</p>"},{"location":"config/proxies/snell/#obfs-optsmode","title":"obfs-opts.mode","text":"<p>Snell \u6df7\u6dc6\u6a21\u5f0f\uff0c\u652f\u6301 http/tls</p>"},{"location":"config/proxies/snell/#obfs-optshost","title":"obfs-opts.host","text":"<p>Snell \u6df7\u6dc6\u57df\u540d</p>"},{"location":"config/proxies/socks/","title":"SOCKS","text":"<pre><code>proxies:\n- name: \"socks\"\n  type: socks5\n  server: server\n  port: 443\n  # username: username\n  # password: password\n  # tls: true\n  # fingerprint: xxxx\n  # skip-cert-verify: true\n  # udp: true\n  # ip-version: ipv6\n</code></pre> <p>\u901a\u7528\u5b57\u6bb5</p> <p>TLS \u5b57\u6bb5</p>"},{"location":"config/proxies/ss/","title":"Shadowsocks","text":"<pre><code>proxies:\n- name: \"ss1\"\n  type: ss\n  server: server\n  port: 443\n  cipher: aes-128-gcm\n  password: \"password\"\n  udp: true\n  udp-over-tcp: false\n  udp-over-tcp-version: 2\n  ip-version: ipv4\n  plugin: obfs\n  plugin-opts:\n    mode: tls\n  smux:\n    enabled: false\n</code></pre> <p>\u901a\u7528\u5b57\u6bb5</p>"},{"location":"config/proxies/ss/#cipher","title":"Cipher","text":"AESCHACHA2022 Blake3LEA\u5176\u4ed6 \u65b9\u6cd5 aes-128-ctr aes-192-ctr aes-256-ctr aes-128-cfb aes-192-cfb aes-256-cfb aes-128-gcm aes-192-gcm aes-256-gcm aes-128-ccm aes-192-ccm aes-256-ccm aes-128-gcm-siv aes-256-gcm-siv \u65b9\u6cd5 chacha20-ietf chacha20 xchacha20 chacha20-ietf-poly1305 xchacha20-ietf-poly1305 chacha8-ietf-poly1305 xchacha8-ietf-poly1305 \u65b9\u6cd5 2022-blake3-aes-128-gcm 2022-blake3-aes-256-gcm 2022-blake3-chacha20-poly1305 \u65b9\u6cd5 lea-128-gcm lea-192-gcm lea-256-gcm \u65b9\u6cd5 rabbit128-poly1305 aegis-128l aegis-256 aez-384 deoxys-ii-256-128 rc4-md5 none"},{"location":"config/proxies/ss/#password","title":"password","text":"<p>Shadowsocks \u5bc6\u7801</p>"},{"location":"config/proxies/ss/#udp-over-tcp","title":"udp-over-tcp","text":"<p>\u542f\u7528 UDP over TCP\uff0c\u9ed8\u8ba4 false</p>"},{"location":"config/proxies/ss/#udp-over-tcp-version","title":"udp-over-tcp-version","text":"<p>UDP over TCP \u7684\u534f\u8bae\u7248\u672c\uff0c\u9ed8\u8ba4 1\u3002\u53ef\u9009\u503c 1/2\u3002</p>"},{"location":"config/proxies/ss/#smux","title":"smux","text":"<p>\u53c2\u9605 sing-mux</p>"},{"location":"config/proxies/ss/#_1","title":"\u63d2\u4ef6","text":""},{"location":"config/proxies/ss/#plugin","title":"plugin","text":"<p>\u63d2\u4ef6\uff0c\u652f\u6301 <code>obfs</code>/<code>v2ray-plugin</code>/<code>shadow-tls</code>/<code>restls</code></p>"},{"location":"config/proxies/ss/#plugin-opts","title":"plugin-opts","text":"<p>\u63d2\u4ef6\u8bbe\u7f6e</p> obfsv2ray-pluginshadow-tlsrestls <pre><code>plugin: obfs\nplugin-opts:\n  mode: tls\n  host: bing.com\n</code></pre> <pre><code>  plugin: v2ray-plugin\n  plugin-opts:\n    mode: websocket # no QUIC now\n      # tls: true # wss\n      # \u53ef\u4f7f\u7528 openssl x509 -noout -fingerprint -sha256 -inform pem -in yourcert.pem \u83b7\u53d6\n      # \u914d\u7f6e\u6307\u7eb9\u5c06\u5b9e\u73b0 SSL Pining \u6548\u679c\n      # fingerprint: xxxx\n      # skip-cert-verify: true\n      # host: bing.com\n      # path: \"/\"\n      # mux: true\n      # headers:\n      #   custom: value\n      # v2ray-http-upgrade: false\n</code></pre> <pre><code>  plugin: shadow-tls\n  client-fingerprint: chrome\n  plugin-opts:\n    host: \"cloud.tencent.com\"\n    password: \"shadow_tls_password\"\n    version: 2 # support 1/2/3\n</code></pre> <pre><code>  plugin: restls\n  client-fingerprint: chrome  # \u53ef\u4ee5\u662fchrome, ios, firefox, safari\u4e2d\u7684\u4e00\u4e2a\n  plugin-opts:\n    host: \"www.microsoft.com\" # \u5e94\u5f53\u662f\u4e00\u4e2aTLS 1.3 \u670d\u52a1\u5668\n    password: [YOUR_RESTLS_PASSWORD]\n    version-hint: \"tls13\"\n    # Control your post-handshake traffic through restls-script\n    # Hide proxy behaviors like \"tls in tls\".\n    # see https://github.com/3andne/restls/blob/main/Restls-Script:%20Hide%20Your%20Proxy%20Traffic%20Behavior.md\n    # \u7528restls\u5267\u672c\u6765\u63a7\u5236\u63e1\u624b\u540e\u7684\u884c\u4e3a\uff0c\u9690\u85cf\"tls in tls\"\u7b49\u7279\u5f81\n    # \u8be6\u60c5\uff1ahttps://github.com/3andne/restls/blob/main/Restls-Script:%20%E9%9A%90%E8%97%8F%E4%BD%A0%E7%9A%84%E4%BB%A3%E7%90%86%E8%A1%8C%E4%B8%BA.md\n    restls-script: \"300?100&lt;1,400~100,350~100,600~100,300~200,300~100\"\n</code></pre>"},{"location":"config/proxies/ssh/","title":"SSH","text":"<pre><code>proxies:\n- name: \"ssh-out\"\n  type: ssh\n\n  server: 127.0.0.1\n  port: 22\n  username: root\n  password: password\n  private-key: key\n  private-key-passphrase: key_password\n  host-key:\n  - \"ssh-rsa AAAAB3NzaC1yc2EAA...\"\n  host-key-algorithms:\n  - rsa\n</code></pre> <p>\u901a\u7528\u5b57\u6bb5</p>"},{"location":"config/proxies/ssh/#username","title":"username","text":"<p>SSH \u7528\u6237</p>"},{"location":"config/proxies/ssh/#password","title":"password","text":"<p>SSH \u5bc6\u7801</p>"},{"location":"config/proxies/ssh/#private-key","title":"private-key","text":"<p>\u5bc6\u94a5\u5185\u5bb9/\u8def\u5f84</p>"},{"location":"config/proxies/ssh/#private_key_passphrase","title":"private_key_passphrase","text":"<p>\u5bc6\u94a5\u5bc6\u7801</p>"},{"location":"config/proxies/ssh/#host-key","title":"host-key","text":"<p>\u4e3b\u673a\u5bc6\u94a5\uff0c\u7559\u7a7a\u63a5\u53d7\u6240\u6709</p>"},{"location":"config/proxies/ssh/#host-key-algorithms","title":"host-key-algorithms","text":"<p>\u4e3b\u673a\u5bc6\u94a5\u7b97\u6cd5</p>"},{"location":"config/proxies/ssr/","title":"ShadowsocksR","text":"<pre><code>proxies:\n  - name: \"ssr\"\n    type: ssr\n    server: server\n    port: 443\n    cipher: chacha20-ietf\n    password: \"password\"\n    obfs: tls1.2_ticket_auth\n    protocol: auth_sha1_v4\n    # obfs-param: domain.tld\n    # protocol-param: \"#\"\n    # udp: true\n</code></pre> <p>\u901a\u7528\u5b57\u6bb5</p>"},{"location":"config/proxies/tls/","title":"TLS \u914d\u7f6e","text":"<pre><code>proxies:\n- name: \"tls-example\"\n  tls: true\n  sni: example.com\n  servername: example.com\n  fingerprint: xxx\n  alpn:\n  - h2\n  - http/1.1\n  skip-cert-verify: true\n  client-fingerprint: random\n  reality-opts:\n    public-key: xxxx\n    short-id: xxxx\n</code></pre>"},{"location":"config/proxies/tls/#tls_1","title":"tls","text":"<p>\u542f\u7528 tls\uff0c\u4ec5\u9002\u7528\u4e8e\u4f7f\u7528 <code>tls</code> \u7684\u534f\u8bae\uff0c<code>trojan</code> \u534f\u8bae\u5f3a\u5236\u542f\u7528</p>"},{"location":"config/proxies/tls/#sniservername","title":"sni/servername","text":"<p>\u670d\u52a1\u5668\u540d\u79f0\u6307\u793a\uff0c\u5728 <code>VMess</code>/<code>VLESS</code> \u4e2d\u4e3a <code>servername</code>\uff0c\u5982\u679c\u4e3a\u7a7a\uff0c\u5219\u4e3a <code>server</code> \u4e2d\u7684\u5730\u5740</p>"},{"location":"config/proxies/tls/#fingerprint","title":"fingerprint","text":"<p>\u8bc1\u4e66\u6307\u7eb9\uff0c\u4ec5\u9002\u7528\u4e8e\u4f7f\u7528 <code>tls</code> \u7684\u534f\u8bae</p>"},{"location":"config/proxies/tls/#alpn","title":"alpn","text":"<p>\u652f\u6301\u7684\u5e94\u7528\u5c42\u534f\u8bae\u534f\u5546\u5217\u8868\uff0c\u6309\u4f18\u5148\u987a\u5e8f\u6392\u5217\u3002</p> <p>\u5982\u679c\u4e24\u4e2a\u5bf9\u7b49\u70b9\u90fd\u652f\u6301 ALPN\uff0c\u5219\u9009\u62e9\u7684\u534f\u8bae\u5c06\u662f\u6b64\u5217\u8868\u4e2d\u7684\u4e00\u4e2a\uff0c\u5982\u679c\u6ca1\u6709\u76f8\u4e92\u652f\u6301\u7684\u534f\u8bae\u5219\u8fde\u63a5\u5c06\u5931\u8d25\u3002</p> <p>\u53c2\u9605 Application-Layer Protocol Negotiation</p>"},{"location":"config/proxies/tls/#skip-cert-verify","title":"skip-cert-verify","text":"<p>\u8df3\u8fc7\u8bc1\u4e66\u9a8c\u8bc1\uff0c\u4ec5\u9002\u7528\u4e8e\u4f7f\u7528 <code>tls</code> \u7684\u534f\u8bae</p>"},{"location":"config/proxies/tls/#client-fingerprint","title":"client-fingerprint","text":"<p>\u5ba2\u6237\u7aef utls \u6307\u7eb9\uff0c\u4ec5\u9002\u7528\u4e8e <code>VMess</code>/<code>VLESS</code>/<code>Trojan</code> \u534f\u8bae\uff0c\u53ef\u9009\u9879\u53c2\u9605\u5168\u5c40\u5ba2\u6237\u7aef\u6307\u7eb9</p>"},{"location":"config/proxies/tls/#reality-opts","title":"reality-opts","text":"<p>reality \u914d\u7f6e\uff0c\u5982\u679c\u4e0d\u4e3a\u7a7a\uff0c\u5219\u542f\u7528 reality</p>"},{"location":"config/proxies/tls/#reality-optspublic-key","title":"reality-opts.public-key","text":"<p>reality \u670d\u52a1\u7aef\u79c1\u94a5\u5bf9\u5e94\u7684\u516c\u94a5</p>"},{"location":"config/proxies/tls/#reality-optsshort-id","title":"reality-opts.short-id","text":"<p>\u670d\u52a1\u7aef short id \u4e4b\u4e00</p>"},{"location":"config/proxies/transport/","title":"\u4f20\u8f93\u5c42\u914d\u7f6e","text":"httph2grpcws <pre><code>proxies:\n- name: \"http-opts-example\"\n  type: xxxxx\n  network: http\n  http-opts:\n    method: \"GET\"\n    path:\n    - '/'\n    - '/video'\n    headers:\n      Connection:\n      - keep-alive\n</code></pre> <pre><code>proxies:\n- name: \"h2-opts-example\"\n  type: xxxxx\n  network: h2\n  h2-opts:\n    host:\n    - example.com\n    path: /\n</code></pre> <pre><code>proxies:\n- name: \"grpc-opts-example\"\n  type: xxxxx\n  network: grpc\n  grpc-opts:\n    grpc-service-name: example\n</code></pre> <pre><code>proxies:\n- name: \"ws-opts-example\"\n  type: xxxxx\n  network: ws\n  ws-opts:\n    path: /path\n    headers:\n      Host: example.com\n    max-early-data:\n    early-data-header-name:\n    v2ray-http-upgrade: false\n    v2ray-http-upgrade-fast-open: false\n</code></pre>"},{"location":"config/proxies/transport/#http-opts","title":"http-opts","text":"<p><code>http</code> \u4f20\u8f93\u5c42\u8bbe\u7f6e\uff0c\u4ec5\u4f20\u8f93\u5c42\u4e3a <code>http</code> \u65f6\u751f\u6548</p>"},{"location":"config/proxies/transport/#http-optsmethod","title":"http-opts.method","text":"<p>http \u8bf7\u6c42\u65b9\u6cd5</p>"},{"location":"config/proxies/transport/#http-optspath","title":"http-opts.path","text":"<p>http \u8bf7\u6c42\u8def\u5f84</p>"},{"location":"config/proxies/transport/#http-optsheaders","title":"http-opts.headers","text":"<p>http \u8bf7\u6c42\u5934</p> <p>Note</p> <p>Mihomo \u7684 H2 \u4f20\u8f93\u5c42\u672a\u5b9e\u73b0\u591a\u8def\u590d\u7528\u529f\u80fd\uff0c\u5982\u679c\u9700\u8981\u4f7f\u7528\u591a\u8def\u590d\u7528\uff0c\u5728 Mihomo \u4e2d\u66f4\u5efa\u8bae\u4f7f\u7528 gRPC \u534f\u8bae\uff0c\u6216\u8005 sing-mux</p>"},{"location":"config/proxies/transport/#h2-opts","title":"h2-opts","text":"<p><code>h2</code> \u4f20\u8f93\u5c42\u8bbe\u7f6e\uff0c\u4ec5\u4f20\u8f93\u5c42\u4e3a <code>h2</code> \u65f6\u751f\u6548</p>"},{"location":"config/proxies/transport/#h2-optshost","title":"h2-opts.host","text":"<p>\u4e3b\u673a\u57df\u540d\u5217\u8868\uff0c\u5982\u679c\u8bbe\u7f6e\uff0c\u5ba2\u6237\u7aef\u5c06\u968f\u673a\u9009\u62e9\uff0c\u670d\u52a1\u5668\u5c06\u9a8c\u8bc1</p>"},{"location":"config/proxies/transport/#h2-optspath","title":"h2-opts.path","text":"<p>http \u8bf7\u6c42\u8def\u5f84</p>"},{"location":"config/proxies/transport/#grpc-opts","title":"grpc-opts","text":"<p><code>grpc</code> \u4f20\u8f93\u5c42\u8bbe\u7f6e\uff0c\u4ec5\u4f20\u8f93\u5c42\u4e3a <code>grpc</code> \u65f6\u751f\u6548</p>"},{"location":"config/proxies/transport/#grpc-optsgrpc-service-name","title":"grpc-opts.grpc-service-name","text":"<p>gRPC \u670d\u52a1\u540d\u79f0</p>"},{"location":"config/proxies/transport/#ws-opts","title":"ws-opts","text":"<p><code>ws</code> \u4f20\u8f93\u5c42\u8bbe\u7f6e\uff0c\u4ec5\u4f20\u8f93\u5c42\u4e3a <code>ws</code> \u65f6\u751f\u6548</p>"},{"location":"config/proxies/transport/#ws-optspath","title":"ws-opts.path","text":"<p>\u8bf7\u6c42\u8def\u5f84</p>"},{"location":"config/proxies/transport/#ws-optsheaders","title":"ws-opts.headers","text":"<p>\u8bf7\u6c42\u5934</p>"},{"location":"config/proxies/transport/#ws-optsmax-early-data","title":"ws-opts.max-early-data","text":"<p>Early Data \u9996\u5305\u957f\u5ea6\u9608\u503c</p>"},{"location":"config/proxies/transport/#ws-optsearly-data-header-name","title":"ws-opts.early-data-header-name","text":""},{"location":"config/proxies/transport/#ws-optsv2ray-http-upgrade","title":"ws-opts.v2ray-http-upgrade","text":"<p>\u4f7f\u7528 http upgrade</p>"},{"location":"config/proxies/transport/#ws-optsv2ray-http-upgrade-fast-open","title":"ws-opts.v2ray-http-upgrade-fast-open","text":"<p>\u542f\u7528 http upgrade \u7684 fast open</p>"},{"location":"config/proxies/trojan/","title":"Trojan","text":"<pre><code>proxies:\n- name: \"trojan\"\n  type: trojan\n  server: server\n  port: 443\n  password: yourpsk\n  udp: true\n\n  sni: example.com\n  alpn:\n  - h2\n  - http/1.1\n  client-fingerprint: random\n  fingerprint: xxxx\n  skip-cert-verify: true\n  ss-opts:\n    enabled: false\n    method: aes-128-gcm\n    password: \"example\"\n  reality-opts:\n    public-key: xxxx\n    short-id: xxxx\n\n  network: tcp\n\n  smux:\n    enabled: false\n</code></pre> <p>\u901a\u7528\u5b57\u6bb5</p> <p>TLS \u5b57\u6bb5</p>"},{"location":"config/proxies/trojan/#password","title":"password","text":"<p>\u5fc5\u987b\uff0ctrojan \u670d\u52a1\u5668\u5bc6\u7801</p>"},{"location":"config/proxies/trojan/#ss-opts","title":"ss-opts","text":""},{"location":"config/proxies/trojan/#ss-opfsenabled","title":"ss-opfs.enabled","text":"<p>\u542f\u7528 trojan-go \u7684 shadowsocks AEAD \u52a0\u5bc6</p>"},{"location":"config/proxies/trojan/#ss-opfsmethod","title":"ss-opfs.method","text":"<p>\u52a0\u5bc6\u65b9\u6cd5\uff0c\u652f\u6301 aes-128-gcm/aes-256-gcm/chacha20-ietf-poly1305</p>"},{"location":"config/proxies/trojan/#ss-opfspassword","title":"ss-opfs.password","text":"<p>trojan-go \u7684 shadowsocks AEAD \u52a0\u5bc6\u5bc6\u7801</p>"},{"location":"config/proxies/trojan/#network","title":"network","text":"<p>\u4f20\u8f93\u5c42\uff0c\u652f\u6301 ws/grpc\uff0c\u4e0d\u914d\u7f6e\u6216\u914d\u7f6e\u5176\u4ed6\u503c\u5219\u4e3a tcp</p> <p>\u53c2\u9605 \u4f20\u8f93\u5c42\u914d\u7f6e</p>"},{"location":"config/proxies/trojan/#smux","title":"smux","text":"<p>\u53c2\u9605 sing-mux</p>"},{"location":"config/proxies/tuic/","title":"TUIC","text":"<pre><code>proxies:\n- name: tuic\n  server: www.example.com\n  port: 10443\n  type: tuic\n  token: TOKEN\n  uuid: 00000000-0000-0000-0000-000000000001\n  password: PASSWORD_1\n  # ip: 127.0.0.1\n  # heartbeat-interval: 10000\n  # alpn: [h3]\n  disable-sni: true\n  reduce-rtt: true\n  request-timeout: 8000\n  udp-relay-mode: native\n  # congestion-controller: bbr\n  # max-udp-relay-packet-size: 1500\n  # fast-open: true\n  # skip-cert-verify: true\n  # max-open-streams: 20\n  # sni: example.com\n</code></pre> <p>\u901a\u7528\u5b57\u6bb5</p> <p>TLS \u5b57\u6bb5</p>"},{"location":"config/proxies/tuic/#token","title":"token","text":"<p>\u5fc5\u987b\uff0c\u7528\u4e8e TUIC V4 \u7684\u7528\u6237\u6807\u8bc6\uff0c\u4f7f\u7528 TUIC V5 \u65f6\u4e0d\u53ef\u4e66\u5199</p>"},{"location":"config/proxies/tuic/#uuid","title":"uuid","text":"<p>\u5fc5\u987b\uff0c\u7528\u4e8e TUICV5 \u7684\u7528\u6237\u552f\u4e00\u8bc6\u522b\u7801\uff0c\u4f7f\u7528 TUIC V4 \u65f6\u4e0d\u53ef\u4e66\u5199</p>"},{"location":"config/proxies/tuic/#password","title":"password","text":"<p>\u5fc5\u987b\uff0c\u7528\u4e8e TUICV5 \u7684\u7528\u6237\u5bc6\u7801\uff0c\u4f7f\u7528 TUIC V4 \u65f6\u4e0d\u53ef\u4e66\u5199</p>"},{"location":"config/proxies/tuic/#ip","title":"ip","text":"<p>\u7528\u4e8e\u8986\u76d6\u201cserver\u201d\u9009\u9879\u4e2d\u8bbe\u7f6e\u7684\u670d\u52a1\u5668\u5730\u5740\u7684 DNS \u67e5\u627e\u7ed3\u679c</p>"},{"location":"config/proxies/tuic/#heartbeat-interval","title":"heartbeat-interval","text":"<p>\u53d1\u9001\u4fdd\u6301\u8fde\u63a5\u6d3b\u52a8\u7684\u5fc3\u8df3\u5305\u7684\u95f4\u9694\u65f6\u95f4\uff0c\u5355\u4f4d\u4e3a\u6beb\u79d2</p>"},{"location":"config/proxies/tuic/#disable-sni","title":"disable-sni","text":"<p>\u8bbe\u7f6e\u662f\u5426\u5728 TLS \u63e1\u624b\u4e2d\u7981\u7528 SNI\uff08\u670d\u52a1\u5668\u540d\u79f0\u6307\u793a\uff09SNI \u7528\u4e8e\u5728\u540c\u4e00 IP \u5730\u5740\u4e0a\u627f\u8f7d\u591a\u4e2a HTTPS \u7ad9\u70b9</p>"},{"location":"config/proxies/tuic/#reduce-rtt","title":"reduce-rtt","text":"<p>\u8bbe\u7f6e\u662f\u5426\u5728\u5ba2\u6237\u7aef\u542f\u7528 QUIC \u7684 0-RTT \u63e1\u624b\u8fd9\u53ef\u4ee5\u51cf\u5c11\u8fde\u63a5\u5efa\u7acb\u65f6\u95f4\uff0c\u4f46\u53ef\u80fd\u589e\u52a0\u91cd\u653e\u653b\u51fb\u7684\u98ce\u9669</p>"},{"location":"config/proxies/tuic/#request-timeout","title":"request-timeout","text":"<p>\u8bbe\u7f6e\u5efa\u7acb\u5230 TUIC \u4ee3\u7406\u670d\u52a1\u5668\u7684\u8fde\u63a5\u7684\u8d85\u65f6\u65f6\u95f4\uff0c\u5355\u4f4d\u4e3a\u6beb\u79d2</p>"},{"location":"config/proxies/tuic/#udp-relay-mode","title":"udp-relay-mode","text":"<p>\u8bbe\u7f6e UDP \u6570\u636e\u5305\u4e2d\u7ee7\u6a21\u5f0f\uff0c\u53ef\u4ee5\u662f <code>native</code>/<code>quic</code></p>"},{"location":"config/proxies/tuic/#congestion-controller","title":"congestion-controller","text":"<p>\u8bbe\u7f6e\u62e5\u585e\u63a7\u5236\u7b97\u6cd5\uff0c\u53ef\u9009\u9879\u4e3a <code>cubic</code>/<code>new_reno</code>/<code>bbr</code></p>"},{"location":"config/proxies/tuic/#max-udp-relay-packet-size","title":"max-udp-relay-packet-size","text":"<p>\u8bbe\u7f6e\u6700\u5927\u7684 UDP \u6570\u636e\u5305\u4e2d\u7ee7\u5927\u5c0f\uff0c\u5355\u4f4d\u4e3a\u5b57\u8282</p>"},{"location":"config/proxies/tuic/#fast-open","title":"fast-open","text":"<p>\u8bbe\u7f6e\u662f\u5426\u542f\u7528 Fast Open\uff0c\u8fd9\u53ef\u4ee5\u51cf\u5c11\u8fde\u63a5\u5efa\u7acb\u65f6\u95f4</p>"},{"location":"config/proxies/tuic/#max-open-streams","title":"max-open-streams","text":"<p>\u8bbe\u7f6e\u6700\u5927\u6253\u5f00\u6d41\u7684\u6570\u91cf\u8fc7\u591a\u7684\u6253\u5f00\u6d41\u53ef\u80fd\u4f1a\u5f71\u54cd\u6027\u80fd</p>"},{"location":"config/proxies/vless/","title":"VLESS","text":"<pre><code>proxies:\n- name: \"vless\"\n  type: vless\n  server: server\n  port: 443\n  udp: true\n  uuid: uuid\n  flow: xtls-rprx-vision\n  packet-encoding: xudp\n\n  tls: true\n  servername: example.com\n  alpn:\n  - h2\n  - http/1.1\n  fingerprint: xxxx\n  client-fingerprint: chrome\n  skip-cert-verify: true\n  reality-opts:\n    public-key: xxxx\n    short-id: xxxx\n\n  network: tcp\n\n  smux:\n    enabled: false\n</code></pre> <p>Note</p> <p>Meta \u7684 <code>xtls-*</code> \u6d41\u63a7\u5b9e\u9645\u4e0a\u4e0e Xray-core \u4e2d\u7684 <code>xtls-*-udp443</code> \u7b49\u6548\uff0c\u5982\u9700\u62e6\u622a 443 \u7aef\u53e3\u7684 UDP \u6d41\u91cf\uff0c\u8bf7\u4f7f\u7528\u903b\u8f91\u89c4\u5219\uff1a<code>AND,((NETWORK,UDP),(DST-PORT,443)),REJECT</code></p> <p>\u901a\u7528\u5b57\u6bb5</p> <p>TLS \u5b57\u6bb5</p>"},{"location":"config/proxies/vless/#uuid","title":"uuid","text":"<p>\u5fc5\u987b\uff0cVLESS \u7528\u6237 ID</p>"},{"location":"config/proxies/vless/#flow","title":"flow","text":"<p>VLESS \u5b50\u534f\u8bae\uff0c\u53ef\u7528\u503c\u4e3a <code>xtls-rprx-vision</code></p>"},{"location":"config/proxies/vless/#packet-encoding","title":"packet-encoding","text":"<p>UDP \u5305\u7f16\u7801\uff0c\u4e3a\u7a7a\u5219\u4f7f\u7528\u539f\u59cb\u7f16\u7801\uff0c\u53ef\u9009 <code>packetaddr</code> (\u7531 <code>v2ray 5+</code> \u652f\u6301)/ <code>xudp</code> (\u7531 <code>xray</code> \u652f\u6301)</p>"},{"location":"config/proxies/vless/#network","title":"network","text":"<p>\u4f20\u8f93\u5c42\uff0c\u652f\u6301 ws/http/h2/grpc\uff0c\u4e0d\u914d\u7f6e\u6216\u914d\u7f6e\u5176\u4ed6\u503c\u5219\u4e3a tcp</p> <p>\u53c2\u9605 \u4f20\u8f93\u5c42\u914d\u7f6e</p>"},{"location":"config/proxies/vless/#smux","title":"smux","text":"<p>\u53c2\u9605 sing-mux</p>"},{"location":"config/proxies/vmess/","title":"VMess","text":"<pre><code>proxies:\n- name: \"vmess\"\n  type: vmess\n  server: server\n  port: 443\n  udp: true\n  uuid: uuid\n  alterId: 0\n  cipher: auto\n  packet-encoding: packetaddr\n  global-padding: false\n  authenticated-length: false\n\n  tls: true\n  servername: example.com\n  alpn:\n  - h2\n  - http/1.1\n  fingerprint: xxxx\n  client-fingerprint: chrome\n  skip-cert-verify: true\n  reality-opts:\n    public-key: xxxx\n    short-id: xxxx\n\n  network: tcp\n\n  smux:\n    enabled: false\n</code></pre> <p>\u901a\u7528\u5b57\u6bb5</p> <p>TLS \u5b57\u6bb5</p>"},{"location":"config/proxies/vmess/#uuid","title":"uuid","text":"<p>\u5fc5\u987b\uff0cVMess \u7528\u6237 ID</p>"},{"location":"config/proxies/vmess/#alterid","title":"alterId","text":"<p>\u5fc5\u987b\uff0c\u5982\u679c\u4e0d\u4e3a 0\uff0c\u5219\u542f\u7528\u65e7\u534f\u8bae</p>"},{"location":"config/proxies/vmess/#cipher","title":"cipher","text":"<p>\u5fc5\u987b\uff0c\u52a0\u5bc6\u65b9\u6cd5\uff0c\u652f\u6301 <code>auto</code>/<code>none</code>/<code>zero</code>/<code>aes-128-gcm</code>/<code>chacha20-poly1305</code></p>"},{"location":"config/proxies/vmess/#packet-encoding","title":"packet-encoding","text":"<p>UDP \u5305\u7f16\u7801\uff0c\u4e3a\u7a7a\u5219\u4f7f\u7528\u539f\u59cb\u7f16\u7801\uff0c\u53ef\u9009 <code>packetaddr</code> (\u7531 <code>v2ray 5+</code> \u652f\u6301)/<code>xudp</code> (\u7531 <code>xray</code> \u652f\u6301)</p>"},{"location":"config/proxies/vmess/#global-padding","title":"global-padding","text":"<p>\u534f\u8bae\u53c2\u6570\u3002\u5982\u679c\u542f\u7528\u4f1a\u968f\u673a\u6d6a\u8d39\u6d41\u91cf\uff08\u5728 v2ray \u4e2d\u9ed8\u8ba4\u542f\u7528\u5e76\u4e14\u65e0\u6cd5\u7981\u7528\uff09\u3002</p>"},{"location":"config/proxies/vmess/#authenticated-length","title":"authenticated-length","text":"<p>\u534f\u8bae\u53c2\u6570\u3002\u542f\u7528\u957f\u5ea6\u5757\u52a0\u5bc6</p>"},{"location":"config/proxies/vmess/#network","title":"network","text":"<p>\u4f20\u8f93\u5c42\uff0c\u652f\u6301 ws/http/h2/grpc\uff0c\u4e0d\u914d\u7f6e\u6216\u914d\u7f6e\u5176\u4ed6\u503c\u5219\u4e3a tcp</p> <p>\u53c2\u9605 \u4f20\u8f93\u5c42\u914d\u7f6e</p>"},{"location":"config/proxies/vmess/#smux","title":"smux","text":"<p>\u53c2\u9605 sing-mux</p>"},{"location":"config/proxies/wg/","title":"WireGuard","text":""},{"location":"config/proxies/wg/#_1","title":"\u7b80\u5316\u5199\u6cd5","text":"<p>\u5982\u679c\u53ea\u6709\u4e00\u4e2a peer\uff0c\u53ef\u4ee5\u4f7f\u7528\u7b80\u5316\u5199\u6cd5\u3002</p> <pre><code>proxies:\n- name: \"wg\"\n  type: wireguard\n  private-key: eCtXsJZ27+4PbhDkHnB923tkUn2Gj59wZw5wFA75MnU=\n  server: 162.159.192.1\n  port: 2480\n  ip: 172.16.0.2\n  ipv6: fd01:5ca1:ab1e:80fa:ab85:6eea:213f:f4a5\n  public-key: Cr8hWlKvtDt7nrvf+f0brNQQzabAqrjfBvas9pmowjo=\n  allowed-ips: ['0.0.0.0/0']\n  # pre-shared-key: 31aIhAPwktDGpH4JDhA8GNvjFXEf/a6+UaQRyOAiyfM=\n  # reserved: [209,98,59]  # \u5b57\u7b26\u4e32\u683c\u5f0f\u4e5f\u662f\u5408\u6cd5\u7684\uff0c\u5982\"U4An\"\n  udp: true\n  # mtu: 1408\n  # dialer-proxy: \"ss1\"  # \u4e00\u4e2a\u51fa\u7ad9\u4ee3\u7406\u7684\u6807\u8bc6\u3002\u5f53\u503c\u4e0d\u4e3a\u7a7a\u65f6\uff0c\u5c06\u4f7f\u7528\u6307\u5b9a\u7684 proxy/proxy-group \u53d1\u51fa\u8fde\u63a5\n  # remote-dns-resolve: true # \u5f3a\u5236dns\u8fdc\u7a0b\u89e3\u6790\uff0c\u9ed8\u8ba4\u503c\u4e3afalse\n  # dns: [ 1.1.1.1, 8.8.8.8 ] # \u4ec5\u5728remote-dns-resolve\u4e3atrue\u65f6\u751f\u6548\n  # \u5982\u679c\u5b58\u5728\u5219\u5f00\u542fAmneziaWG\u529f\u80fd\n  # amnezia-wg-option:\n  #   jc: 5\n  #   jmin: 500\n  #   jmax: 501\n  #   s1: 30\n  #   s2: 40\n  #   h1: 123456\n  #   h2: 67543\n  #   h4: 32345\n  #   h3: 123123\n</code></pre>"},{"location":"config/proxies/wg/#_2","title":"\u5b8c\u6574\u5199\u6cd5","text":"<p>\u5b8c\u6574\u5199\u6cd5\u53ef\u4ee5\u6307\u5b9a\u591a\u4e2a peer\u3002</p> <p>\u5982\u679c\u4f7f\u7528\u591a\u4e2a peer\uff0c\u6bcf\u4e00\u4e2a peer \u7684<code>allowed-ips</code>\u9700\u8981\u505a\u533a\u5206\uff1b\u6b64\u65f6\u9876\u5c42\u6bb5\u843d\u7684<code>server, port, public-key, pre-shared-key, reserved</code>\u7b49\u5b57\u6bb5\u5747\u4f1a\u88ab\u5ffd\u7565\uff0c\u4e0d\u8fc7<code>private-key</code>\u4ecd\u7136\u5728\u9876\u5c42\u6307\u5b9a\u3002</p> <pre><code>proxies:\n- name: \"wg\"\n  type: wireguard\n  ip: 172.16.0.2\n  ipv6: fd01:5ca1:ab1e:80fa:ab85:6eea:213f:f4a5\n  private-key: eCtXsJZ27+4PbhDkHnB923tkUn2Gj59wZw5wFA75MnU=\n  peers:\n    - server: 162.159.192.1\n      port: 2480\n      public-key: Cr8hWlKvtDt7nrvf+f0brNQQzabAqrjfBvas9pmowjo=\n      allowed-ips: ['0.0.0.0/0']\n      # pre-shared-key: 31aIhAPwktDGpH4JDhA8GNvjFXEf/a6+UaQRyOAiyfM=\n      # reserved: [209,98,59]  # \u5b57\u7b26\u4e32\u683c\u5f0f\u4e5f\u662f\u5408\u6cd5\u7684\uff0c\u5982\"U4An\"\n  udp: true\n  # mtu: 1408\n  # dialer-proxy: \"ss1\"  # \u4e00\u4e2a\u51fa\u7ad9\u4ee3\u7406\u7684\u6807\u8bc6\u3002\u5f53\u503c\u4e0d\u4e3a\u7a7a\u65f6\uff0c\u5c06\u4f7f\u7528\u6307\u5b9a\u7684 proxy/proxy-group \u53d1\u51fa\u8fde\u63a5\n  # remote-dns-resolve: true # \u5f3a\u5236dns\u8fdc\u7a0b\u89e3\u6790\uff0c\u9ed8\u8ba4\u503c\u4e3afalse\n  # dns: [ 1.1.1.1, 8.8.8.8 ] # \u4ec5\u5728remote-dns-resolve\u4e3atrue\u65f6\u751f\u6548\n</code></pre> <p>\u901a\u7528\u5b57\u6bb5</p>"},{"location":"config/proxies/wg/#ip","title":"ip","text":"<p>\u672c\u673a\u5728 Wireguard \u7f51\u7edc\u4e2d\u4f7f\u7528\u7684 IPv4 \u5730\u5740</p>"},{"location":"config/proxies/wg/#ipv6","title":"ipv6","text":"<p>\u53ef\u9009\u5b57\u6bb5\uff0c\u672c\u673a\u5728 Wireguard \u7f51\u7edc\u4e2d\u4f7f\u7528\u7684 IPv6 \u5730\u5740</p>"},{"location":"config/proxies/wg/#private-key","title":"private-key","text":"<p>base64 \u7f16\u7801\u7684 Wireguard \u5ba2\u6237\u7aef\u79c1\u94a5</p> <p>\u53ef\u4ee5\u4f7f\u7528<code>wg genkey | tee privatekey | wg pubkey &gt; publickey</code>\u547d\u4ee4\u751f\u6210\u4e00\u5bf9\u53ef\u7528\u7684\u516c\u79c1\u94a5\u6587\u4ef6</p>"},{"location":"config/proxies/wg/#public-key","title":"public-key","text":"<p>base64 \u7f16\u7801\u7684 Wireguard \u670d\u52a1\u7aef\u516c\u94a5</p>"},{"location":"config/proxies/wg/#allowed-ips","title":"allowed-ips","text":"<p>\u53ef\u9009\u5b57\u6bb5\uff0c\u9650\u5236\u5ba2\u6237\u7aef\u7684\u54ea\u4e9b IP \u6bb5\u7684\u6d41\u91cf\u7531\u670d\u52a1\u7aef\u8fdb\u884c\u8f6c\u53d1\u3002\u4e00\u822c\u60c5\u51b5\u4e0b\u53ef\u586b<code>['0.0.0.0/0']</code></p>"},{"location":"config/proxies/wg/#pre-shared-key","title":"pre-shared-key","text":"<p>\u53ef\u9009\u5b57\u6bb5\uff0c\u9884\u5171\u4eab\u5bc6\u94a5</p>"},{"location":"config/proxies/wg/#reserved","title":"reserved","text":"<p>\u53ef\u9009\u5b57\u6bb5\uff0cWireguard \u534f\u8bae\u4fdd\u7559\u5b57\u6bb5\u7684\u503c\uff0c\u90e8\u5206 WARP \u8282\u70b9\u9700\u8981\u4f7f\u7528</p>"},{"location":"config/proxies/wg/#mtu","title":"mtu","text":"<p>\u53ef\u9009\u5b57\u6bb5\uff0c\u8bbe\u7f6e MTU \u503c</p>"},{"location":"config/proxies/wg/#remote-dns-resolve","title":"remote-dns-resolve","text":"<p>\u53ef\u9009\u5b57\u6bb5\uff0c\u662f\u5426\u5f3a\u5236 dns \u8fdc\u7a0b\u89e3\u6790\uff0c\u9ed8\u8ba4\u503c\u4e3a false</p>"},{"location":"config/proxies/wg/#dns","title":"dns","text":"<p>\u53ef\u9009\u5b57\u6bb5\uff0c\u5f53<code>remote-dns-resolve</code>\u4e3a true \u65f6\u751f\u6548\uff0c\u6307\u5b9a\u8fdc\u7a0b\u89e3\u6790\u4f7f\u7528\u7684 dns \u670d\u52a1\u5668</p>"},{"location":"config/proxies/wg/#wireguard_1","title":"\u4ece Wireguard \u6807\u51c6\u914d\u7f6e\u6587\u4ef6\u7ffb\u8bd1","text":"<p>\u5047\u8bbe\u6709\u5982\u4e0b Wireguard \u6807\u51c6\u914d\u7f6e\u6587\u4ef6\uff1a</p> <pre><code>[Interface]\nAddress = &lt;\u672c\u673a\u7ec4\u7f51IP&gt;\nListenPort = &lt;\u672c\u5730\u76d1\u542c\u7aef\u53e3&gt;\nPrivateKey = &lt;\u672c\u673a\u79c1\u94a5&gt;\nDNS = &lt;\u4f7f\u7528\u7684DNS&gt;\nMTU = &lt;\u9884\u8bbeMTU&gt;\n\n[Peer]\nAllowedIPs = &lt;\u8f6c\u53d1IP\u6bb5&gt;\nEndpoint = &lt;\u8fdc\u7aef\u5730\u5740&gt;:&lt;\u8fdc\u7aef\u7aef\u53e3&gt;\nPublicKey = &lt;\u8fdc\u7aef\u516c\u94a5&gt;\n</code></pre> <p>\u5bf9\u5e94\u7684 clash \u8282\u70b9\u914d\u7f6e\u4e3a\uff1a</p> <pre><code>- name: \"wg\"\n  type: wireguard\n  ip: &lt;\u672c\u673a\u7ec4\u7f51IP\uff0cIPv4\u5f80\u8fd9\u91cc\u586b&gt;\n  ipv6: &lt;\u672c\u673a\u7ec4\u7f51IP\uff0cIPv6\u5f80\u8fd9\u91cc\u586b&gt;  # \u6ca1\u6709v6\u5730\u5740\u76f4\u63a5\u5220\u9664\n  private-key: &lt;\u672c\u673a\u79c1\u94a5&gt;\n  peers:\n    - server: &lt;\u8fdc\u7aef\u5730\u5740&gt;\n      port: &lt;\u8fdc\u7aef\u7aef\u53e3&gt;\n      public-key: &lt;\u8fdc\u7aef\u516c\u94a5&gt;\n      allowed-ips: ['0.0.0.0/0']     # \u5206\u6d41\u7531clash\u5904\u7406\n      # reserved: [209,98,59]        # \u5982\u679c\u9700\u8981\u81ea\u5df1\u586b\n  udp: true\n  mtu: &lt;\u9884\u8bbeMTU&gt;               # \u6309\u9700\u8bbe\u7f6e\uff0c\u4e0d\u7528\u76f4\u63a5\u5220\u9664\n  remote-dns-resolve: true    # \u6309\u9700\u8bbe\u7f6e\uff0c\u4e0d\u7528\u76f4\u63a5\u5220\u9664\n  dns: &lt;\u4f7f\u7528\u7684DNS&gt;             # \u6309\u9700\u8bbe\u7f6e\uff0c\u4e0d\u7528\u76f4\u63a5\u5220\u9664\n</code></pre>"},{"location":"config/proxy-groups/","title":"\u901a\u7528\u5b57\u6bb5","text":"<pre><code>proxy-groups:\n- name: \"proxy\"\n  type: select\n  proxies:\n  - DIRECT\n  - ss\n  use:\n  - provider1\n  - provider1\n\n  url: 'https://www.gstatic.com/generate_204'\n  interval: 300\n  lazy: true\n  timeout: 5000\n  max-failed-times: 5\n\n  disable-udp: true\n  interface-name: en0\n  routing-mark: 11451\n  include-all: false\n  include-all-proxies: false\n  include-all-providers: false\n  filter: \"(?i)\u6e2f|hk|hongkong|hong kong\"\n  exclude-filter: \"\u7f8e|\u65e5\"\n  exclude-type: \"Shadowsocks|Http\"\n  expected-status: 204\n  hidden: true\n  icon: xxx\n</code></pre>"},{"location":"config/proxy-groups/#name","title":"name","text":"<p>\u5fc5\u987b\uff0c\u7b56\u7565\u7ec4\u7684\u540d\u5b57</p> <p>Note</p> <p>\u5982\u6709\u7279\u6b8a\u7b26\u53f7\uff0c\u5e94\u5f53\u4f7f\u7528\u5f15\u53f7\u5c06\u5176\u5305\u88f9</p>"},{"location":"config/proxy-groups/#type","title":"type","text":"<p>\u5fc5\u987b\uff0c\u7b56\u7565\u7ec4\u7684\u7c7b\u578b</p>"},{"location":"config/proxy-groups/#proxies","title":"proxies","text":"<p>\u5f15\u5165\u51fa\u7ad9\u4ee3\u7406\u6216\u5176\u4ed6\u7b56\u7565\u7ec4</p>"},{"location":"config/proxy-groups/#use","title":"use","text":"<p>\u5f15\u5165\u4ee3\u7406\u96c6\u5408</p>"},{"location":"config/proxy-groups/#url","title":"url","text":"<p>\u5065\u5eb7\u68c0\u67e5\u6d4b\u8bd5\u5730\u5740</p>"},{"location":"config/proxy-groups/#interval","title":"interval","text":"<p>\u5065\u5eb7\u68c0\u67e5\u95f4\u9694\uff0c\u5982\u4e0d\u4e3a 0 \u5219\u542f\u7528\u5b9a\u65f6\u6d4b\u8bd5\uff0c\u5355\u4f4d\u4e3a\u79d2</p>"},{"location":"config/proxy-groups/#lazy","title":"lazy","text":"<p>\u61d2\u60f0\u72b6\u6001\uff0c\u9ed8\u8ba4\u4e3a<code>true</code>,\u672a\u9009\u62e9\u5230\u5f53\u524d\u7b56\u7565\u7ec4\u65f6\uff0c\u4e0d\u8fdb\u884c\u6d4b\u8bd5</p>"},{"location":"config/proxy-groups/#timeout","title":"timeout","text":"<p>\u5065\u5eb7\u68c0\u67e5\u8d85\u65f6\u65f6\u95f4\uff0c\u5355\u4f4d\u4e3a\u6beb\u79d2</p>"},{"location":"config/proxy-groups/#max-failed-times","title":"max-failed-times","text":"<p>\u6700\u5927\u5931\u8d25\u6b21\u6570\uff0c\u8d85\u8fc7\u5219\u89e6\u53d1\u4e00\u6b21\u5f3a\u5236\u5065\u5eb7\u68c0\u67e5\uff0c\u9ed8\u8ba4 5</p>"},{"location":"config/proxy-groups/#disable-udp","title":"disable-udp","text":"<p>\u7981\u7528\u8be5\u7b56\u7565\u7ec4\u7684<code>UDP</code></p>"},{"location":"config/proxy-groups/#interface-name","title":"interface-name","text":"<p>\u6307\u5b9a\u7b56\u7565\u7ec4\u7684\u51fa\u7ad9\u63a5\u53e3</p> <p>\u4f18\u5148\u7ea7: \u4ee3\u7406\u8282\u70b9 &gt; \u4ee3\u7406\u7b56\u7565 &gt; \u5168\u5c40</p>"},{"location":"config/proxy-groups/#routing-mark","title":"routing-mark","text":"<p>\u7b56\u7565\u7ec4\u51fa\u7ad9\u65f6\u9644\u5e26\u8def\u7531\u6807\u8bb0</p> <p>\u4f18\u5148\u7ea7: \u4ee3\u7406\u8282\u70b9 &gt; \u4ee3\u7406\u7b56\u7565 &gt; \u5168\u5c40</p>"},{"location":"config/proxy-groups/#include-all","title":"include-all","text":"<p>\u5f15\u5165\u6240\u6709\u51fa\u7ad9\u4ee3\u7406\u4ee5\u53ca\u4ee3\u7406\u96c6\u5408\uff0c\u987a\u5e8f\u5c06\u6309\u7167\u540d\u79f0\u6392\u5e8f</p> <p>\u5f15\u5165\u4e0d\u5305\u542b\u7b56\u7565\u7ec4,\u53ef\u5728proxies\u5f15\u5165\u5176\u4ed6\u7b56\u7565\u7ec4</p>"},{"location":"config/proxy-groups/#include-all-proxies","title":"include-all-proxies","text":"<p>\u5f15\u5165\u6240\u6709\u51fa\u7ad9\u4ee3\u7406\uff0c\u987a\u5e8f\u5c06\u6309\u7167\u540d\u79f0\u6392\u5e8f</p> <p>\u5f15\u5165\u4e0d\u5305\u542b\u7b56\u7565\u7ec4,\u53ef\u5728<code>proxies</code>\u5f15\u5165\u5176\u4ed6\u7b56\u7565\u7ec4</p>"},{"location":"config/proxy-groups/#include-all-providers","title":"include-all-providers","text":"<p>\u5f15\u5165\u6240\u6709\u4ee3\u7406\u96c6\u5408\uff0c\u987a\u5e8f\u5c06\u6309\u7167\u540d\u79f0\u6392\u5e8f</p> <p>\u4f1a\u4f7f\u5f15\u5165\u4ee3\u7406\u96c6\u5408\u5931\u6548</p>"},{"location":"config/proxy-groups/#filter","title":"filter","text":"<p>\u7b5b\u9009\u6ee1\u8db3\u5173\u952e\u8bcd\u6216\u6b63\u5219\u8868\u8fbe\u5f0f\u7684\u8282\u70b9\uff0c\u53ef\u4ee5\u4f7f\u7528 ` \u533a\u5206\u591a\u4e2a\u6b63\u5219\u8868\u8fbe\u5f0f</p> <p>\u4ec5\u4f5c\u7528\u4e8e\u5f15\u5165\u4ee3\u7406\u96c6\u5408\u4ee5\u53ca\u5f15\u5165\u6240\u6709\u51fa\u7ad9\u4ee3\u7406</p>"},{"location":"config/proxy-groups/#exclude-filter","title":"exclude-filter","text":"<p>\u6392\u9664\u6ee1\u8db3\u5173\u952e\u8bcd\u6216\u6b63\u5219\u8868\u8fbe\u5f0f\u7684\u8282\u70b9\uff0c\u53ef\u4ee5\u4f7f\u7528 ` \u533a\u5206\u591a\u4e2a\u6b63\u5219\u8868\u8fbe\u5f0f</p>"},{"location":"config/proxy-groups/#exclude-type","title":"exclude-type","text":"<p>\u6392\u9664\u8282\u70b9\u7c7b\u578b</p> <p>\u6ce8\u610f\uff0c<code>proxy-groups</code> \u4e0e <code>proxy-providers</code> \u5199\u6cd5\u4e0d\u540c\uff0c\u4e0d\u652f\u6301\u6b63\u5219\u8868\u8fbe\u5f0f\uff0c\u901a\u8fc7 <code>|</code> \u5206\u9694</p>"},{"location":"config/proxy-groups/#expected-status","title":"expected-status","text":"<p>\u5065\u5eb7\u68c0\u67e5\u65f6\u671f\u671b\u7684 HTTP \u54cd\u5e94\u72b6\u6001\u7801\u3002\u82e5\u914d\u7f6e\u4e86\u8be5\u5b57\u6bb5\uff0c\u5219\u53ea\u6709\u5f53\u54cd\u5e94\u72b6\u6001\u7801\u4e0e\u671f\u671b\u72b6\u6001\u4e00\u81f4\u65f6\u624d\u8ba4\u4e3a\u8282\u70b9\u53ef\u7528\u3002\u9ed8\u8ba4\u4e3a <code>*</code>\uff0c\u8868\u793a\u5bf9\u54cd\u5e94\u72b6\u6001\u4e0d\u505a\u8981\u6c42</p>"},{"location":"config/proxy-groups/#_2","title":"\u5199\u6cd5","text":"<p>\u53ef\u4f7f\u7528 <code>/</code> \u5339\u914d\u591a\u4e2a\u72b6\u6001\u7801\uff0c\u4f7f\u7528 <code>-</code> \u5339\u914d\u72b6\u6001\u8303\u56f4\uff0c\u53ef\u6df7\u5408\u4e66\u5199</p>"},{"location":"config/proxy-groups/#_3","title":"\u793a\u4f8b","text":"<p>\u5339\u914d 200 \u548c 302 \u72b6\u6001\u7801</p> <pre><code>expected-status: 200/302\n</code></pre> <p>\u5339\u914d 400 \u5230 503 \u72b6\u6001\u7801</p> <pre><code>expected-status: 400-503\n</code></pre> <p>\u5339\u914d 200 \u548c 302 \u4ee5\u53ca 400 \u5230 503 \u72b6\u6001\u7801</p> <pre><code>expected-status: 200/302/400-503\n</code></pre>"},{"location":"config/proxy-groups/#hidden","title":"hidden","text":"<p>\u5728 api \u8fd4\u56de<code>hidden</code>\u72b6\u6001\uff0c\u4ee5\u9690\u85cf\u8be5\u7b56\u7565\u7ec4\u5c55\u793a (\u9700\u8981\u4f7f\u7528 api \u7684\u524d\u7aef\u9002\u914d)</p>"},{"location":"config/proxy-groups/#icon","title":"icon","text":"<p>\u5728 api \u8fd4\u56de<code>icon</code>\u6240\u8f93\u5165\u7684\u5b57\u7b26\u4e32\uff0c\u4ee5\u5728\u8be5\u7b56\u7565\u7ec4\u663e\u793a (\u9700\u8981\u4f7f\u7528 api \u7684\u524d\u7aef\u9002\u914d)</p>"},{"location":"config/proxy-groups/built-in/","title":"\u9884\u7f6e\u51fa\u7ad9","text":""},{"location":"config/proxy-groups/built-in/#direct","title":"DIRECT","text":"<p>\u76f4\u8fde\uff0c\u6570\u636e\u76f4\u63a5\u51fa\u7ad9</p>"},{"location":"config/proxy-groups/built-in/#reject","title":"REJECT","text":"<p>\u62d2\u7edd\uff0c\u62e6\u622a\u6570\u636e\u51fa\u7ad9</p>"},{"location":"config/proxy-groups/built-in/#reject-drop","title":"REJECT-DROP","text":"<p>\u62d2\u7edd\uff0c\u4e0e<code>REJECT</code>\u4e0d\u540c\u7684\u662f\uff0c\u8be5\u7b56\u7565\u5c06\u9759\u9ed8\u629b\u5f03\u8bf7\u6c42</p>"},{"location":"config/proxy-groups/built-in/#pass","title":"PASS","text":"<p>\u7ed5\u8fc7\uff0c\u4f1a\u4f7f\u5339\u914d\u89c4\u5219\u65f6\u8df3\u8fc7\u6b64\u89c4\u5219</p>"},{"location":"config/proxy-groups/built-in/#compatible","title":"COMPATIBLE","text":"<p>\u517c\u5bb9\uff0c\u5728\u7b56\u7565\u7ec4\u7b5b\u9009\u4e0d\u51fa\u8282\u70b9\u65f6\u51fa\u73b0\uff0c\u7b49\u6548 <code>DIRECT</code></p>"},{"location":"config/proxy-groups/fallback/","title":"Fallback","text":"<pre><code>proxy-groups:\n- name: \"fallback\"\n  type: fallback\n  proxies:\n  - ss\n  - vmess\n  url: 'https://www.gstatic.com/generate_204'\n  interval: 300\n  #lazy: true\n</code></pre> <p>\u5f53\u524d\u9009\u62e9\u8282\u70b9\u8d85\u65f6\uff0c\u5219\u4f1a\u6309\u987a\u5e8f\u5207\u6362\u5230\u4e0b\u4e00\u4e2a\u53ef\u4ee5\u8282\u70b9</p>"},{"location":"config/proxy-groups/fallback/#_1","title":"\u901a\u7528\u5b57\u6bb5","text":"<p>\u53c2\u9605 \u901a\u7528\u5b57\u6bb5</p>"},{"location":"config/proxy-groups/load-balance/","title":"Load-balance","text":"<pre><code>proxy-groups:\n- name: \"load-balance\"\n  type: load-balance\n  proxies:\n  - ss1\n  - ss2\n  - vmess1\n  url: 'https://www.gstatic.com/generate_204'\n  interval: 300\n  #lazy: true\n  #strategy: consistent-hashing # or round-robin\n</code></pre>"},{"location":"config/proxy-groups/load-balance/#_1","title":"\u901a\u7528\u5b57\u6bb5","text":"<p>\u53c2\u9605 \u901a\u7528\u5b57\u6bb5</p>"},{"location":"config/proxy-groups/load-balance/#strategy","title":"strategy","text":"<p>\u8d1f\u8f7d\u5747\u8861\u7b56\u7565</p> <ul> <li> <p><code>consistent-hashing</code> \u5c06\u4f1a\u628a\u76f8\u540c\u9876\u7ea7\u57df\u540d\u7684\u8bf7\u6c42\u5206\u914d\u7ed9\u7b56\u7565\u7ec4\u5185\u7684\u540c\u4e00\u4e2a\u4ee3\u7406\u8282\u70b9</p> </li> <li> <p><code>round-robin</code> \u5c06\u4f1a\u628a\u6240\u6709\u7684\u8bf7\u6c42\u5206\u914d\u7ed9\u7b56\u7565\u7ec4\u5185\u4e0d\u540c\u7684\u4ee3\u7406\u8282\u70b9</p> </li> <li> <p><code>sticky-sessions</code>: sticky-sessions</p> </li> </ul>"},{"location":"config/proxy-groups/relay/","title":"Relay","text":"<pre><code>Proxy Groups:\n# Traffic: Clash &lt;-&gt; http &lt;-&gt; vmess &lt;-&gt; ss1 &lt;-&gt; ss2 &lt;-&gt; Internet\n- name: \"relay\"\n  type: relay\n  proxies:\n    - http\n    - vmess\n    - ss1\n    - ss2\n</code></pre> <p>Warning</p> <p>relay \u7b56\u7565\u5373\u5c06\u88ab\u5f03\u7528\uff0c\u8bf7\u4f7f\u7528dialer-proxy</p> <p>wireguard \u76ee\u524d\u4e0d\u652f\u6301\u5728 relay \u4e2d\u4f7f\u7528\uff0c\u4e5f\u8bf7\u4f7f\u7528dialer-proxy</p> <p>\u6d41\u91cf\u53bb\u5411\u4e3a Clash &lt;-&gt; http &lt;-&gt; vmess &lt;-&gt; ss1 &lt;-&gt; ss2 &lt;-&gt; Internet</p>"},{"location":"config/proxy-groups/relay/#udp","title":"\u5173\u4e8e UDP","text":"<p>relay \u652f\u6301\u4f20\u8f93 UDP\uff0c\u524d\u63d0\u662f\u4ee3\u7406\u94fe\u7684\u5934\u5c3e\u8282\u70b9\u90fd\u8981\u652f\u6301 UDP over TCP\u3002\u76ee\u524d\u652f\u6301 udp \u7684\u534f\u8bae\u6709 <code>vmess</code>/<code>vless</code>/<code>trojan</code>/<code>ss</code>/<code>ssr</code>/<code>tuic</code></p>"},{"location":"config/proxy-groups/select/","title":"Select","text":"<pre><code>proxy-groups:\n- name: Proxy\n  type: select\n  proxies:\n  - ss\n  - vmess\n  - auto\n  #disable-udp: true\n</code></pre>"},{"location":"config/proxy-groups/select/#_1","title":"\u901a\u7528\u5b57\u6bb5","text":"<p>\u53c2\u9605 \u901a\u7528\u5b57\u6bb5</p>"},{"location":"config/proxy-groups/url-test/","title":"Url-test","text":"<pre><code>proxy-groups:\n- name: \"\u81ea\u52a8\u9009\u62e9\"\n  type: url-test\n  proxies:\n  - ss\n  - vmess\n  url: 'https://www.gstatic.com/generate_204'\n  interval: 300\n  #tolerance: 50\n  #lazy: true\n</code></pre>"},{"location":"config/proxy-groups/url-test/#_1","title":"\u901a\u7528\u5b57\u6bb5","text":"<p>\u53c2\u9605 \u901a\u7528\u5b57\u6bb5</p>"},{"location":"config/proxy-groups/url-test/#tolerance","title":"tolerance","text":"<p>\u8282\u70b9\u5207\u6362\u5bb9\u5dee\uff0c\u5355\u4f4d ms</p>"},{"location":"config/proxy-providers/","title":"\u4ee3\u7406\u96c6\u5408","text":"<pre><code>proxy-providers:\n  provider1:\n    type: http\n    url: \"http://test.com\"\n    path: ./proxy_providers/provider1.yaml\n    interval: 3600\n    proxy: DIRECT\n    header:\n      User-Agent:\n      - \"Clash/v1.18.0\"\n      - \"mihomo/1.18.3\"\n      Authorization:\n      - 'token 1231231'\n    health-check:\n      enable: true\n      url: https://www.gstatic.com/generate_204\n      interval: 300\n      timeout: 5000\n      lazy: true\n      expected-status: 204\n    override:\n      tfo: false\n      mptcp: false\n      udp: true\n      udp-over-tcp: false\n      down: \"50 Mbps\"\n      up: \"10 Mbps\"\n      skip-cert-verify: true\n      dialer-proxy: proxy\n      interface-name: tailscale0\n      routing-mark: 233\n      ip-version: ipv4-prefer\n      additional-prefix: \"provider1 prefix |\"\n      additional-suffix: \"| provider1 suffix\"\n      proxy-name:\n      - pattern: \"IPLC-(.*?)\u500d\"\n        target: \"iplc x $1\"\n    filter: \"(?i)\u6e2f|hk|hongkong|hong kong\"\n    exclude-filter: \"xxx\"\n    exclude-type: \"ss|http\"\n\n  provider2:\n    type: file\n    path: ./proxy_providers/provider2.yaml\n    health-check:\n      enable: true\n      url: https://www.gstatic.com/generate_204\n      interval: 300\n</code></pre>"},{"location":"config/proxy-providers/#name","title":"name","text":"<p>\u5fc5\u987b\uff0c\u5982<code>provider1</code>,\u4e0d\u80fd\u91cd\u590d\uff0c\u5efa\u8bae\u4e0d\u8981\u548c\u7b56\u7565\u7ec4\u540d\u79f0\u91cd\u590d</p>"},{"location":"config/proxy-providers/#type","title":"type","text":"<p>\u5fc5\u987b\uff0c<code>provider</code>\u7c7b\u578b\uff0c\u53ef\u9009<code>http/file</code></p>"},{"location":"config/proxy-providers/#url","title":"url","text":"<p>\u7c7b\u578b\u4e3a<code>http</code>\u662f\u5219\u9700\u8981\u914d\u7f6e</p>"},{"location":"config/proxy-providers/#path","title":"path","text":"<p>\u53ef\u9009\uff0c\u6587\u4ef6\u8def\u5f84\uff0c\u4e0d\u53ef\u91cd\u590d\uff0c\u4e0d\u586b\u5199\u65f6\u4f1a\u4f7f\u7528 url \u7684 MD5 \u4f5c\u4e3a\u6b64\u6587\u4ef6\u7684\u6587\u4ef6\u540d</p> <p>\u7531\u4e8e\u5b89\u5168\u95ee\u9898\uff0c\u6b64\u8def\u5f84\u5c06\u9650\u5236\u53ea\u5141\u8bb8\u5728 <code>HomeDir</code>(\u6709\u542f\u52a8\u53c2\u6570 -d \u914d\u7f6e) \u4e2d\uff0c\u5982\u679c\u60f3\u5b58\u50a8\u5230\u4efb\u610f\u4f4d\u7f6e\u914d\u7f6e\u73af\u5883\u53d8\u91cf <code>SKIP_SAFE_PATH_CHECK=1</code></p>"},{"location":"config/proxy-providers/#interval","title":"interval","text":"<p>\u66f4\u65b0<code>provider</code>\u7684\u65f6\u95f4\uff0c\u5355\u4f4d\u4e3a\u79d2</p>"},{"location":"config/proxy-providers/#proxy","title":"proxy","text":"<p>\u7ecf\u8fc7\u6307\u5b9a\u4ee3\u7406\u8fdb\u884c\u4e0b\u8f7d/\u66f4\u65b0</p>"},{"location":"config/proxy-providers/#header","title":"header","text":"<p>\u81ea\u5b9a\u4e49 http \u8bf7\u6c42\u5934</p>"},{"location":"config/proxy-providers/#health-check","title":"health-check","text":"<p>\u5065\u5eb7\u68c0\u67e5 (\u5ef6\u8fdf\u6d4b\u8bd5)</p>"},{"location":"config/proxy-providers/#health-checkenable","title":"health-check.enable","text":"<p>\u662f\u5426\u542f\u7528\uff0c\u53ef\u9009 <code>true/false</code></p>"},{"location":"config/proxy-providers/#health-checkurl","title":"health-check.url","text":"<p>\u5065\u5eb7\u68c0\u67e5\u5730\u5740\uff0c\u63a8\u8350\u4f7f\u7528\u4ee5\u4e0b\u5730\u5740\u4e4b\u4e00</p> CloudflareGoogle <pre><code>https://cp.cloudflare.com\n</code></pre> <pre><code>https://www.gstatic.com/generate_204\n</code></pre>"},{"location":"config/proxy-providers/#health-checkinterval","title":"health-check.interval","text":"<p>\u5065\u5eb7\u68c0\u67e5\u95f4\u9694\u65f6\u95f4\uff0c\u5355\u4f4d\u4e3a\u79d2</p>"},{"location":"config/proxy-providers/#health-checktimeout","title":"health-check.timeout","text":"<p>\u5065\u5eb7\u68c0\u67e5\u8d85\u65f6\u65f6\u95f4\uff0c\u5355\u4f4d\u4e3a\u6beb\u79d2</p>"},{"location":"config/proxy-providers/#health-checklazy","title":"health-check.lazy","text":"<p>\u61d2\u60f0\u72b6\u6001\uff0c\u9ed8\u8ba4\u4e3a<code>true</code>,\u4e0d\u4f7f\u7528\u8be5\u96c6\u5408\u8282\u70b9\u65f6\uff0c\u4e0d\u8fdb\u884c\u6d4b\u8bd5</p>"},{"location":"config/proxy-providers/#health-checkexpected-status","title":"health-check.expected-status","text":"<p>\u53c2\u9605 \u671f\u671b\u72b6\u6001</p>"},{"location":"config/proxy-providers/#override","title":"override","text":"<p>\u8986\u5199\u8282\u70b9\u5185\u5bb9\uff0c\u4ee5\u4e0b\u4e3a\u652f\u6301\u7684\u5b57\u6bb5</p>"},{"location":"config/proxy-providers/#overrideadditional-prefix","title":"override.additional-prefix","text":"<p>\u4e3a\u8282\u70b9\u540d\u79f0\u6dfb\u52a0\u56fa\u5b9a\u524d\u7f00</p>"},{"location":"config/proxy-providers/#overrideadditional-suffix","title":"override.additional-suffix","text":"<p>\u4e3a\u8282\u70b9\u540d\u79f0\u6dfb\u52a0\u56fa\u5b9a\u540e\u7f00</p>"},{"location":"config/proxy-providers/#overrideproxy-name","title":"override.proxy-name","text":"<p>\u5bf9\u8282\u70b9\u540d\u79f0\u5185\u5bb9\u8fdb\u884c\u66ff\u6362\uff0c\u652f\u6301\u6b63\u5219\u8868\u8fbe\u5f0f\uff0cpattern \u4e3a\u66ff\u6362\u5185\u5bb9\uff0ctarget \u4e3a\u66ff\u6362\u76ee\u6807</p>"},{"location":"config/proxy-providers/#_2","title":"\u914d\u7f6e\u9879","text":"<p>\u53c2\u9605\u901a\u7528\u5b57\u6bb5  tfo</p> <p>\u53c2\u9605\u901a\u7528\u5b57\u6bb5  mptcp</p> <p>\u53c2\u9605\u901a\u7528\u5b57\u6bb5  udp</p> <p>\u53c2\u9605<code>Shadowsocks</code> udp-over-tcp</p> <p>\u53c2\u9605<code>Hysteria</code>/<code>Hysteria2</code> up</p> <p>\u53c2\u9605<code>Hysteria</code>/<code>Hysteria2</code> down</p> <p>\u53c2\u9605\u901a\u7528\u5b57\u6bb5  skip-cert-verify</p> <p>\u53c2\u9605\u901a\u7528\u5b57\u6bb5  dialer-proxy</p> <p>\u53c2\u9605\u901a\u7528\u5b57\u6bb5  interface-name</p> <p>\u53c2\u9605\u901a\u7528\u5b57\u6bb5  routing-mark</p> <p>\u53c2\u9605\u901a\u7528\u5b57\u6bb5  ip-version</p>"},{"location":"config/proxy-providers/#filter","title":"filter","text":"<p>\u7b5b\u9009\u6ee1\u8db3\u5173\u952e\u8bcd\u6216\u6b63\u5219\u8868\u8fbe\u5f0f\u7684\u8282\u70b9\uff0c\u53ef\u4ee5\u4f7f\u7528 ` \u533a\u5206\u591a\u4e2a\u6b63\u5219\u8868\u8fbe\u5f0f</p>"},{"location":"config/proxy-providers/#exclude-filter","title":"exclude-filter","text":"<p>\u6392\u9664\u6ee1\u8db3\u5173\u952e\u8bcd\u6216\u6b63\u5219\u8868\u8fbe\u5f0f\u7684\u8282\u70b9\uff0c\u53ef\u4ee5\u4f7f\u7528 ` \u533a\u5206\u591a\u4e2a\u6b63\u5219\u8868\u8fbe\u5f0f</p>"},{"location":"config/proxy-providers/#exclude-type","title":"exclude-type","text":"<p>\u4e0d\u652f\u6301\u6b63\u5219\u8868\u8fbe\u5f0f\uff0c\u901a\u8fc7 <code>|</code> \u5206\u5272\uff0c\u6839\u636e\u8282\u70b9\u7c7b\u578b\u6392\u9664</p> <p>\u6ce8\u610f\uff0c<code>proxy-groups</code> \u4e0e <code>proxy-providers</code> \u5199\u6cd5\u4e0d\u540c</p>"},{"location":"config/proxy-providers/content/","title":"proxy-providers \u6587\u4ef6\u5185\u5bb9","text":"yamluribase64 <pre><code>proxies:\n- name: \"ss1\"\n  type: ss\n  server: server\n  port: 443\n  cipher: chacha20-ietf-poly1305\n  password: \"password\"\n- name: \"ss2\"\n  type: ss\n  server: server\n  port: 443\n  cipher: chacha20-ietf-poly1305\n  password: \"password\"\n</code></pre> <pre><code>ss://YWVzLTI1Ni1nY206bWV0YUAxMjcuMC4wLjE6NDQz#home\nvmess://eyJhZGQiOiIxMjcuMC4wLjEiLCJhaWQiOiIwIiwiYWxwbiI6IiIsImZwIjoiIiwiaG9zdCI6IiIsImlkIjoiMTIyMzQ1Njc4OSIsIm5ldCI6InRjcCIsInBhdGgiOiIiLCJwb3J0IjoiNDQzIiwicHMiOiJ2bWVzcyIsInNjeSI6ImF1dG8iLCJzbmkiOiIiLCJ0bHMiOiIiLCJ0eXBlIjoibm9uZSIsInYiOiIyIn0=\n</code></pre> <pre><code>c3M6Ly9ZV1Z6TFRJMU5pMW5ZMjA2YldWMFlVQXhNamN1TUM0d0xqRTZORFF6I2hvbWUKdm1lc3M6Ly9leUpoWkdRaU9pSXhNamN1TUM0d0xqRWlMQ0poYVdRaU9pSXdJaXdpWVd4d2JpSTZJaUlzSW1ad0lqb2lJaXdpYUc5emRDSTZJaUlzSW1sa0lqb2lNVEl5TXpRMU5qYzRPU0lzSW01bGRDSTZJblJqY0NJc0luQmhkR2dpT2lJaUxDSndiM0owSWpvaU5EUXpJaXdpY0hNaU9pSjJiV1Z6Y3lJc0luTmplU0k2SW1GMWRHOGlMQ0p6Ym1raU9pSWlMQ0owYkhNaU9pSWlMQ0owZVhCbElqb2libTl1WlNJc0luWWlPaUl5SW4wPQ==\n</code></pre> <p>Note</p> <p>base64 \u7684 uri \u901a\u5e38\u4e3a\u63d0\u4f9b\u5546\u63d0\u4f9b\u7ed9 v2ray/xray \u7684\u8ba2\u9605\u94fe\u63a5\u5185\u5bb9</p> <p><code>YAML</code>/<code>uri</code>/<code>base64</code>\u4e0d\u53ef\u5199\u5728\u540c\u4e00\u6587\u4ef6,<code>uri</code>/<code>base64</code>\u4e0d\u9700\u8981<code>proxies:</code>\u5b57\u6bb5,\u76f4\u63a5\u4e66\u5199\u5373\u53ef</p>"},{"location":"config/rule-providers/","title":"rule-provider","text":"<pre><code>rule-providers:\n  google:\n    type: http\n    path: ./rule1.yaml \n    url: \"https://raw.githubusercontent.com/../Google.yaml\"\n    interval: 600\n    proxy: DIRECT\n    behavior: classical\n    format: yaml\n</code></pre>"},{"location":"config/rule-providers/#name","title":"name","text":"<p>\u5fc5\u987b\uff0c\u5982<code>google</code>,\u4e0d\u80fd\u91cd\u590d</p>"},{"location":"config/rule-providers/#type","title":"type","text":"<p>\u5fc5\u987b\uff0c<code>provider</code>\u7c7b\u578b\uff0c\u53ef\u9009<code>http</code> / <code>file</code></p>"},{"location":"config/rule-providers/#url","title":"url","text":"<p>\u7c7b\u578b\u4e3a<code>http</code>\u5219\u5fc5\u987b\u914d\u7f6e</p>"},{"location":"config/rule-providers/#path","title":"path","text":"<p>\u53ef\u9009\uff0c\u6587\u4ef6\u8def\u5f84\uff0c\u4e0d\u53ef\u91cd\u590d\uff0c\u4e0d\u586b\u5199\u65f6\u4f1a\u4f7f\u7528 url \u7684 MD5 \u4f5c\u4e3a\u6b64\u6587\u4ef6\u7684\u6587\u4ef6\u540d</p> <p>\u7531\u4e8e\u5b89\u5168\u95ee\u9898\uff0c\u6b64\u8def\u5f84\u5c06\u9650\u5236\u53ea\u5141\u8bb8\u5728 <code>HomeDir</code>(\u6709\u542f\u52a8\u53c2\u6570 -d \u914d\u7f6e) \u4e2d\uff0c\u5982\u679c\u60f3\u5b58\u50a8\u5230\u4efb\u610f\u4f4d\u7f6e\u914d\u7f6e\u73af\u5883\u53d8\u91cf <code>SKIP_SAFE_PATH_CHECK=1</code></p>"},{"location":"config/rule-providers/#interval","title":"interval","text":"<p>\u66f4\u65b0<code>provider</code>\u7684\u65f6\u95f4\uff0c\u5355\u4f4d\u4e3a\u79d2</p>"},{"location":"config/rule-providers/#proxy","title":"proxy","text":"<p>\u7ecf\u8fc7\u6307\u5b9a\u4ee3\u7406\u8fdb\u884c\u4e0b\u8f7d/\u66f4\u65b0</p>"},{"location":"config/rule-providers/#behavior","title":"behavior","text":"<p>\u884c\u4e3a\uff0c\u53ef\u9009<code>domain</code>/<code>ipcidr</code>/<code>classical</code>\uff0c\u5bf9\u5e94\u4e0d\u540c\u683c\u5f0f\u7684 rule-provider \u6587\u4ef6\u683c\u5f0f\uff0c\u8bf7\u6309\u5b9e\u9645\u683c\u5f0f\u586b\u5199</p>"},{"location":"config/rule-providers/#format","title":"format","text":"<p>\u683c\u5f0f\uff0c\u53ef\u9009 <code>yaml</code>/<code>text</code>/<code>mrs</code>\uff0c\u9ed8\u8ba4 <code>yaml</code></p> <p><code>mrs</code>\u76ee\u524d <code>behavior</code> \u4ec5\u652f\u6301 <code>domain</code>/<code>ipcidr</code>\uff0c\u53ef\u4ee5\u901a\u8fc7<code>mihomo convert-ruleset domain/ipcidr yaml/text XXX.yaml XXX.mrs</code>\u8f6c\u6362\u5f97\u5230</p>"},{"location":"config/rule-providers/content/","title":"rule-providers \u6587\u4ef6\u5185\u5bb9","text":""},{"location":"config/rule-providers/content/#classical","title":"classical","text":"<p><code>classical</code> \u652f\u6301\u8def\u7531\u89c4\u5219\u7684\u5168\u90e8\u7c7b\u578b (rule-set/sub-rule \u9664\u5916)</p> yamltext <pre><code>payload:\n- DOMAIN-SUFFIX,google.com\n- DOMAIN-KEYWORD,google\n- DOMAIN,ad.com\n- SRC-IP-CIDR,192.168.1.201/32\n- IP-CIDR,127.0.0.0/8\n- GEOIP,CN\n- DST-PORT,80\n- SRC-PORT,7777\n</code></pre> <pre><code>DOMAIN-SUFFIX,google.com\nDOMAIN-KEYWORD,google\nDOMAIN,ad.com\nSRC-IP-CIDR,192.168.1.201/32\nIP-CIDR,127.0.0.0/8\nGEOIP,CN\nDST-PORT,80\nSRC-PORT,7777\n</code></pre>"},{"location":"config/rule-providers/content/#domain","title":"domain","text":"<p><code>domain</code>\u7c7b\u89c4\u5219\u96c6\u5408\u5185\u5bb9\u901a\u914d\u5e94\u9075\u5b88clash \u901a\u914d\u7b26</p> yamltext <pre><code>payload:\n- '.blogger.com'\n- '*.*.microsoft.com'\n- 'books.itunes.apple.com'\n</code></pre> <pre><code>.blogger.com\n*.*.microsoft.com\nbooks.itunes.apple.com\n</code></pre>"},{"location":"config/rule-providers/content/#ipcidr","title":"ipcidr","text":"yamltext <pre><code>payload:\n- '192.168.1.0/24'\n- '10.0.0.0.1/32'\n</code></pre> <pre><code>192.168.1.0/24\n10.0.0.0.1/32\n</code></pre>"},{"location":"config/rules/","title":"\u8def\u7531\u89c4\u5219","text":"<pre><code>rules:\n- DOMAIN,ad.com,REJECT\n- DOMAIN-SUFFIX,google.com,auto\n- DOMAIN-KEYWORD,google,auto\n- DOMAIN-REGEX,^abc.*com,PROXY\n- GEOSITE,youtube,PROXY\n\n- IP-CIDR,127.0.0.0/8,DIRECT,no-resolve\n- IP-CIDR6,2620:0:2d0:200::7/32,auto\n- IP-SUFFIX,8.8.8.8/24,PROXY\n- IP-ASN,13335,DIRECT\n- GEOIP,CN,DIRECT\n\n- SRC-GEOIP,cn,DIRECT\n- SRC-IP-ASN,9808,DIRECT\n- SRC-IP-CIDR,192.168.1.201/32,DIRECT\n- SRC-IP-SUFFIX,192.168.1.201/8,DIRECT\n\n- DST-PORT,80,DIRECT\n- SRC-PORT,7777,DIRECT\n\n- IN-PORT,7890,PROXY\n- IN-TYPE,SOCKS/HTTP,PROXY\n- IN-USER,mihomo,PROXY\n- IN-NAME,ss,PROXY\n\n- PROCESS-PATH,/usr/bin/wget,PROXY\n- PROCESS-PATH,C:\\Program Files\\Google\\Chrome\\Application\\chrome.exe,PROXY\n- PROCESS-PATH-REGEX,.*bin/wget,PROXY\n- PROCESS-PATH-REGEX,(?i).*Application\\\\chrome.*,PROXY\n\n- PROCESS-NAME,curl,PROXY\n- PROCESS-NAME,chrome.exe,PROXY\n- PROCESS-NAME,com.termux,PROXY\n- PROCESS-NAME-REGEX,curl$,PROXY\n- PROCESS-NAME-REGEX,(?i)Telegram,PROXY\n- PROCESS-NAME-REGEX,.*telegram.*,PROXY\n- UID,1001,DIRECT\n\n- NETWORK,udp,DIRECT\n- DSCP,4,DIRECT\n\n- RULE-SET,providername,proxy\n- AND,((DOMAIN,baidu.com),(NETWORK,UDP)),DIRECT\n- OR,((NETWORK,UDP),(DOMAIN,baidu.com)),REJECT\n- NOT,((DOMAIN,baidu.com)),PROXY\n- SUB-RULE,(NETWORK,tcp),sub-rule\n\n- MATCH,auto\n</code></pre>"},{"location":"config/rules/#_2","title":"\u4f18\u5148\u7ea7","text":"<p>\u89c4\u5219\u5c06\u6309\u7167\u4ece\u4e0a\u5230\u4e0b\u7684\u987a\u5e8f\u5339\u914d\uff0c\u5217\u8868\u9876\u90e8\u7684\u89c4\u5219\u4f18\u5148\u7ea7\u9ad8\u4e8e\u5176\u5e95\u4e0b\u7684\u89c4\u5219</p> <p>\u5982\u8bf7\u6c42\u4e3a udp\uff0c\u800c\u4ee3\u7406\u8282\u70b9\u6ca1\u6709 udp \u652f\u6301 (\u4f8b\u5982<code>ss</code>\u8282\u70b9\u6ca1\u5199<code>udp: true</code>),\u5219\u4f1a\u7ee7\u7eed\u5411\u4e0b\u5339\u914d</p>"},{"location":"config/rules/#domain","title":"DOMAIN","text":"<p>\u5339\u914d\u5b8c\u6574\u57df\u540d</p>"},{"location":"config/rules/#domain-suffix","title":"DOMAIN-SUFFIX","text":"<p>\u5339\u914d\u57df\u540d\u540e\u7f00</p> <p>\u4f8b\uff1a<code>google.com</code>\u5339\u914d<code>www.google.com</code>/<code>mail.google.com</code>\u548c<code>google.com</code>,\u4f46\u4e0d\u5339\u914d<code>content-google.com</code></p>"},{"location":"config/rules/#domain-keyword","title":"DOMAIN-KEYWORD","text":"<p>\u4f7f\u7528\u57df\u540d\u5173\u952e\u5b57\u5339\u914d</p>"},{"location":"config/rules/#domain-regex","title":"DOMAIN-REGEX","text":"<p>\u57df\u540d\u6b63\u5219\u8868\u8fbe\u5f0f\u5339\u914d</p>"},{"location":"config/rules/#geosite","title":"GEOSITE","text":"<p>\u5339\u914d Geosite \u5185\u7684\u57df\u540d\uff0c\u90e8\u5206\u5185\u5bb9\u53c2\u8003 v2fly/domain-list-community</p>"},{"location":"config/rules/#ip-cidr-ip-cidr6","title":"IP-CIDR &amp; IP-CIDR6","text":"<p>\u5339\u914d IP \u5730\u5740\u8303\u56f4\uff0c<code>IP-CIDR</code>\u548c<code>IP-CIDR6</code>\u6548\u679c\u662f\u4e00\u6837\u7684\uff0c<code>IP-CIDR6</code>\u53ea\u662f\u4e00\u4e2a\u522b\u540d</p>"},{"location":"config/rules/#ip-suffix","title":"IP-SUFFIX","text":"<p>\u5339\u914d IP \u540e\u7f00\u8303\u56f4</p>"},{"location":"config/rules/#ip-asn","title":"IP-ASN","text":"<p>\u5339\u914d IP \u6240\u5c5e ASN</p>"},{"location":"config/rules/#geoip","title":"GEOIP","text":"<p>\u5339\u914d IP \u6240\u5c5e\u56fd\u5bb6\u4ee3\u7801</p>"},{"location":"config/rules/#src-geoip","title":"SRC-GEOIP","text":"<p>\u5339\u914d\u6765\u6e90 IP \u6240\u5c5e\u56fd\u5bb6\u4ee3\u7801</p>"},{"location":"config/rules/#src-ip-asn","title":"SRC-IP-ASN","text":"<p>\u5339\u914d\u6765\u6e90 IP \u6240\u5c5e ASN</p>"},{"location":"config/rules/#src-ip-cidr","title":"SRC-IP-CIDR","text":"<p>\u5339\u914d\u6765\u6e90 IP \u5730\u5740\u8303\u56f4</p>"},{"location":"config/rules/#src-ip-suffix","title":"SRC-IP-SUFFIX","text":"<p>\u5339\u914d\u6765\u6e90 IP \u540e\u7f00\u8303\u56f4</p>"},{"location":"config/rules/#dst-port","title":"DST-PORT","text":"<p>\u5339\u914d\u8bf7\u6c42\u76ee\u6807\u7aef\u53e3\u8303\u56f4</p>"},{"location":"config/rules/#src-port","title":"SRC-PORT","text":"<p>\u5339\u914d\u8bf7\u6c42\u6765\u6e90\u7aef\u53e3\u8303\u56f4</p>"},{"location":"config/rules/#in-port","title":"IN-PORT","text":"<p>\u5339\u914d\u5165\u7ad9\u7aef\u53e3,\u53ef\u7528\u7aef\u53e3\u8303\u56f4</p>"},{"location":"config/rules/#in-type","title":"IN-TYPE","text":"<p>\u5339\u914d\u5165\u7ad9\u7c7b\u578b</p>"},{"location":"config/rules/#in-user","title":"IN-USER","text":"<p>\u5339\u914d\u5165\u7ad9\u7528\u6237\u540d\uff0c\u652f\u6301\u4f7f\u7528 <code>/</code> \u5206\u9694\u591a\u4e2a\u7528\u6237\u540d</p>"},{"location":"config/rules/#in-name","title":"IN-NAME","text":"<p>\u5339\u914d\u5165\u7ad9\u540d\u79f0</p>"},{"location":"config/rules/#process-path","title":"PROCESS-PATH","text":"<p>\u4f7f\u7528\u5b8c\u6574\u8fdb\u7a0b\u8def\u5f84\u5339\u914d</p>"},{"location":"config/rules/#process-path-regex","title":"PROCESS-PATH-REGEX","text":"<p>\u4f7f\u7528\u8fdb\u7a0b\u8def\u5f84\u6b63\u5219\u8868\u8fbe\u5f0f\u5339\u914d</p>"},{"location":"config/rules/#process-name","title":"PROCESS-NAME","text":"<p>\u4f7f\u7528\u8fdb\u7a0b\u5339\u914d\uff0c\u5728<code>Android</code>\u5e73\u53f0\u53ef\u4ee5\u5339\u914d\u5305\u540d</p>"},{"location":"config/rules/#process-name-regex","title":"PROCESS-NAME-REGEX","text":"<p>\u4f7f\u7528\u8fdb\u7a0b\u540d\u79f0\u6b63\u5219\u8868\u8fbe\u5f0f\u5339\u914d\uff0c\u5728<code>Android</code>\u5e73\u53f0\u53ef\u4ee5\u5339\u914d\u5305\u540d</p>"},{"location":"config/rules/#uid","title":"UID","text":"<p>\u5339\u914d Linux USER ID</p>"},{"location":"config/rules/#network","title":"NETWORK","text":"<p>\u5339\u914d<code>tcp</code>\u6216\u8005<code>udp</code></p>"},{"location":"config/rules/#dscp","title":"DSCP","text":"<p>\u5339\u914d<code>DSCP</code>\u6807\u8bb0 (\u4ec5\u9650 tproxy udp \u5165\u7ad9)</p>"},{"location":"config/rules/#rule-set","title":"RULE-SET","text":"<p>\u5f15\u7528\u89c4\u5219\u96c6\u5408\uff0c\u9700\u914d\u7f6erule-providers</p>"},{"location":"config/rules/#and-or-not","title":"AND &amp; OR &amp; NOT","text":"<p><code>LOGIC_TYPE,((payload1),(payload2)),Proxy</code></p> <p>payload1\u3001payload2 \u4e3a \u89c4\u5219\u7c7b\u578b\u548c\u5176\u4ed6 payload\uff0c\u5982\uff1a<code>DOMAIN,google.com</code></p> <p>\u903b\u8f91\u89c4\u5219\uff0c\u9700\u8981\u6ce8\u610f\u62ec\u53f7\u7684\u4f7f\u7528</p>"},{"location":"config/rules/#sub-rule","title":"SUB-RULE","text":"<p>\u5339\u914d\u81f3\u5b50\u89c4\u5219,\u9700\u8981\u6ce8\u610f\u62ec\u53f7\u7684\u4f7f\u7528</p>"},{"location":"config/rules/#match","title":"MATCH","text":"<p>\u5339\u914d\u6240\u6709\u8bf7\u6c42\uff0c\u65e0\u9700\u6761\u4ef6</p>"},{"location":"config/rules/#_3","title":"\u9644\u52a0\u53c2\u6570","text":""},{"location":"config/rules/#no-resolve","title":"no-resolve","text":"<p>\u4ec5\u652f\u6301\u5173\u4e8e <code>\u76ee\u6807IP</code> \u7684\u89c4\u5219</p> <p>\u57df\u540d\u5f00\u59cb\u5339\u914d\u5173\u4e8e <code>\u76ee\u6807IP</code> \u89c4\u5219\u65f6\uff0cmihomo \u5c06\u89e6\u53d1 dns \u89e3\u6790\u6765\u68c0\u67e5\u57df\u540d\u7684 <code>\u76ee\u6807IP</code> \u662f\u5426\u5339\u914d\u89c4\u5219\uff0c\u53ef\u4ee5\u9009\u62e9 <code>no-resolve</code> \u9009\u9879\u4ee5\u8df3\u8fc7 dns \u89e3\u6790</p> <p>\u5982\u5728\u66f4\u65e9\u7684\u5339\u914d\u4e2d\u89e6\u53d1\u4e86 dns \u89e3\u6790\uff0c\u5219\u4f9d\u65e7\u4f1a\u5339\u914d\u5230\u6dfb\u52a0\u4e86 <code>no-resolve</code> \u9009\u9879\u7684 <code>\u76ee\u6807IP</code> \u7c7b\u89c4\u5219</p>"},{"location":"config/rules/#src","title":"src","text":"<p>\u4ec5\u652f\u6301\u5173\u4e8e <code>\u76ee\u6807IP</code> \u7684\u89c4\u5219</p> <p>\u5c06 <code>\u76ee\u6807IP</code> \u5339\u914d\u8f6c\u4e3a <code>\u6765\u6e90IP</code> \u5339\u914d</p>"},{"location":"config/sniff/","title":"\u57df\u540d\u55c5\u63a2","text":"<pre><code>sniffer:\n  enable: false\n  force-dns-mapping: true\n  parse-pure-ip: true\n  override-destination: false\n  sniff:\n    HTTP:\n      ports: [80, 8080-8880]\n      override-destination: true\n    TLS:\n      ports: [443, 8443]\n    QUIC:\n      ports: [443, 8443]\n  force-domain:\n    - +.v2ex.com\n  skip-domain:\n    - Mijia Cloud\n  skip-src-address:\n    - 192.168.0.3/32\n  skip-dst-address:\n    - 192.168.0.3/32\n</code></pre>"},{"location":"config/sniff/#enable","title":"enable","text":"<p>\u662f\u5426\u542f\u7528 sniffer</p>"},{"location":"config/sniff/#force-dns-mapping","title":"force-dns-mapping","text":"<p>\u5bf9 <code>redir-host</code> \u7c7b\u578b\u8bc6\u522b\u7684\u6d41\u91cf\u8fdb\u884c\u5f3a\u5236\u55c5\u63a2</p>"},{"location":"config/sniff/#parse-pure-ip","title":"parse-pure-ip","text":"<p>\u5bf9\u6240\u6709\u672a\u83b7\u53d6\u5230\u57df\u540d\u7684\u6d41\u91cf\u8fdb\u884c\u5f3a\u5236\u55c5\u63a2</p>"},{"location":"config/sniff/#override-destination","title":"override-destination","text":"<p>\u662f\u5426\u4f7f\u7528\u55c5\u63a2\u7ed3\u679c\u4f5c\u4e3a\u5b9e\u9645\u8bbf\u95ee\uff0c\u9ed8\u8ba4\u4e3a true</p>"},{"location":"config/sniff/#sniff","title":"sniff","text":"<p>\u9700\u8981\u55c5\u63a2\u7684\u534f\u8bae\u8bbe\u7f6e\uff0c\u4ec5\u652f\u6301 <code>HTTP</code>/<code>TLS</code>/<code>QUIC</code></p> <ul> <li><code>ports</code>: \u7aef\u53e3\u8303\u56f4</li> <li><code>override-destination</code>: \u8986\u76d6\u5168\u5c40<code>override-destination</code>\u8bbe\u7f6e</li> </ul>"},{"location":"config/sniff/#force-domain","title":"force-domain","text":"<p>\u5f3a\u5236\u8fdb\u884c\u55c5\u63a2\u7684\u57df\u540d\u5217\u8868\uff0c\u4f7f\u7528\u57df\u540d\u901a\u914d</p>"},{"location":"config/sniff/#skip-domain","title":"skip-domain","text":"<p>\u8df3\u8fc7\u55c5\u63a2\u7684\u57df\u540d\u5217\u8868\uff0c\u4f7f\u7528\u57df\u540d\u901a\u914d</p>"},{"location":"config/sniff/#skip-src-address","title":"skip-src-address","text":"<p>\u8df3\u8fc7\u55c5\u63a2\u7684\u6765\u6e90 IP \u6bb5\u5217\u8868</p>"},{"location":"config/sniff/#skip-dst-address","title":"skip-dst-address","text":"<p>\u8df3\u8fc7\u55c5\u63a2\u7684\u76ee\u6807 IP \u6bb5\u5217\u8868</p>"},{"location":"example/","title":"Index","text":""},{"location":"example/#alpha","title":"Alpha \u5206\u652f","text":"<p>\u5f00\u53d1\u7248\uff0c\u65b0\u7279\u6027\u652f\u6301</p> <p>\u94fe\u63a5</p>"},{"location":"example/#meta","title":"Meta \u5206\u652f","text":"<p>\u7a33\u5b9a\u7248\uff0c\u6bcf\u6708\u4e00\u66f4\uff0c\u90e8\u5206\u6587\u6863\u5185\u5bb9\u4e0d\u4f1a\u53ca\u65f6\u53d1\u5e03\u5728 meta \u5206\u652f\u5185</p> <p>\u94fe\u63a5</p>"},{"location":"example/conf/","title":"\u5feb\u6377\u914d\u7f6e","text":"GeoXRULE-SETStash(\u79c1\u8d27) configlink <pre><code># url \u91cc\u586b\u5199\u81ea\u5df1\u7684\u8ba2\u9605,\u540d\u79f0\u4e0d\u80fd\u91cd\u590d\nproxy-providers:\n  provider1:\n    url: \"\"\n    type: http\n    interval: 86400\n    health-check: {enable: true,url: \"https://www.gstatic.com/generate_204\", interval: 300}\n    override:\n      additional-prefix: \"[provider1]\"\n\n  provider2:\n    url: \"\"\n    type: http\n    interval: 86400\n    health-check: {enable: true,url: \"https://www.gstatic.com/generate_204\",interval: 300}\n    override:\n      additional-prefix: \"[provider2]\"\n\nproxies: \n  - name: \"\u76f4\u8fde\"\n    type: direct\n    udp: true\n\nmixed-port: 7890\nipv6: true\nallow-lan: true\nunified-delay: false\ntcp-concurrent: true\nexternal-controller: 127.0.0.1:9090\nexternal-ui: ui\nexternal-ui-url: \"https://github.com/MetaCubeX/metacubexd/archive/refs/heads/gh-pages.zip\"\n\ngeodata-mode: true\ngeox-url:\n  geoip: \"https://mirror.ghproxy.com/https://github.com/MetaCubeX/meta-rules-dat/releases/download/latest/geoip-lite.dat\"\n  geosite: \"https://mirror.ghproxy.com/https://github.com/MetaCubeX/meta-rules-dat/releases/download/latest/geosite.dat\"\n  mmdb: \"https://mirror.ghproxy.com/https://github.com/MetaCubeX/meta-rules-dat/releases/download/latest/country-lite.mmdb\"\n  asn: \"https://mirror.ghproxy.com/https://github.com/xishang0128/geoip/releases/download/latest/GeoLite2-ASN.mmdb\"\n\nfind-process-mode: strict\nglobal-client-fingerprint: chrome\n\nprofile:\n  store-selected: true\n  store-fake-ip: true\n\nsniffer:\n  enable: true\n  sniff:\n    HTTP:\n      ports: [80, 8080-8880]\n      override-destination: true\n    TLS:\n      ports: [443, 8443]\n    QUIC:\n      ports: [443, 8443]\n  skip-domain:\n    - \"Mijia Cloud\"\n    - \"+.push.apple.com\"\n\ntun:\n  enable: true\n  stack: mixed\n  dns-hijack:\n    - \"any:53\"\n    - \"tcp://any:53\"\n  auto-route: true\n  auto-redirect: true\n  auto-detect-interface: true\n\ndns:\n  enable: true\n  ipv6: true\n  respect-rules: true\n  enhanced-mode: fake-ip\n  fake-ip-filter:\n    - \"*\"\n    - \"+.lan\"\n    - \"+.local\"\n    - \"+.market.xiaomi.com\"\n  nameserver:\n    - https://120.53.53.53/dns-query\n    - https://223.5.5.5/dns-query\n  proxy-server-nameserver:\n    - https://120.53.53.53/dns-query\n    - https://223.5.5.5/dns-query\n  nameserver-policy:\n    \"geosite:cn,private\":\n      - https://120.53.53.53/dns-query\n      - https://223.5.5.5/dns-query\n    \"geosite:geolocation-!cn\":\n      - \"https://dns.cloudflare.com/dns-query\"\n      - \"https://dns.google/dns-query\"\n\nproxy-groups:\n\n  - name: \u9ed8\u8ba4\n    type: select\n    proxies: [\u81ea\u52a8\u9009\u62e9,\u76f4\u8fde,\u9999\u6e2f,\u53f0\u6e7e,\u65e5\u672c,\u65b0\u52a0\u5761,\u7f8e\u56fd,\u5176\u5b83\u5730\u533a,\u5168\u90e8\u8282\u70b9]\n\n  - name: Google\n    type: select\n    proxies: [\u9ed8\u8ba4,\u9999\u6e2f,\u53f0\u6e7e,\u65e5\u672c,\u65b0\u52a0\u5761,\u7f8e\u56fd,\u5176\u5b83\u5730\u533a,\u5168\u90e8\u8282\u70b9,\u81ea\u52a8\u9009\u62e9,\u76f4\u8fde]\n\n  - name: Telegram\n    type: select\n    proxies: [\u9ed8\u8ba4,\u9999\u6e2f,\u53f0\u6e7e,\u65e5\u672c,\u65b0\u52a0\u5761,\u7f8e\u56fd,\u5176\u5b83\u5730\u533a,\u5168\u90e8\u8282\u70b9,\u81ea\u52a8\u9009\u62e9,\u76f4\u8fde]\n\n  - name: Twitter\n    type: select\n    proxies: [\u9ed8\u8ba4,\u9999\u6e2f,\u53f0\u6e7e,\u65e5\u672c,\u65b0\u52a0\u5761,\u7f8e\u56fd,\u5176\u5b83\u5730\u533a,\u5168\u90e8\u8282\u70b9,\u81ea\u52a8\u9009\u62e9,\u76f4\u8fde]\n\n  - name: \u54d4\u54e9\u54d4\u54e9\n    type: select\n    proxies: [\u9ed8\u8ba4,\u9999\u6e2f,\u53f0\u6e7e,\u65e5\u672c,\u65b0\u52a0\u5761,\u7f8e\u56fd,\u5176\u5b83\u5730\u533a,\u5168\u90e8\u8282\u70b9,\u81ea\u52a8\u9009\u62e9,\u76f4\u8fde]\n\n  - name: \u5df4\u54c8\u59c6\u7279\n    type: select\n    proxies: [\u9ed8\u8ba4,\u9999\u6e2f,\u53f0\u6e7e,\u65e5\u672c,\u65b0\u52a0\u5761,\u7f8e\u56fd,\u5176\u5b83\u5730\u533a,\u5168\u90e8\u8282\u70b9,\u81ea\u52a8\u9009\u62e9,\u76f4\u8fde]\n\n  - name: YouTube\n    type: select\n    proxies: [\u9ed8\u8ba4,\u9999\u6e2f,\u53f0\u6e7e,\u65e5\u672c,\u65b0\u52a0\u5761,\u7f8e\u56fd,\u5176\u5b83\u5730\u533a,\u5168\u90e8\u8282\u70b9,\u81ea\u52a8\u9009\u62e9,\u76f4\u8fde]\n\n  - name: NETFLIX\n    type: select\n    proxies: [\u9ed8\u8ba4,\u9999\u6e2f,\u53f0\u6e7e,\u65e5\u672c,\u65b0\u52a0\u5761,\u7f8e\u56fd,\u5176\u5b83\u5730\u533a,\u5168\u90e8\u8282\u70b9,\u81ea\u52a8\u9009\u62e9,\u76f4\u8fde]\n\n  - name: Spotify\n    type: select\n    proxies:  [\u9ed8\u8ba4,\u9999\u6e2f,\u53f0\u6e7e,\u65e5\u672c,\u65b0\u52a0\u5761,\u7f8e\u56fd,\u5176\u5b83\u5730\u533a,\u5168\u90e8\u8282\u70b9,\u81ea\u52a8\u9009\u62e9,\u76f4\u8fde]\n\n  - name: Github\n    type: select\n    proxies:  [\u9ed8\u8ba4,\u9999\u6e2f,\u53f0\u6e7e,\u65e5\u672c,\u65b0\u52a0\u5761,\u7f8e\u56fd,\u5176\u5b83\u5730\u533a,\u5168\u90e8\u8282\u70b9,\u81ea\u52a8\u9009\u62e9,\u76f4\u8fde]\n\n  - name: \u56fd\u5185\n    type: select\n    proxies:  [\u76f4\u8fde,\u9ed8\u8ba4,\u9999\u6e2f,\u53f0\u6e7e,\u65e5\u672c,\u65b0\u52a0\u5761,\u7f8e\u56fd,\u5176\u5b83\u5730\u533a,\u5168\u90e8\u8282\u70b9,\u81ea\u52a8\u9009\u62e9]\n\n  - name: \u5176\u4ed6\n    type: select\n    proxies:  [\u9ed8\u8ba4,\u9999\u6e2f,\u53f0\u6e7e,\u65e5\u672c,\u65b0\u52a0\u5761,\u7f8e\u56fd,\u5176\u5b83\u5730\u533a,\u5168\u90e8\u8282\u70b9,\u81ea\u52a8\u9009\u62e9,\u76f4\u8fde]\n\n  #\u5206\u9694,\u4e0b\u9762\u662f\u5730\u533a\u5206\u7ec4\n  - name: \u9999\u6e2f\n    type: select\n    include-all: true\n    filter: \"(?i)\u6e2f|hk|hongkong|hong kong\"\n\n  - name: \u53f0\u6e7e\n    type: select\n    include-all: true\n    filter: \"(?i)\u53f0|tw|taiwan\"\n\n  - name: \u65e5\u672c\n    type: select\n    include-all: true\n    filter: \"(?i)\u65e5|jp|japan\"\n\n  - name: \u7f8e\u56fd\n    type: select\n    include-all: true\n    filter: \"(?i)\u7f8e|us|unitedstates|united states\"\n\n  - name: \u65b0\u52a0\u5761\n    type: select\n    include-all: true\n    filter: \"(?i)(\u65b0|sg|singapore)\"\n\n  - name: \u5176\u5b83\u5730\u533a\n    type: select\n    include-all: true\n    filter: \"(?i)^(?!.*(?:\ud83c\udded\ud83c\uddf0|\ud83c\uddef\ud83c\uddf5|\ud83c\uddfa\ud83c\uddf8|\ud83c\uddf8\ud83c\uddec|\ud83c\udde8\ud83c\uddf3|\u6e2f|hk|hongkong|\u53f0|tw|taiwan|\u65e5|jp|japan|\u65b0|sg|singapore|\u7f8e|us|unitedstates)).*\"\n\n  - name: \u5168\u90e8\u8282\u70b9\n    type: select\n    include-all: true\n\n  - name: \u81ea\u52a8\u9009\u62e9\n    type: url-test\n    include-all: true\n    tolerance: 10\n\nrules:\n  - GEOIP,lan,\u76f4\u8fde,no-resolve\n  - GEOSITE,github,Github\n  - GEOSITE,twitter,Twitter\n  - GEOSITE,youtube,YouTube\n  - GEOSITE,google,Google\n  - GEOSITE,telegram,Telegram\n  - GEOSITE,netflix,NETFLIX\n  - GEOSITE,bilibili,\u54d4\u54e9\u54d4\u54e9\n  - GEOSITE,bahamut,\u5df4\u54c8\u59c6\u7279\n  - GEOSITE,spotify,Spotify\n  - GEOSITE,CN,\u56fd\u5185\n  - GEOSITE,geolocation-!cn,\u5176\u4ed6\n\n  - GEOIP,google,Google\n  - GEOIP,netflix,NETFLIX\n  - GEOIP,telegram,Telegram\n  - GEOIP,twitter,Twitter\n  - GEOIP,CN,\u56fd\u5185\n  - MATCH,\u5176\u4ed6\n</code></pre> <pre><code>https://wiki.metacubex.one/example/geox\n</code></pre> configlink <pre><code># url \u91cc\u586b\u5199\u81ea\u5df1\u7684\u8ba2\u9605,\u540d\u79f0\u4e0d\u80fd\u91cd\u590d\nproxy-providers:\n  provider1:\n    url: \"\"\n    type: http\n    interval: 86400\n    health-check: {enable: true,url: \"https://www.gstatic.com/generate_204\",interval: 300}\n    override:\n      additional-prefix: \"[provider1]\"\n\n  provider2:\n    url: \"\"\n    type: http\n    interval: 86400\n    health-check: {enable: true,url: \"https://www.gstatic.com/generate_204\",interval: 300}\n    override:\n      additional-prefix: \"[provider2]\"\n\nproxies: \n  - name: \"\u76f4\u8fde\"\n    type: direct\n    udp: true\n\nmixed-port: 7890\nipv6: true\nallow-lan: true\nunified-delay: false\ntcp-concurrent: true\nexternal-controller: 127.0.0.1:9090\nexternal-ui: ui\nexternal-ui-url: \"https://github.com/MetaCubeX/metacubexd/archive/refs/heads/gh-pages.zip\"\n\nfind-process-mode: strict\nglobal-client-fingerprint: chrome\n\nprofile:\n  store-selected: true\n  store-fake-ip: true\n\nsniffer:\n  enable: true\n  sniff:\n    HTTP:\n      ports: [80, 8080-8880]\n      override-destination: true\n    TLS:\n      ports: [443, 8443]\n    QUIC:\n      ports: [443, 8443]\n  skip-domain:\n    - \"Mijia Cloud\"\n    - \"+.push.apple.com\"\n\ntun:\n  enable: true\n  stack: mixed\n  dns-hijack:\n    - \"any:53\"\n    - \"tcp://any:53\"\n  auto-route: true\n  auto-redirect: true\n  auto-detect-interface: true\n\ndns:\n  enable: true\n  ipv6: true\n  respect-rules: true\n  enhanced-mode: fake-ip\n  fake-ip-filter:\n    - \"*\"\n    - \"+.lan\"\n    - \"+.local\"\n    - \"+.market.xiaomi.com\"\n  nameserver:\n    - https://120.53.53.53/dns-query\n    - https://223.5.5.5/dns-query\n  proxy-server-nameserver:\n    - https://120.53.53.53/dns-query\n    - https://223.5.5.5/dns-query\n  nameserver-policy:\n    \"rule-set:cn_domain,private_domain\":\n      - https://120.53.53.53/dns-query\n      - https://223.5.5.5/dns-query\n    \"rule-set:geolocation-!cn\":\n      - \"https://dns.cloudflare.com/dns-query\"\n      - \"https://dns.google/dns-query\"\n\nproxy-groups:\n\n  - name: \u9ed8\u8ba4\n    type: select\n    proxies: [\u81ea\u52a8\u9009\u62e9,\u76f4\u8fde,\u9999\u6e2f,\u53f0\u6e7e,\u65e5\u672c,\u65b0\u52a0\u5761,\u7f8e\u56fd,\u5176\u5b83\u5730\u533a,\u5168\u90e8\u8282\u70b9]\n\n  - name: Google\n    type: select\n    proxies: [\u9ed8\u8ba4,\u9999\u6e2f,\u53f0\u6e7e,\u65e5\u672c,\u65b0\u52a0\u5761,\u7f8e\u56fd,\u5176\u5b83\u5730\u533a,\u5168\u90e8\u8282\u70b9,\u81ea\u52a8\u9009\u62e9,\u76f4\u8fde]\n\n  - name: Telegram\n    type: select\n    proxies: [\u9ed8\u8ba4,\u9999\u6e2f,\u53f0\u6e7e,\u65e5\u672c,\u65b0\u52a0\u5761,\u7f8e\u56fd,\u5176\u5b83\u5730\u533a,\u5168\u90e8\u8282\u70b9,\u81ea\u52a8\u9009\u62e9,\u76f4\u8fde]\n\n  - name: Twitter\n    type: select\n    proxies: [\u9ed8\u8ba4,\u9999\u6e2f,\u53f0\u6e7e,\u65e5\u672c,\u65b0\u52a0\u5761,\u7f8e\u56fd,\u5176\u5b83\u5730\u533a,\u5168\u90e8\u8282\u70b9,\u81ea\u52a8\u9009\u62e9,\u76f4\u8fde]\n\n  - name: \u54d4\u54e9\u54d4\u54e9\n    type: select\n    proxies: [\u9ed8\u8ba4,\u9999\u6e2f,\u53f0\u6e7e,\u65e5\u672c,\u65b0\u52a0\u5761,\u7f8e\u56fd,\u5176\u5b83\u5730\u533a,\u5168\u90e8\u8282\u70b9,\u81ea\u52a8\u9009\u62e9,\u76f4\u8fde]\n\n  - name: \u5df4\u54c8\u59c6\u7279\n    type: select\n    proxies: [\u9ed8\u8ba4,\u9999\u6e2f,\u53f0\u6e7e,\u65e5\u672c,\u65b0\u52a0\u5761,\u7f8e\u56fd,\u5176\u5b83\u5730\u533a,\u5168\u90e8\u8282\u70b9,\u81ea\u52a8\u9009\u62e9,\u76f4\u8fde]\n\n  - name: YouTube\n    type: select\n    proxies: [\u9ed8\u8ba4,\u9999\u6e2f,\u53f0\u6e7e,\u65e5\u672c,\u65b0\u52a0\u5761,\u7f8e\u56fd,\u5176\u5b83\u5730\u533a,\u5168\u90e8\u8282\u70b9,\u81ea\u52a8\u9009\u62e9,\u76f4\u8fde]\n\n  - name: NETFLIX\n    type: select\n    proxies: [\u9ed8\u8ba4,\u9999\u6e2f,\u53f0\u6e7e,\u65e5\u672c,\u65b0\u52a0\u5761,\u7f8e\u56fd,\u5176\u5b83\u5730\u533a,\u5168\u90e8\u8282\u70b9,\u81ea\u52a8\u9009\u62e9,\u76f4\u8fde]\n\n  - name: Spotify\n    type: select\n    proxies:  [\u9ed8\u8ba4,\u9999\u6e2f,\u53f0\u6e7e,\u65e5\u672c,\u65b0\u52a0\u5761,\u7f8e\u56fd,\u5176\u5b83\u5730\u533a,\u5168\u90e8\u8282\u70b9,\u81ea\u52a8\u9009\u62e9,\u76f4\u8fde]\n\n  - name: Github\n    type: select\n    proxies:  [\u9ed8\u8ba4,\u9999\u6e2f,\u53f0\u6e7e,\u65e5\u672c,\u65b0\u52a0\u5761,\u7f8e\u56fd,\u5176\u5b83\u5730\u533a,\u5168\u90e8\u8282\u70b9,\u81ea\u52a8\u9009\u62e9,\u76f4\u8fde]\n\n  - name: \u56fd\u5185\n    type: select\n    proxies:  [\u76f4\u8fde,\u9ed8\u8ba4,\u9999\u6e2f,\u53f0\u6e7e,\u65e5\u672c,\u65b0\u52a0\u5761,\u7f8e\u56fd,\u5176\u5b83\u5730\u533a,\u5168\u90e8\u8282\u70b9,\u81ea\u52a8\u9009\u62e9]\n\n  - name: \u5176\u4ed6\n    type: select\n    proxies:  [\u9ed8\u8ba4,\u9999\u6e2f,\u53f0\u6e7e,\u65e5\u672c,\u65b0\u52a0\u5761,\u7f8e\u56fd,\u5176\u5b83\u5730\u533a,\u5168\u90e8\u8282\u70b9,\u81ea\u52a8\u9009\u62e9,\u76f4\u8fde]\n\n  #\u5206\u9694,\u4e0b\u9762\u662f\u5730\u533a\u5206\u7ec4\n  - name: \u9999\u6e2f\n    type: select\n    include-all: true\n    filter: \"(?i)\u6e2f|hk|hongkong|hong kong\"\n\n  - name: \u53f0\u6e7e\n    type: select\n    include-all: true\n    filter: \"(?i)\u53f0|tw|taiwan\"\n\n  - name: \u65e5\u672c\n    type: select\n    include-all: true\n    filter: \"(?i)\u65e5|jp|japan\"\n\n  - name: \u7f8e\u56fd\n    type: select\n    include-all: true\n    filter: \"(?i)\u7f8e|us|unitedstates|united states\"\n\n  - name: \u65b0\u52a0\u5761\n    type: select\n    include-all: true\n    filter: \"(?i)(\u65b0|sg|singapore)\"\n\n  - name: \u5176\u5b83\u5730\u533a\n    type: select\n    include-all: true\n    filter: \"(?i)^(?!.*(?:\ud83c\udded\ud83c\uddf0|\ud83c\uddef\ud83c\uddf5|\ud83c\uddfa\ud83c\uddf8|\ud83c\uddf8\ud83c\uddec|\ud83c\udde8\ud83c\uddf3|\u6e2f|hk|hongkong|\u53f0|tw|taiwan|\u65e5|jp|japan|\u65b0|sg|singapore|\u7f8e|us|unitedstates)).*\"\n\n  - name: \u5168\u90e8\u8282\u70b9\n    type: select\n    include-all: true\n\n  - name: \u81ea\u52a8\u9009\u62e9\n    type: url-test\n    include-all: true\n    tolerance: 10\n\nrules:\n  - RULE-SET,private_ip,\u76f4\u8fde,no-resolve\n  - RULE-SET,github_domain,Github\n  - RULE-SET,twitter_domain,Twitter\n  - RULE-SET,youtube_domain,YouTube\n  - RULE-SET,google_domain,Google\n  - RULE-SET,telegram_domain,Telegram\n  - RULE-SET,netflix_domain,NETFLIX\n  - RULE-SET,bilibili_domain,\u54d4\u54e9\u54d4\u54e9\n  - RULE-SET,bahamut_domain,\u5df4\u54c8\u59c6\u7279\n  - RULE-SET,spotify_domain,Spotify\n  - RULE-SET,cn_domain,\u56fd\u5185\n  - RULE-SET,geolocation-!cn,\u5176\u4ed6\n\n  - RULE-SET,google_ip,Google\n  - RULE-SET,netflix_ip,NETFLIX\n  - RULE-SET,telegram_ip,Telegram\n  - RULE-SET,twitter_ip,Twitter\n  - RULE-SET,cn_ip,\u56fd\u5185\n  - MATCH,\u5176\u4ed6\n\nrule-anchor:\n  ip: &amp;ip {type: http, interval: 86400, behavior: ipcidr, format: mrs}\n  domain: &amp;domain {type: http, interval: 86400, behavior: domain, format: mrs}\nrule-providers:\n  private_domain:\n    &lt;&lt;: *domain\n    url: \"https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/private.mrs\"\n  cn_domain:\n    &lt;&lt;: *domain\n    url: \"https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/cn.mrs\"\n  biliintl_domain:\n    &lt;&lt;: *domain\n    url: \"https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/biliintl.mrs\"\n  ehentai_domain:\n    &lt;&lt;: *domain\n    url: \"https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/ehentai.mrs\"\n  github_domain:\n    &lt;&lt;: *domain\n    url: \"https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/github.mrs\"\n  twitter_domain:\n    &lt;&lt;: *domain\n    url: \"https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/twitter.mrs\"\n  youtube_domain:\n    &lt;&lt;: *domain\n    url: \"https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/youtube.mrs\"\n  google_domain:\n    &lt;&lt;: *domain\n    url: \"https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/google.mrs\"\n  telegram_domain:\n    &lt;&lt;: *domain\n    url: \"https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/telegram.mrs\"\n  netflix_domain:\n    &lt;&lt;: *domain\n    url: \"https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/netflix.mrs\"\n  bilibili_domain:\n    &lt;&lt;: *domain\n    url: \"https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/bilibili.mrs\"\n  bahamut_domain:\n    &lt;&lt;: *domain\n    url: \"https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/bahamut.mrs\"\n  spotify_domain:\n    &lt;&lt;: *domain\n    url: \"https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/spotify.mrs\"\n  pixiv_domain:\n    &lt;&lt;: *domain\n    url: \"https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/pixiv.mrs\"\n  geolocation-!cn:\n    &lt;&lt;: *domain\n    url: \"https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/geolocation-!cn.mrs\"\n\n  private_ip:\n    &lt;&lt;: *ip\n    url: \"https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geoip/private.mrs\"\n  cn_ip:\n    &lt;&lt;: *ip\n    url: \"https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geoip/cn.mrs\"\n  google_ip:\n    &lt;&lt;: *ip\n    url: \"https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geoip/google.mrs\"\n  netflix_ip:\n    &lt;&lt;: *ip\n    url: \"https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geoip/netflix.mrs\"\n  twitter_ip:\n    &lt;&lt;: *ip\n    url: \"https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geoip/twitter.mrs\"\n  telegram_ip:\n    &lt;&lt;: *ip\n    url: \"https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geoip/telegram.mrs\"\n</code></pre> <pre><code>https://wiki.metacubex.one/example/mrs\n</code></pre> configlink <pre><code>######### \u951a\u70b9 start #######\n# \u7b56\u7565\u7ec4\u76f8\u5173\npr: &amp;pr {type: select, proxies: [\u9ed8\u8ba4, \u9999\u6e2f, \u9999\u6e2f\u81ea\u52a8\u9009\u62e9, \u53f0\u6e7e, \u53f0\u6e7e\u81ea\u52a8\u9009\u62e9, \u65e5\u672c, \u65e5\u672c\u81ea\u52a8\u9009\u62e9, \u65b0\u52a0\u5761, \u65b0\u52a0\u5761\u81ea\u52a8\u9009\u62e9, \u7f8e\u56fd, \u7f8e\u56fd\u81ea\u52a8\u9009\u62e9, \u5176\u5b83\u5730\u533a, \u5168\u90e8\u8282\u70b9, \u81ea\u52a8\u9009\u62e9, \u76f4\u8fde]}\n#\u8fd9\u91cc\u662f\u8ba2\u9605\u66f4\u65b0\u548c\u5ef6\u8fdf\u6d4b\u8bd5\u76f8\u5173\u7684\np: &amp;p {type: http, interval: 3600, health-check: {enable: true, url: \"https://www.gstatic.com/generate_204\", interval: 300}}\n######### \u951a\u70b9 end #######\n\n# url \u91cc\u586b\u5199\u81ea\u5df1\u7684\u8ba2\u9605,\u540d\u79f0\u4e0d\u80fd\u91cd\u590d\nproxy-providers:\n  provider1:\n    &lt;&lt;: *p\n    url: \"\"\n  provider2:\n    &lt;&lt;: *p\n    url: \"\"\nipv6: true\nallow-lan: true\nmixed-port: 7890\nexternal-controller: 127.0.0.1:9090\nprofile:\n  store-selected: true\n  store-fake-ip: true\ndns:\n  enable: true\n  ipv6: true\n  enhanced-mode: fake-ip\n  fake-ip-range: 28.0.0.1/8\n  fake-ip-filter:\n    - \"*\"\n    - \"+.lan\"\n    - \"+.local\"\n  default-nameserver:\n    - 223.5.5.5\n  nameserver:\n    - https://doh.pub/dns-query\n    - https://dns.alidns.com/dns-query\n\nproxies:\n- name: \"\u76f4\u8fde\"\n  type: direct\n  udp: true\nproxy-groups:\n- {name: \u9ed8\u8ba4, type: select, proxies: [\u81ea\u52a8\u9009\u62e9, \u76f4\u8fde, \u9999\u6e2f, \u9999\u6e2f\u81ea\u52a8\u9009\u62e9, \u53f0\u6e7e, \u53f0\u6e7e\u81ea\u52a8\u9009\u62e9, \u65e5\u672c, \u65e5\u672c\u81ea\u52a8\u9009\u62e9, \u65b0\u52a0\u5761, \u65b0\u52a0\u5761\u81ea\u52a8\u9009\u62e9, \u7f8e\u56fd, \u7f8e\u56fd\u81ea\u52a8\u9009\u62e9, \u5176\u5b83\u5730\u533a, \u5168\u90e8\u8282\u70b9], icon: \"https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/Proxy.png\"}\n- {name: Google, &lt;&lt;: *pr, icon: \"https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/Google_Search.png\"}\n- {name: Apple, &lt;&lt;: *pr, icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/Apple.png}\n- {name: Telegram, &lt;&lt;: *pr, icon: \"https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/Telegram.png\"}\n- {name: Twitter, &lt;&lt;: *pr, icon: \"https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/Twitter.png\"}\n- {name: ehentai, &lt;&lt;: *pr, icon: \"https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/Panda.png\"}\n- {name: \u54d4\u54e9\u54d4\u54e9, &lt;&lt;: *pr, icon: \"https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/bilibili.png\"}\n- {name: \u54d4\u54e9\u4e1c\u5357\u4e9a, &lt;&lt;: *pr, icon: \"https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/bilibili.png\"}\n- {name: \u5df4\u54c8\u59c6\u7279, &lt;&lt;: *pr, icon: \"https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/Bahamut.png\"}\n- {name: YouTube, &lt;&lt;: *pr, icon: \"https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/YouTube.png\"}\n- {name: NETFLIX, &lt;&lt;: *pr, icon: \"https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/Netflix.png\"}\n- {name: Spotify, &lt;&lt;: *pr, icon: \"https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/Spotify.png\"}\n- {name: \u56fd\u5185, type: select, proxies: [\u76f4\u8fde, \u9ed8\u8ba4, \u9999\u6e2f, \u9999\u6e2f\u81ea\u52a8\u9009\u62e9, \u53f0\u6e7e, \u53f0\u6e7e\u81ea\u52a8\u9009\u62e9, \u65e5\u672c, \u65e5\u672c\u81ea\u52a8\u9009\u62e9, \u65b0\u52a0\u5761, \u65b0\u52a0\u5761\u81ea\u52a8\u9009\u62e9, \u7f8e\u56fd, \u7f8e\u56fd\u81ea\u52a8\u9009\u62e9, \u5176\u5b83\u5730\u533a, \u5168\u90e8\u8282\u70b9, \u81ea\u52a8\u9009\u62e9], icon: \"https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/China_Map.png\"}\n- {name: \u5176\u4ed6, &lt;&lt;: *pr, icon: \"https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/Final.png\"}\n  #\u5206\u9694,\u4e0b\u9762\u662f\u5730\u533a\u5206\u7ec4\n- {name: \u9999\u6e2f, type: select, include-all: true, filter: \"(?i)\u6e2f|hk|hongkong|hong kong\", icon: \"https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/HK.png\"}\n- {name: \u53f0\u6e7e, type: select, include-all: true, filter: \"(?i)\u53f0|tw|taiwan\", icon: \"https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/TW.png\"}\n- {name: \u65e5\u672c, type: select, include-all: true, filter: \"(?i)\u65e5|jp|japan\", icon: \"https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/JP.png\"}\n- {name: \u7f8e\u56fd, type: select, include-all: true, filter: \"(?i)\u7f8e|us|unitedstates|united states\", icon: \"https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/US.png\"}\n- {name: \u65b0\u52a0\u5761, type: select, include-all: true, filter: \"(?i)(\u65b0|sg|singapore)\", icon: \"https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/SG.png\"}\n- {name: \u5176\u5b83\u5730\u533a, type: select, include-all: true, filter: \"(?i)^(?!.*(?:\ud83c\udded\ud83c\uddf0|\ud83c\uddef\ud83c\uddf5|\ud83c\uddfa\ud83c\uddf8|\ud83c\uddf8\ud83c\uddec|\ud83c\udde8\ud83c\uddf3|\u6e2f|hk|hongkong|\u53f0|tw|taiwan|\u65e5|jp|japan|\u65b0|sg|singapore|\u7f8e|us|unitedstates)).*\", icon: \"https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/Available.png\"}\n- {name: \u81ea\u52a8\u9009\u62e9, type: url-test, include-all: true, tolerance: 10, icon: \"https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/Auto.png\"}\n- {name: \u5168\u90e8\u8282\u70b9, type: select, include-all: true, icon: \"https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/Global.png\"}\n\n- {name: \u9999\u6e2f\u81ea\u52a8\u9009\u62e9,type: url-test, include-all: true, filter: \"(?i) \u6e2f|hk|hongkong|hong kong\", icon: \"https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/HK.png\"}\n- {name: \u53f0\u6e7e\u81ea\u52a8\u9009\u62e9,type: url-test, include-all: true, filter: \"(?i) \u53f0|tw|taiwan\", icon: \"https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/TW.png\"}\n- {name: \u65e5\u672c\u81ea\u52a8\u9009\u62e9,type: url-test, include-all: true, filter: \"(?i) \u65e5|jp|japan\", icon: \"https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/JP.png\"}\n- {name: \u7f8e\u56fd\u81ea\u52a8\u9009\u62e9,type: url-test, include-all: true, filter: \"(?i) \u7f8e|us|unitedstates|united states\", icon: \"https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/US.png\"}\n- {name: \u65b0\u52a0\u5761\u81ea\u52a8\u9009\u62e9,type: url-test, include-all: true, filter: \"(?i)(\u65b0|sg|singapore)\", icon: \"https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/SG.png\"}\n\nrules:\n- GEOIP,lan,\u76f4\u8fde,no-resolve\n- RULE-SET,biliintl_domain,\u54d4\u54e9\u4e1c\u5357\u4e9a\n- RULE-SET,ehentai_domain,ehentai\n- RULE-SET,github_domain,\u5176\u4ed6\n- RULE-SET,twitter_domain,Twitter\n- RULE-SET,youtube_domain,YouTube\n- RULE-SET,google_domain,Google\n- RULE-SET,telegram_domain,Telegram\n- RULE-SET,netflix_domain,NETFLIX\n- RULE-SET,bilibili_domain,\u54d4\u54e9\u54d4\u54e9\n- RULE-SET,bahamut_domain,\u5df4\u54c8\u59c6\u7279\n- RULE-SET,spotify_domain,Spotify\n- RULE-SET,pixiv_domain,\u5176\u4ed6\n- RULE-SET,geolocation-!cn,\u5176\u4ed6\n\n- RULE-SET,google_ip,Google\n- RULE-SET,netflix_ip,NETFLIX\n- RULE-SET,telegram_ip,Telegram\n- RULE-SET,twitter_ip,Twitter\n- RULE-SET,cn_domain,\u56fd\u5185\n- RULE-SET,cn_ip,\u56fd\u5185\n- MATCH,\u5176\u4ed6\n\nrule-anchor:\n  ip: &amp;ip {type: http, interval: 86400, behavior: ipcidr, format: text}\n  domain: &amp;domain {type: http, interval: 86400, behavior: domain, format: text}\nrule-providers:\n  private:\n    &lt;&lt;: *domain\n    url: \"https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/private.list\"\n  cn_domain:\n    &lt;&lt;: *domain\n    url: \"https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/cn.list\"\n  biliintl_domain:\n    &lt;&lt;: *domain\n    url: \"https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/biliintl.list\"\n  ehentai_domain:\n    &lt;&lt;: *domain\n    url: \"https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/ehentai.list\"\n  github_domain:\n    &lt;&lt;: *domain\n    url: \"https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/github.list\"\n  twitter_domain:\n    &lt;&lt;: *domain\n    url: \"https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/twitter.list\"\n  youtube_domain:\n    &lt;&lt;: *domain\n    url: \"https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/youtube.list\"\n  google_domain:\n    &lt;&lt;: *domain\n    url: \"https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/google.list\"\n  telegram_domain:\n    &lt;&lt;: *domain\n    url: \"https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/telegram.list\"\n  netflix_domain:\n    &lt;&lt;: *domain\n    url: \"https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/netflix.list\"\n  bilibili_domain:\n    &lt;&lt;: *domain\n    url: \"https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/bilibili.list\"\n  bahamut_domain:\n    &lt;&lt;: *domain\n    url: \"https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/bahamut.list\"\n  spotify_domain:\n    &lt;&lt;: *domain\n    url: \"https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/spotify.list\"\n  pixiv_domain:\n    &lt;&lt;: *domain\n    url: \"https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/pixiv.list\"\n  geolocation-!cn:\n    &lt;&lt;: *domain\n    url: \"https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/geolocation-!cn.list\"\n\n  cn_ip:\n    &lt;&lt;: *ip\n    url: \"https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geoip/cn.list\"\n  google_ip:\n    &lt;&lt;: *ip\n    url: \"https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geoip/google.list\"\n  netflix_ip:\n    &lt;&lt;: *ip\n    url: \"https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geoip/netflix.list\"\n  twitter_ip:\n    &lt;&lt;: *ip\n    url: \"https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geoip/twitter.list\"\n  telegram_ip:\n    &lt;&lt;: *ip\n    url: \"https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geoip/telegram.list\"\n</code></pre> <pre><code>https://wiki.metacubex.one/example/stash\n</code></pre>"},{"location":"handbook/","title":"\u753b\u997c","text":""},{"location":"handbook/syntax/","title":"\u8bed\u6cd5","text":"<p>mihomo \u4f7f\u7528 <code>yaml</code> \u4f5c\u4e3a\u914d\u7f6e\u6587\u4ef6\u683c\u5f0f</p> <p><code>yaml</code> \u5927\u5c0f\u5199\u654f\u611f\uff0c\u4f7f\u7528\u7f29\u8fdb\u8868\u793a\u5c42\u7ea7\u5173\u7cfb\uff0c\u7f29\u8fdb\u4e0d\u5141\u8bb8\u4f7f\u7528 tab, \u53ea\u5141\u8bb8\u7a7a\u683c\uff0c\u7f29\u8fdb\u7684\u7a7a\u683c\u6570\u4e0d\u91cd\u8981\uff0c\u53ea\u8981\u76f8\u540c\u5c42\u7ea7\u7684\u5143\u7d20\u5de6\u5bf9\u9f50\u5373\u53ef</p>"},{"location":"handbook/syntax/#_2","title":"\u6ce8\u91ca","text":"<p>\u5728 <code>yaml</code> \u683c\u5f0f\u7684\u6587\u4ef6\u4e2d\uff0c\u4ee5\"#\"\u4f5c\u4e3a\u6ce8\u91ca\u5f00\u5934\uff0c\u884c\u5c3e\u4e3a\u7ed3\u5c3e\uff0c\"#\"\u5fc5\u987b\u5728\u884c\u5934\u6216\u8005\u5fc5\u987b\u5728\u524d\u65b9\u6709\u7a7a\u683c\uff0c\u5426\u5219\u4e0d\u89c6\u4e3a\u6ce8\u91ca</p> <pre><code>port: 7890 # http \u4ee3\u7406\u7aef\u53e3\nsocks-port: 7891\n# socks \u4ee3\u7406\u7aef\u53e3\n</code></pre>"},{"location":"handbook/syntax/#_3","title":"\u5bf9\u8c61","text":"<p>\u5bf9\u8c61\u952e\u503c\u5bf9\u4f7f\u7528\u5192\u53f7\u7ed3\u6784\u8868\u793a<code>key: value</code>,\u5192\u53f7\u540e\u9762\u8981\u52a0\u4e00\u4e2a\u7a7a\u683c\uff0c\u4f7f\u7528\u7f29\u8fdb\u8868\u793a\u5c42\u7ea7\u5173\u7cfb</p> <p>\u56e0<code>yaml</code>\u683c\u5f0f\u4e3a<code>json</code>\u7684\u8d85\u96c6\uff0c\u6240\u4ee5\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528<code>json</code>\u7684\u5199\u6cd5</p>"},{"location":"handbook/syntax/#_4","title":"\u591a\u884c","text":"<pre><code>tun:\n  enable: true\n  stack: system\n  auto-route: true\n  auto-detect-interface: true\n</code></pre>"},{"location":"handbook/syntax/#json","title":"\u591a\u884c json","text":"<pre><code>tun: { \n  enable: true,\n  stack: system,\n  auto-route: true,\n  auto-detect-interface: true\n  }\n</code></pre>"},{"location":"handbook/syntax/#json_1","title":"\u5355\u884c json","text":"<pre><code>tun: { enable: true, stack: system, auto-route: true, auto-detect-interface: true}\n</code></pre>"},{"location":"handbook/syntax/#json_2","title":"\u5168 json","text":"<pre><code>{\n  \"tun\": {\n    \"enable\": true,\n    \"stack\": \"system\",\n    \"auto-route\": true,\n    \"auto-detect-interface\": true\n  }\n}\n</code></pre>"},{"location":"handbook/syntax/#_5","title":"\u6570\u7ec4","text":"<p>\u4ee5<code>-</code>\u5f00\u5934\u7684\u884c\u8868\u793a\u6784\u6210\u4e00\u4e2a\u6570\u7ec4\uff0c\u7528\u4e8e\u4e00\u4e2a\u5bf9\u8c61\u5185\u7684\u591a\u4e2a\u503c</p>"},{"location":"handbook/syntax/#_6","title":"\u591a\u884c\u6570\u7ec4","text":"<pre><code>a:\n  - b\n  - c\n  - d\n</code></pre>"},{"location":"handbook/syntax/#json_3","title":"\u5355\u884c json \u6570\u7ec4","text":"<pre><code>a: [b, c, d]\n</code></pre>"},{"location":"handbook/syntax/#_7","title":"\u5f15\u7528","text":"<p><code>&amp;</code> \u951a\u70b9\u548c <code>*</code> \u522b\u540d\uff0c\u53ef\u4ee5\u7528\u6765\u5f15\u7528\uff0c<code>&amp;</code> \u7528\u6765\u5efa\u7acb\u951a\u70b9\uff0c<code>&lt;&lt;</code>\u8868\u793a\u5408\u5e76\u5230\u5f53\u524d\u6570\u636e\uff0c<code>*</code> \u7528\u6765\u5f15\u7528\u951a\u70b9</p> <p>\u5982\u4e0b\u793a\u4f8b\u4e2d\uff0c\u56e0<code>p</code>\u8fd9\u4e2a\u952e\u5728<code>mihomo</code>\u4e2d\u4e0d\u5b58\u5728\uff0c\u6240\u4ee5\u5728<code>mihomo</code>\u89e3\u6790\u914d\u7f6e\u4f1a\u88ab\u5ffd\u89c6</p> <p>\u5982\u5408\u5e76\u65f6\u6709\u91cd\u590d\u7684\u9879\uff0c\u5219\u4e0d\u4f1a\u53bb\u5408\u5e76</p> <pre><code>p: &amp;p\n  type: http\n  interval: 3600\n  health-check:\n    enable: true\n    url: https://www.gstatic.com/generate_204\n    interval: 300\n\nproxy-providers:\n  provider1:\n    &lt;&lt;: *p\n    url: \"\"\n    path: ./proxy_providers/provider1.yaml\n\n  provider2:\n    &lt;&lt;: *p\n    type: file\n    path: ./proxy_providers/provider2.yaml\n</code></pre> <p>\u7b49\u540c\u4e8e</p> <pre><code>proxy-providers:\n  provider1:\n    type: http\n    interval: 3600\n    health-check:\n      enable: true\n      url: https://www.gstatic.com/generate_204\n      interval: 300\n    url: \"\"\n    path: ./proxy_providers/provider1.yaml\n\n  provider2:\n    interval: 3600\n    health-check:\n      enable: true\n      url: https://www.gstatic.com/generate_204\n      interval: 300\n    type: file\n    path: ./proxy_providers/provider2.yaml\n</code></pre>"},{"location":"handbook/syntax/#_8","title":"\u57df\u540d\u901a\u914d\u7b26","text":""},{"location":"handbook/syntax/#_9","title":"\u901a\u914d\u7b26 <code>*</code>","text":"<p>Clash \u7684\u901a\u914d\u7b26 <code>*</code> \u4e00\u6b21\u53ea\u80fd\u5339\u914d\u4e00\u7ea7\u57df\u540d</p> <p><code>*.baidu.com</code> \u53ea\u5339\u914d <code>tieba.baidu.com</code> \u800c\u4e0d\u5339\u914d <code>123.tieba.baidu.com</code> \u6216\u8005 <code>baidu.com</code></p> <p><code>*</code>\u53ea\u5339\u914d localhost \u7b49\u6ca1\u6709<code>.</code>\u7684\u4e3b\u673a\u540d</p>"},{"location":"handbook/syntax/#_10","title":"\u901a\u914d\u7b26 <code>+</code>","text":"<p>\u901a\u914d\u7b26 \uff0b \u7c7b\u4f3c DOMAIN-SUFFIX, \u53ef\u4ee5\u4e00\u6b21\u6027\u5339\u914d\u591a\u4e2a\u7ea7\u522b</p> <p><code>\uff0b.baidu.com</code> \u5339\u914d <code>tieba.baidu.com</code> \u548c <code>123.tieba.baidu.com</code> \u6216\u8005 <code>baidu.com</code></p> <p>\u901a\u914d\u7b26 <code>\uff0b</code> \u53ea\u80fd\u7528\u4e8e\u57df\u540d\u524d\u7f00\u5339\u914d</p>"},{"location":"handbook/syntax/#_11","title":"\u901a\u914d\u7b26 <code>.</code>","text":"<p>\u901a\u914d\u7b26 . \u53ef\u4ee5\u4e00\u6b21\u6027\u5339\u914d\u591a\u4e2a\u7ea7\u522b</p> <p><code>.baidu.com</code> \u5339\u914d <code>tieba.baidu.com</code> \u548c <code>123.tieba.baidu.com</code>, \u4f46\u4e0d\u80fd\u5339\u914d <code>baidu.com</code></p> <p>\u901a\u914d\u7b26 <code>.</code> \u53ea\u80fd\u7528\u4e8e\u57df\u540d\u524d\u7f00\u5339\u914d</p>"},{"location":"handbook/syntax/#_12","title":"\u4f7f\u7528\u793a\u4f8b","text":"<p>\u4f7f\u7528\u901a\u914d\u7b26\u65f6\uff0c\u5e94\u5f53\u4f7f\u7528\u5f15\u53f7 <code>' '</code>\u6216 <code>\" \"</code>\u5c06\u5185\u5bb9\u5305\u88f9\u8d77\u6765</p> <pre><code>fake-ip-filter:\n- \".lan\"\n- \"xbox.*.microsoft.com\"\n- \"+.xboxlive.com\"\n- localhost.ptlogin2.qq.com\n</code></pre>"},{"location":"handbook/syntax/#_13","title":"\u5f15\u5165\u57df\u540d\u96c6\u5408","text":"<p>Warning</p> <p>rule-set \u4ec5\u652f\u6301 behavior \u4e3a domain/classical</p> <pre><code>fake-ip-filter:\n- \"rule-set:xxx\"\n- \"geosite:xxx\"\n</code></pre>"},{"location":"handbook/syntax/#_14","title":"\u7aef\u53e3\u8303\u56f4","text":"<p>mihomo \u53ef\u4ee5\u4f7f\u7528 <code>-</code> \u6765\u5339\u914d\u7aef\u53e3\u8303\u56f4\uff0c\u4f7f\u7528 <code>/</code> \u6216\u8005 <code>,</code> \u6765\u533a\u5206\u591a\u4e2a\u7aef\u53e3/\u7aef\u53e3\u8303\u56f4</p>"},{"location":"handbook/syntax/#_15","title":"\u793a\u4f8b","text":"<p>\u5339\u914d 114 \u5230 514 \u548c 810 \u5230 1919 \u7aef\u53e3\uff0c\u4ee5\u53ca 65530 \u7aef\u53e3</p> <pre><code>114-514/810-1919,65530\n</code></pre>"},{"location":"startup/","title":"\u4f7f\u7528\u9884\u7f16\u8bd1\u4e8c\u8fdb\u5236","text":"<p>\u4e3a\u4e86\u5f00\u59cb\u4f7f\u7528 mihomo, \u4f60\u53ef\u4ee5\u4ece\u4ee5\u4e0b\u5b89\u88c5\u65b9\u5f0f\u4e2d\u9009\u62e9\u4e00\u4e2a\u4e3a\u5f53\u524d\u7cfb\u7edf\u5b89\u88c5 mihomo</p>"},{"location":"startup/#_1","title":"\u4f7f\u7528\u9884\u7f16\u8bd1\u7684\u4e8c\u8fdb\u5236\u6587\u4ef6","text":"<p>\u8bf7\u5728\u4e0b\u65b9\u9009\u62e9\u4e0b\u8f7d\u5e38\u89c1\u7684\u64cd\u4f5c\u7cfb\u7edf\u5bf9\u5e94\u7684\u4e8c\u8fdb\u5236\u6587\u4ef6</p> WindowsLinuxMacOSFreeBSDAndroid amd64/x86_64386/x86_32arm64/armv8armv7 <p><ul>\u52a0\u8f7d\u4e2d...</ul></p> <p><ul>\u52a0\u8f7d\u4e2d...</ul></p> <p><ul>\u52a0\u8f7d\u4e2d...</ul></p> <p><ul>\u52a0\u8f7d\u4e2d...</ul></p> \u4e8c\u8fdb\u5236\u538b\u7f29\u5305Debian / DEBRedhat / RPMArchlinux / PKG amd64/x86_64386/x86_32arm64/armv8armv7riscv64loong64s390xmips <p><ul>\u52a0\u8f7d\u4e2d...</ul></p> <p><ul>\u52a0\u8f7d\u4e2d...</ul></p> <p><ul>\u52a0\u8f7d\u4e2d...</ul></p> <p><ul>\u52a0\u8f7d\u4e2d...</ul></p> <p><ul>\u52a0\u8f7d\u4e2d...</ul></p> <p><ul>\u52a0\u8f7d\u4e2d...</ul></p> <p><ul>\u52a0\u8f7d\u4e2d...</ul></p> <p><ul>\u52a0\u8f7d\u4e2d...</ul></p> amd64/x86_64386/x86_32arm64/armv8armv7riscv64loong64s390x <p><ul>\u52a0\u8f7d\u4e2d...</ul></p> <p><ul>\u52a0\u8f7d\u4e2d...</ul></p> <p><ul>\u52a0\u8f7d\u4e2d...</ul></p> <p><ul>\u52a0\u8f7d\u4e2d...</ul></p> <p><ul>\u52a0\u8f7d\u4e2d...</ul></p> <p><ul>\u52a0\u8f7d\u4e2d...</ul></p> <p><ul>\u52a0\u8f7d\u4e2d...</ul></p> amd64/x86_64386/x86_32arm64/armv8armv7riscv64loong64s390x <p><ul>\u52a0\u8f7d\u4e2d...</ul></p> <p><ul>\u52a0\u8f7d\u4e2d...</ul></p> <p><ul>\u52a0\u8f7d\u4e2d...</ul></p> <p><ul>\u52a0\u8f7d\u4e2d...</ul></p> <p><ul>\u52a0\u8f7d\u4e2d...</ul></p> <p><ul>\u52a0\u8f7d\u4e2d...</ul></p> <p><ul>\u52a0\u8f7d\u4e2d...</ul></p> amd64/x86_64386/x86_32arm64/armv8armv7riscv64loong64s390x <p><ul>\u52a0\u8f7d\u4e2d...</ul></p> <p><ul>\u52a0\u8f7d\u4e2d...</ul></p> <p><ul>\u52a0\u8f7d\u4e2d...</ul></p> <p><ul>\u52a0\u8f7d\u4e2d...</ul></p> <p><ul>\u52a0\u8f7d\u4e2d...</ul></p> <p><ul>\u52a0\u8f7d\u4e2d...</ul></p> <p><ul>\u52a0\u8f7d\u4e2d...</ul></p> amd64/x86_64arm64/armv8 <p><ul>\u52a0\u8f7d\u4e2d...</ul></p> <p><ul>\u52a0\u8f7d\u4e2d...</ul></p> amd64/x86_64386/x86_32arm64/armv8 <p><ul>\u52a0\u8f7d\u4e2d...</ul></p> <p><ul>\u52a0\u8f7d\u4e2d...</ul></p> <p><ul>\u52a0\u8f7d\u4e2d...</ul></p> arm64/armv8armv7amd64/x86_64386/x86_32 <p><ul>\u52a0\u8f7d\u4e2d...</ul></p> <p><ul>\u52a0\u8f7d\u4e2d...</ul></p> <p><ul>\u52a0\u8f7d\u4e2d...</ul></p> <p><ul>\u52a0\u8f7d\u4e2d...</ul></p>"},{"location":"startup/faq/","title":"\u5e38\u89c1\u95ee\u9898","text":""},{"location":"startup/faq/#alpha-meta","title":"alpha \u548c meta \u5206\u652f\u7684\u533a\u522b","text":"<p>alpha \u5206\u652f\u4e3a\u6700\u65b0\u63d0\u4ea4\u5206\u652f\uff0cmeta \u5206\u652f\u6bcf\u9694\u4e00\u6bb5\u65f6\u95f4\u5408\u5e76 alpha \u5206\u652f\u7684\u4ee3\u7801\uff0cmeta \u5206\u652f\u4e0d\u4e00\u5b9a\u6bd4 alpha \u5206\u652f\u66f4\u7a33\u5b9a\u3002</p>"},{"location":"startup/faq/#_2","title":"\u6211\u5e94\u8be5\u4e0b\u8f7d\u54ea\u4e00\u4e2a\u6587\u4ef6\uff1f","text":"<p>release \u4e2d\uff0c\u5305\u7684\u6587\u4ef6\u540d\u4e2d\u5305\u542b\u4e86\u591a\u4e2a\u4fe1\u606f\uff0c\u5305\u62ec</p> <ul> <li>\u7a0b\u5e8f\u540d\u79f0\uff08clash.meta\uff09</li> <li>\u64cd\u4f5c\u7cfb\u7edf\uff08\u5982 android\u3001darwin\u3001freebsd\u3001linux\u3001windows \u7b49\uff09</li> <li>\u67b6\u6784\uff08\u5982 386\u3001amd64\u3001arm32v7\u3001arm64 \u7b49\uff09</li> <li>\u7f16\u8bd1\u65b9\u5f0f <ul> <li><code>\u9ed8\u8ba4\uff08\u65e0\u989d\u5916\u6807\u8bc6\uff09</code>: \u4f7f\u7528 GOAMD64=v3 \u6807\u7b7e\u7f16\u8bd1\u7684\u9ed8\u8ba4\u7248\u672c</li> <li><code>compatible</code>: \u4f7f\u7528 GOAMD64=v1 \u6807\u7b7e\u8fdb\u884c\u7f16\u8bd1\u3002\u8be5\u7248\u672c\u662f\u4e3a\u4e86\u517c\u5bb9\u7279\u5b9a\u7684\u64cd\u4f5c\u7cfb\u7edf\u6216\u67b6\u6784\u800c\u7f16\u8bd1\u7684\u3002</li> <li><code>go120</code>: \u4f7f\u7528 Golang1.20 \u7248\u672c\u8fdb\u884c\u7f16\u8bd1\u3002\u8be5\u7248\u672c\u662f\u4e3a\u4e86\u517c\u5bb9\u7279\u5b9a\u7684\u64cd\u4f5c\u7cfb\u7edf\u6216\u67b6\u6784\u800c\u7f16\u8bd1\u7684\u3002</li> <li><code>abi1/2</code>: <code>loongarch64</code>\u7684 abi \u7248\u672c </li> </ul> </li> <li>\u5206\u652f\uff08alpha\uff09</li> <li>\u63d0\u4ea4\u7684 git hash \u503c\uff08\u5982 f90066f\uff09</li> </ul> <p>\u53ef\u4ee5\u6839\u636e\u8fd9\u4e9b\u4fe1\u606f\u9009\u62e9\u4f60\u9700\u8981\u4e0b\u8f7d\u7684\u53ef\u6267\u884c\u6587\u4ef6\u3002</p> <p>\ud83d\udc49\u5728\u6b64\u4e86\u89e3\u66f4\u591a\u5173\u4e8e GOAMD64 \u6807\u7b7e\u7684\u4fe1\u606f</p> <p>\ud83d\udc49\u5728\u6b64\u4e86\u89e3\u66f4\u591a\u5173\u4e8e Golang1.20 \u7248\u672c\u7684\u7cfb\u7edf\u517c\u5bb9\u6027\u4fe1\u606f</p> <p>\ud83d\udc49\u5728\u6b64\u4e86\u89e3\u66f4\u591a\u5173\u4e8e<code>loongarch64</code>abi \u7248\u672c\u7684\u4fe1\u606f</p>"},{"location":"startup/web/","title":"web\u9762\u677f","text":"<p>Yacd</p> <p>Metacubexd</p>"},{"location":"startup/client/","title":"Client","text":""},{"location":"startup/client/#windows","title":"Windows","text":"<p>Clash.Mini</p>"},{"location":"startup/client/#mac-os","title":"Mac OS","text":"<p>ClashX.Meta</p>"},{"location":"startup/client/#android","title":"Android","text":"<p>Clash.Meta for Android</p>"},{"location":"startup/client/client/","title":"\u7b2c\u4e09\u65b9\u5de5\u5177","text":""},{"location":"startup/client/client/#windows","title":"Windows","text":"\u9879\u76ee\u540d\u79f0 \u7ef4\u62a4\u72b6\u6001 clash-verge \u505c\u6b62\u7ef4\u62a4 clash-verge-rev \u7ef4\u62a4\u4e2d clash-nyanpasu \u7ef4\u62a4\u4e2d ClashMetaForWindows_Mini \u505c\u6b62\u7ef4\u62a4 clashN \u7ef4\u62a4\u4e2d v2rayN \u7ef4\u62a4\u4e2d clashtui \u7ef4\u62a4\u4e2d GUI.for.Clash \u7ef4\u62a4\u4e2d FlClash \u7ef4\u62a4\u4e2d mihomo-party \u7ef4\u62a4\u4e2d"},{"location":"startup/client/client/#macos","title":"MacOS","text":"\u9879\u76ee\u540d\u79f0 \u7ef4\u62a4\u72b6\u6001 clash-verge \u505c\u6b62\u7ef4\u62a4 clash-verge-rev \u7ef4\u62a4\u4e2d clash-nyanpasu \u7ef4\u62a4\u4e2d GUI.for.Clash \u7ef4\u62a4\u4e2d FlClash \u7ef4\u62a4\u4e2d mihomo-party \u7ef4\u62a4\u4e2d"},{"location":"startup/client/client/#linux","title":"Linux","text":"\u9879\u76ee\u540d\u79f0 \u7ef4\u62a4\u72b6\u6001 clash-verge \u505c\u6b62\u7ef4\u62a4 clash-verge-rev \u7ef4\u62a4\u4e2d clash-nyanpasu \u7ef4\u62a4\u4e2d clashtui \u7ef4\u62a4\u4e2d GUI.for.Clash \u7ef4\u62a4\u4e2d FlClash \u7ef4\u62a4\u4e2d mihomo-party \u7ef4\u62a4\u4e2d"},{"location":"startup/client/client/#android","title":"Android","text":"\u9879\u76ee\u540d\u79f0 \u7ef4\u62a4\u72b6\u6001 FlClash \u7ef4\u62a4\u4e2d"},{"location":"startup/client/client/#merlin-koolcenter-paldier-swrt","title":"Merlin (KoolCenter \u56fa\u4ef6/paldier SWRT \u56fa\u4ef6)","text":"\u9879\u76ee\u540d\u79f0 \u7ef4\u62a4\u72b6\u6001 merlinclashcat \u7ef4\u62a4\u4e2d"},{"location":"startup/client/client/#openwrt","title":"OpenWRT","text":"\u9879\u76ee\u540d\u79f0 \u7ef4\u62a4\u72b6\u6001 OpenClash \u7ef4\u62a4\u4e2d OpenWrt-mihomo \u7ef4\u62a4\u4e2d"},{"location":"startup/client/client/#shell","title":"Shell","text":"\u9879\u76ee\u540d\u79f0 \u7ef4\u62a4\u72b6\u6001 ShellClash \u7ef4\u62a4\u4e2d Xray4Magisk \u7ef4\u62a4\u4e2d Box4 \u7ef4\u62a4\u4e2d Box for Root \u7ef4\u62a4\u4e2d Surfing \u7ef4\u62a4\u4e2d Clash Tproxy Android \u7ef4\u62a4\u4e2d Clash.Meta for Magisk \u505c\u6b62\u7ef4\u62a4"},{"location":"startup/service/","title":"\u521b\u5efa\u8fd0\u884c\u670d\u52a1","text":""},{"location":"startup/service/#systemd","title":"\u4f7f\u7528 systemd","text":"<ul> <li> <p>\u4e0b\u8f7d\u4e8c\u8fdb\u5236\u53ef\u6267\u884c\u6587\u4ef6 releases</p> </li> <li> <p>\u5c06\u4e0b\u8f7d\u7684\u4e8c\u8fdb\u5236\u53ef\u6267\u884c\u6587\u4ef6\u91cd\u540d\u540d\u4e3a <code>mihomo</code> \u5e76\u79fb\u52a8\u5230 <code>/usr/local/bin/</code></p> </li> <li> <p>\u4ee5\u5b88\u62a4\u8fdb\u7a0b\u7684\u65b9\u5f0f\uff0c\u8fd0\u884c mihomo\u3002</p> </li> </ul> <p>\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u5c06 Clash \u4e8c\u8fdb\u5236\u6587\u4ef6\u590d\u5236\u5230 /usr/local/bin, \u914d\u7f6e\u6587\u4ef6\u590d\u5236\u5230 /etc/mihomo:</p> <pre><code>cp mihomo /usr/local/bin\ncp config.yaml /etc/mihomo\n</code></pre> <p>\u521b\u5efa systemd \u914d\u7f6e\u6587\u4ef6 <code>/etc/systemd/system/mihomo.service</code>:</p> <pre><code>[Unit]\nDescription=mihomo Daemon, Another Clash Kernel.\nAfter=network.target NetworkManager.service systemd-networkd.service iwd.service\n\n[Service]\nType=simple\nLimitNPROC=500\nLimitNOFILE=1000000\nCapabilityBoundingSet=CAP_NET_ADMIN CAP_NET_RAW CAP_NET_BIND_SERVICE CAP_SYS_TIME CAP_SYS_PTRACE CAP_DAC_READ_SEARCH CAP_DAC_OVERRIDE\nAmbientCapabilities=CAP_NET_ADMIN CAP_NET_RAW CAP_NET_BIND_SERVICE CAP_SYS_TIME CAP_SYS_PTRACE CAP_DAC_READ_SEARCH CAP_DAC_OVERRIDE\nRestart=always\nExecStartPre=/usr/bin/sleep 1s\nExecStart=/usr/local/bin/mihomo -d /etc/mihomo\nExecReload=/bin/kill -HUP $MAINPID\n\n[Install]\nWantedBy=multi-user.target\n</code></pre> <p>\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u91cd\u65b0\u52a0\u8f7d systemd:</p> <pre><code>systemctl daemon-reload\n</code></pre> <p>\u542f\u7528 mihomo \u670d\u52a1\uff1a</p> <pre><code>systemctl enable mihomo\n</code></pre> <p>\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u7acb\u5373\u542f\u52a8 mihomo:</p> <pre><code>systemctl start mihomo\n</code></pre> <p>\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u4f7f mihomo \u91cd\u65b0\u52a0\u8f7d\uff1a</p> <pre><code>systemctl reload mihomo\n</code></pre> <p>\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u68c0\u67e5 mihomo \u7684\u8fd0\u884c\u72b6\u51b5\uff1a</p> <pre><code>systemctl status mihomo\n</code></pre> <p>\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u68c0\u67e5 mihomo \u7684\u8fd0\u884c\u65e5\u5fd7\uff1a</p> <pre><code>journalctl -u mihomo -o cat -e\n</code></pre> <p>\u6216</p> <pre><code>journalctl -u mihomo -o cat -f\n</code></pre>"},{"location":"en/","title":"Introduction","text":"<p>The non-Chinese pages are translated by ChatGPT 3.5. Feel free to contribute in your local language.</p> <p>This document is still under revision. Your pull requests are welcome.</p>"},{"location":"en/api/#request-example","title":"Request Example","text":"<p>Curl example: <code>curl -H 'Authorization: Bearer ${secret}' http://${controller-api}/configs?force=true -d '{\"path\": \"\", \"payload\": \"\"}' -X PUT</code></p> <p>This request includes the header <code>'Authorization: Bearer ${secret}'</code>, where:</p> <ul> <li><code>${secret}</code> is the API key set in the configuration file api</li> <li><code>${controller-api}</code> is the API listening address set in the configuration file api</li> <li><code>?force=true</code> is a parameter that needs to be included in certain requests</li> <li><code>'{\"path\": \"\", \"payload\": \"\"}'</code> is the data for the resource to be updated</li> </ul> <p>In most cases, the data passed is <code>'{\"path\": \"\", \"payload\": \"\"}'</code>, which can include a new configuration file path.</p>"},{"location":"en/api/#logs","title":"Logs","text":""},{"location":"en/api/#logs_1","title":"<code>/logs</code>","text":"<p>Request method: <code>GET</code></p> <ul> <li>Retrieve real-time logs.</li> </ul>"},{"location":"en/api/#traffic-information","title":"Traffic Information","text":""},{"location":"en/api/#traffic","title":"<code>/traffic</code>","text":"<p>Request method: <code>GET</code></p> <ul> <li>Retrieve real-time traffic, measured in kbps.</li> </ul>"},{"location":"en/api/#memory-information","title":"Memory Information","text":""},{"location":"en/api/#memory","title":"<code>/memory</code>","text":"<p>Request method: <code>GET</code></p> <ul> <li>Retrieve real-time memory usage, measured in kb.</li> </ul>"},{"location":"en/api/#version-information","title":"Version Information","text":""},{"location":"en/api/#version","title":"<code>/version</code>","text":"<p>Request method: <code>GET</code></p> <ul> <li>Retrieve the Clash version.</li> </ul>"},{"location":"en/api/#cache","title":"Cache","text":""},{"location":"en/api/#cachefakeipflush","title":"<code>/cache/fakeip/flush</code>","text":"<p>Request method: <code>POST</code></p> <ul> <li>Clear the fake IP cache.</li> </ul>"},{"location":"en/api/#running-configuration","title":"Running Configuration","text":""},{"location":"en/api/#configs","title":"<code>/configs</code>","text":"<p>Request method: <code>GET</code></p> <ul> <li>Retrieve basic configuration.</li> </ul> <p>Request method: <code>PUT</code></p> <ul> <li>Reload basic configuration; data must be sent, and the URL must include <code>?force=true</code> to enforce execution.</li> </ul> <p>Request method: <code>PATCH</code></p> <ul> <li>Update basic configuration; data must be sent in the format <code>'{\"mixed-port\": 7890}'</code>, modified as needed for the configuration items to be updated.</li> </ul>"},{"location":"en/api/#configsgeo","title":"<code>/configs/geo</code>","text":"<p>Request method: <code>POST</code></p> <ul> <li>Update the GEO database; data must be sent.</li> </ul>"},{"location":"en/api/#restart","title":"<code>/restart</code>","text":"<p>Request method: <code>POST</code></p> <ul> <li>Restart the kernel; data must be sent.</li> </ul>"},{"location":"en/api/#updates","title":"Updates","text":""},{"location":"en/api/#upgrade","title":"<code>/upgrade</code>","text":"<p>Request method: <code>POST</code></p> <ul> <li>Update the kernel; data must be sent.</li> </ul>"},{"location":"en/api/#upgradeui","title":"<code>/upgrade/ui</code>","text":"<p>Request method: <code>POST</code></p> <ul> <li>Update the panel; external-ui must be set.</li> </ul>"},{"location":"en/api/#upgradegeo","title":"<code>/upgrade/geo</code>","text":"<p>Request method: <code>POST</code></p> <ul> <li>Update the GEO database; data must be sent.</li> </ul>"},{"location":"en/api/#policy-groups","title":"Policy Groups","text":""},{"location":"en/api/#group","title":"<code>/group</code>","text":"<p>Request method: <code>GET</code></p> <ul> <li>Retrieve policy group information.</li> </ul>"},{"location":"en/api/#groupgroup_name","title":"<code>/group/group_name</code>","text":"<p>Request method: <code>GET</code></p> <ul> <li>Retrieve specific policy group information.</li> </ul> <p>Request method: <code>DELETE</code></p> <ul> <li>Clear the fixed selection of the automatic policy group.</li> </ul>"},{"location":"en/api/#groupgroup_namedelay","title":"<code>/group/group_name/delay</code>","text":"<p>Request method: <code>GET</code></p> <ul> <li>Test the nodes/strategy groups within the specified strategy group, return new latency information, and clear the fixed selection of the automatic strategy group</li> <li>the URL must include <code>?url=xxx&amp;timeout=5000</code>, modified as needed.</li> </ul>"},{"location":"en/api/#proxies","title":"Proxies","text":""},{"location":"en/api/#proxies_1","title":"<code>/proxies</code>","text":"<p>Request method: <code>GET</code></p> <ul> <li>Retrieve proxy information.</li> </ul>"},{"location":"en/api/#proxiesproxies_name","title":"<code>/proxies/proxies_name</code>","text":"<p>Request method: <code>GET</code></p> <ul> <li>Retrieve specific proxy information.</li> </ul> <p>Request method: <code>PUT</code></p> <ul> <li>Select a specific proxy; data must be included in the format <code>'{\"name\":\"Japan\"}'</code>.</li> </ul>"},{"location":"en/api/#proxiesproxies_namedelay","title":"<code>/proxies/proxies_name/delay</code>","text":"<p>Request method: <code>GET</code></p> <ul> <li>Test a specified proxy and return new delay information</li> <li>the URL must include <code>?url=xxx&amp;timeout=5000</code>, modified as needed.</li> </ul>"},{"location":"en/api/#proxy-sets","title":"Proxy Sets","text":""},{"location":"en/api/#providersproxies","title":"<code>/providers/proxies</code>","text":"<p>Request method: <code>GET</code></p> <ul> <li>Retrieve all information for all proxy sets.</li> </ul>"},{"location":"en/api/#providersproxiesproviders_name","title":"<code>/providers/proxies/providers_name</code>","text":"<p>Request method: <code>GET</code></p> <ul> <li>Retrieve information for a specific proxy set.</li> </ul> <p>Request method: <code>PUT</code></p> <ul> <li>Update the proxy set.</li> </ul>"},{"location":"en/api/#providersproxiesproviders_namehealthcheck","title":"<code>/providers/proxies/providers_name/healthcheck</code>","text":"<p>Request method: <code>GET</code></p> <ul> <li>Trigger a health check for a specific proxy set.</li> </ul>"},{"location":"en/api/#providersproxiesproviders_nameproxies_namehealthcheck","title":"<code>/providers/proxies/providers_name/proxies_name/healthcheck</code>","text":"<ul> <li>Test a specified proxy within the proxy set and return new delay information</li> <li>the URL must include <code>?url=xxx&amp;timeout=5000</code>, modified as needed.</li> </ul>"},{"location":"en/api/#rules","title":"Rules","text":""},{"location":"en/api/#rules_1","title":"<code>/rules</code>","text":"<p>Request method: <code>GET</code></p> <ul> <li>Retrieve rule information.</li> </ul>"},{"location":"en/api/#rule-sets","title":"Rule Sets","text":""},{"location":"en/api/#providersrules","title":"<code>/providers/rules</code>","text":"<p>Request method: <code>GET</code></p> <ul> <li>Retrieve all information for all rule sets.</li> </ul>"},{"location":"en/api/#providersrulesproviders_name","title":"<code>/providers/rules/providers_name</code>","text":"<p>Request method: <code>PUT</code></p> <ul> <li>Update the rule set.</li> </ul>"},{"location":"en/api/#connections","title":"Connections","text":""},{"location":"en/api/#connections_1","title":"<code>/connections</code>","text":"<p>Request method: <code>GET</code></p> <ul> <li>Retrieve connection information.</li> </ul> <p>Request method: <code>DELETE</code></p> <ul> <li>Close all connections.</li> </ul>"},{"location":"en/api/#connectionsid","title":"<code>/connections/:id</code>","text":"<p>Request method: <code>DELETE</code></p> <ul> <li>Close a specific connection.</li> </ul>"},{"location":"en/api/#domain-query","title":"Domain Query","text":""},{"location":"en/api/#dnsquery","title":"<code>/dns/query</code>","text":"<p>Request method: <code>GET</code></p> <ul> <li>Retrieve DNS query data for a specified name and type</li> <li>the URL must include <code>?name=example.com&amp;type=A</code>, modified as needed.</li> </ul>"},{"location":"en/api/#debug","title":"DEBUG","text":"<p><code>/debug</code> requires the kernel to be started with the log level set to <code>debug</code>.</p>"},{"location":"en/api/#debuggc","title":"<code>/debug/gc</code>","text":"<p>Request method: <code>PUT</code></p> <ul> <li>Perform active garbage collection.</li> </ul>"},{"location":"en/api/#debugpprof","title":"<code>/debug/pprof</code>","text":"<p>Open in a browser <code>http://${controller-api}/debug/pprof</code> to view raw DEBUG information, where:</p> <ul> <li><code>allocs</code> indicates memory allocation for each function call, including the size of memory allocated on the stack and heap, as well as the number of allocations. This report is primarily to help identify memory leaks and frequent memory requests in the code.</li> <li>The <code>heap</code> report provides detailed information about memory usage on the heap, including the size, number, and address of allocated memory blocks, sorted by size. This report is mainly to locate areas of excessive memory usage; we can check object sizes in the heap report to find areas of high memory consumption.</li> </ul>"},{"location":"en/api/#install-graphviz-to-view-graphical-debug-information","title":"Install Graphviz to view graphical debug information.","text":""},{"location":"en/api/#view-graphical-heap-report","title":"View Graphical Heap Report","text":"<pre><code>go tool pprof -http=:8080 http://127.0.0.1:xxxx/debug/pprof/heap\n</code></pre> <p>Full image</p>"},{"location":"en/api/#view-graphical-allocs-report","title":"View Graphical Allocs Report","text":"<pre><code>go tool pprof -http=:8080 http://127.0.0.1:xxxx/debug/pprof/allocs\n</code></pre> <p>Sample output</p>"},{"location":"en/api/#submit-output-report","title":"Submit Output Report","text":"<p>Access <code>http://${controller-api}/debug/pprof/heap?raw=true</code> in a browser to download this file, and upload it to issues to report any problems you encounter.</p>"},{"location":"en/config/","title":"Index","text":"<ul> <li> <p> Inbounds</p> <p>test</p> </li> <li> <p> Routing Rules</p> <p>test</p> </li> <li> <p> Outbound Proxies</p> <p>test</p> </li> <li> <p> Proxy Groups</p> <p>test</p> </li> <li> <p> DNS</p> <p>test</p> </li> </ul>"},{"location":"en/config/experimental/","title":"Experimental configuration","text":"<pre><code>experimental:\n  quic-go-disable-gso: false\n  quic-go-disable-ecn: false\n</code></pre>"},{"location":"en/config/experimental/#quic-go-disable-gso","title":"quic-go-disable-gso","text":"<p>Disable GSO (Generic Segmentation Offload).</p>"},{"location":"en/config/experimental/#quic-go-disable-ecn","title":"quic-go-disable-ecn","text":"<p>Disable ECN (Explicit Congestion Notification).</p>"},{"location":"en/config/experimental/#dialer-ip4p-convert","title":"dialer-ip4p-convert","text":"<p>Enable IP4P address conversion.</p>"},{"location":"en/config/general/","title":"General configuration","text":""},{"location":"en/config/general/#allow-lan","title":"Allow LAN","text":"<p>Allows other devices to access the internet through Clash proxy port.</p> <p>Optional values: <code>true/false</code></p> <pre><code>allow-lan: true\n</code></pre> <p>Binding address, only allows other devices to access through this address.</p> <ul> <li><code>\"*\"</code> binds to all IP addresses.</li> <li><code>\"192.168.31.31\"</code> binds to a single IPV4 address.</li> <li><code>\"[aaaa::a8aa:ff:fe09:57d8]\"</code> binds to a single IPV6 address.</li> </ul> <pre><code>bind-address: \"*\"\n</code></pre> <p>Allowed IP address ranges for connection, applicable only when <code>allow-lan</code> is set to <code>true</code>. Default values are <code>0.0.0.0/0</code> and <code>::/0</code>.</p> <pre><code>lan-allowed-ips:\n- 0.0.0.0/0\n- ::/0\n</code></pre> <p>Disallowed IP address ranges for connection. Blacklist takes precedence over whitelist, default is empty.</p> <pre><code>lan-disallowed-ips:\n- 192.168.0.3/32\n</code></pre>"},{"location":"en/config/general/#user-authentication","title":"User Authentication","text":"<p>User authentication for http(s), socks, and mixed proxies.</p> <pre><code>authentication:\n- \"user1:pass1\"\n- \"user2:pass2\"\n</code></pre> <p>Set the IP ranges allowed to skip authentication.</p> <pre><code>skip-auth-prefixes:\n- 127.0.0.1/8\n- ::1/128\n</code></pre>"},{"location":"en/config/general/#operation-mode","title":"Operation Mode","text":"<ul> <li><code>rule</code> Rule-based matching</li> <li><code>global</code> Global proxy (requires selecting proxy/strategy in GLOBAL proxy group)</li> <li><code>direct</code> Global direct connection</li> </ul> <p>defaulting to <code>rule</code> mode.</p> <pre><code>mode: rule\n</code></pre>"},{"location":"en/config/general/#log-level","title":"Log Level","text":"<p>Controls the logging level of Clash core, only output to console and control page.</p> <pre><code>log-level: info\n</code></pre> <ul> <li><code>silent</code> Silent, no output.</li> <li><code>error</code> Outputs logs of errors and unusable logs.</li> <li><code>warning</code> Outputs logs of errors that do not affect operations, and logs of error level.</li> <li><code>info</code> Outputs general operational logs, as well as logs of error and warning levels.</li> <li><code>debug</code> Outputs as much information as possible during runtime.</li> </ul>"},{"location":"en/config/general/#ipv6","title":"IPv6","text":"<p>Whether to allow the kernel to accept IPv6 traffic.</p> <p>default is <code>true</code>.</p> <pre><code>ipv6: true\n</code></pre>"},{"location":"en/config/general/#tcp-keep-alive-settings","title":"TCP Keep Alive Settings","text":"<p>Modify this item to reduce the power consumption issue on mobile devices</p> <p>The interval for TCP Keep Alive packets, measured in seconds.</p> <pre><code>keep-alive-interval: 15\n</code></pre> <p>The maximum idle time for TCP Keep Alive.</p> <pre><code>keep-alive-idle: 15\n</code></pre> <p>Disable TCP Keep Alive; on Android, this is set to true by default.</p> <pre><code>disable-keep-alive: false\n</code></pre>"},{"location":"en/config/general/#process-matching-mode","title":"Process Matching Mode","text":"<p>Controls whether Clash matches processes.</p> <ul> <li><code>always</code> Enables, forces matching of all processes.</li> <li><code>strict</code> Default, Clash determines whether to enable.</li> <li><code>off</code> Does not match processes, recommended for use on routers.</li> </ul> <pre><code>find-process-mode: strict\n</code></pre>"},{"location":"en/config/general/#external-control-api","title":"External Control (API)","text":"<p>External controller, allows controlling your Clash kernel using RESTful API.</p> <p>API listening address, you can change <code>127.0.0.1</code> to <code>0.0.0.0</code> to listen on all IPs.</p> <pre><code>external-controller: 127.0.0.1:9090\n</code></pre> <p>API CORS Header Configuration</p> <pre><code>external-controller-cors:\n  allow-origins:\n    - *\n  allow-private-network: true\n</code></pre> <p>Unix socket API listening address</p> <p>Accessing API endpoints via Unix socket does not verify secrets. If enabled, please ensure security measures are in place.</p> <pre><code>external-controller-unix: mihomo.sock\n</code></pre> <p>Windows Named Pipe API Listening Address</p> <p>Accessing the API interface via Windows Named Pipe does not validate the secret. If enabled, please ensure your security.</p> <pre><code>external-controller-pipe: \\\\.\\pipe\\mihomo\n</code></pre> <p>HTTPS-API listening address, requires configuring the tls section for certificate and private key configuration, external-controller must also be filled in.</p> <pre><code>external-controller-tls: 127.0.0.1:9443\n</code></pre> <p>Access key for the API.</p> <pre><code>secret: \"\"\n</code></pre>"},{"location":"en/config/general/#external-user-interface","title":"External User Interface","text":"<p>Allows running static webpage resources (such as Clash-dashboard) on Clash API, path is API address/ui.</p> <pre><code>external-ui: /path/to/ui/folder\n</code></pre> <p>Can be an absolute path or a relative path to the Clash working directory.</p>"},{"location":"en/config/general/#custom-external-user-interface-name","title":"Custom External User Interface Name","text":"<pre><code>external-ui-name: xd      # Merged into external-ui/xd\n</code></pre> <p>Not mandatory, will be updated to the specified folder during updates, if not configured, it will be updated directly to the <code>external-ui</code> directory.</p>"},{"location":"en/config/general/#custom-external-user-interface-download-url","title":"Custom External User Interface Download URL","text":"<pre><code>external-ui-url: \"&lt;https://github.com/MetaCubeX/metacubexd/archive/refs/heads/gh-pages.zip&gt;\" # Get from GitHub Pages branch\n</code></pre>"},{"location":"en/config/general/#cache","title":"Cache","text":"<pre><code>profile:\n  store-selected: true\n\n# Stores API selections for strategy groups for use on the next start\n\n  store-fake-ip: true\n\n# Stores the fakeip mapping table, using the original mapping address when the domain connects again\n</code></pre>"},{"location":"en/config/general/#unified-delay","title":"Unified Delay","text":"<p>When unified delay is enabled, two delay tests are conducted to eliminate latency differences caused by connection handshakes and other variations in different types of nodes.</p> <pre><code>unified-delay: true\n</code></pre>"},{"location":"en/config/general/#tcp-concurrency","title":"TCP Concurrency","text":"<pre><code>tcp-concurrent: true\n</code></pre>"},{"location":"en/config/general/#outbound-interface","title":"Outbound Interface","text":"<p>Clash's traffic outbound interface.</p> <pre><code>interface-name: en0\n</code></pre>"},{"location":"en/config/general/#routing-mark","title":"Routing Mark","text":"<p>Provides a default traffic mark for outbound connections on Linux.</p> <pre><code>routing-mark: 6666\n</code></pre>"},{"location":"en/config/general/#tls","title":"TLS","text":"<p>Currently only used for https in API.</p> <pre><code>tls:\n  certificate: string # Certificate PEM format or certificate path\n  private-key: string # Private key PEM format corresponding to the certificate, or private key path\n</code></pre>"},{"location":"en/config/general/#global-client-fingerprint","title":"Global Client Fingerprint","text":"<p>Global TLS fingerprint, lower priority than client-fingerprint inside proxy.</p> <p>Currently supports TCP/grpc/WS/HTTP transport with TLS, supported protocols are <code>VLESS</code>, <code>Vmess</code>, and <code>trojan</code>.</p> <pre><code>global-client-fingerprint: chrome\n</code></pre> <p>Note</p> <p>Options: <code>chrome</code>, <code>firefox</code>, <code>safari</code>, <code>iOS</code>, <code>android</code>, <code>edge</code>, <code>360</code>, <code>qq</code>, <code>random</code> If <code>random</code> is selected, a modern browser fingerprint will be generated based on Cloudflare Radar data.</p>"},{"location":"en/config/general/#geo-data-mode","title":"GEO Data Mode","text":"<p>Change the geoip usage file, <code>mmdb</code> or <code>dat</code>,<code>true</code> is <code>dat</code>, with a default value of <code>false</code>.</p> <pre><code>geodata-mode: true\n</code></pre>"},{"location":"en/config/general/#geo-file-loading-mode","title":"GEO File Loading Mode","text":"<p>Optional loading modes are as follows:</p> <ul> <li><code>standard</code>: Standard loader</li> <li><code>memconservative</code>: Loader optimized for memory-limited (small memory) devices (default)</li> </ul> <pre><code>geodata-loader: memconservative\n</code></pre>"},{"location":"en/config/general/#auto-update-geo","title":"Auto Update GEO","text":"<pre><code>geo-auto-update: false\n</code></pre> <p>Update interval, unit is hours</p> <pre><code>geo-update-interval: 24\n</code></pre>"},{"location":"en/config/general/#custom-geo-download-address","title":"Custom GEO Download Address","text":"<pre><code>geox-url:\n  geoip: \"https://testingcf.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@release/geoip.dat\"\n  geosite: \"https://testingcf.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@release/geosite.dat\"\n  mmdb: \"https://testingcf.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@release/country.mmdb\"\n  asn: \"https://github.com/xishang0128/geoip/releases/download/latest/GeoLite2-ASN.mmdb\"\n</code></pre>"},{"location":"en/config/general/#custom-global-ua","title":"Custom Global UA","text":"<p>Custom UA used when downloading external resources, default is clash.meta.</p> <pre><code>global-ua: clash.meta\n</code></pre>"},{"location":"en/config/general/#etag-support","title":"ETag Support","text":"<p>ETag support for external resource downloads is enabled by default.</p> <pre><code>etag-support: true\n</code></pre>"},{"location":"en/config/tunnels/","title":"TUNNEL","text":"<p>Flow forwarding tunnel, capable of forwarding TCP/UDP traffic, and can also be forwarded through a proxy.</p> <pre><code>tunnels:\n- tcp/udp,127.0.0.1:6553,114.114.114.114:53,proxy\n- network: [tcp, udp]\n  address: 127.0.0.1:7777\n  target: target.com\n  proxy: proxy\n</code></pre>"},{"location":"en/config/tunnels/#single-line","title":"Single Line","text":"<pre><code>tunnels:\n- tcp/udp,127.0.0.1:6553,8.8.8.8:53,proxy\n</code></pre>"},{"location":"en/config/tunnels/#multiple-lines","title":"Multiple Lines","text":"<pre><code>tunnels:\n- network: [tcp, udp]\n  address: 127.0.0.1:6553\n  target: 8.8.8.8:53\n  proxy: proxy\n</code></pre> <p>In the single line example, the order corresponds to the multiple lines: <code>network</code>/<code>address</code>/<code>target</code>/<code>proxy</code>.</p>"},{"location":"en/config/tunnels/#network","title":"network","text":"<p>The type of network to listen to, can be tcp/udp.</p>"},{"location":"en/config/tunnels/#address","title":"address","text":"<p>Local listening address.</p>"},{"location":"en/config/tunnels/#target","title":"target","text":"<p>The forwarding target address.</p>"},{"location":"en/config/tunnels/#proxy","title":"proxy","text":"<p>Optional, traffic sent through a specific <code>proxies</code>/<code>proxy-groups</code>.</p> <p>In the above example, accessing <code>127.0.0.1:6553</code> is forwarded through the <code>proxy</code> in the <code>proxies</code>/<code>proxy-groups</code> to access <code>8.8.8.8:53</code>.</p>"},{"location":"en/config/dns/","title":"DNS","text":"<pre><code>dns:\n  enable: true\n  prefer-h3: false\n  use-hosts: true\n  use-system-hosts: true\n  respect-rules: false\n  listen: 0.0.0.0:1053\n  ipv6: false\n  default-nameserver:\n    - 223.5.5.5\n  enhanced-mode: fake-ip\n  fake-ip-range: 198.18.0.1/16\n  fake-ip-filter-mode: blacklist\n  fake-ip-filter:\n    - '*.lan'\n  nameserver-policy:\n    '+.arpa': '10.0.0.1'\n    'rule-set:cn':\n    - https://doh.pub/dns-query\n    - https://dns.alidns.com/dns-query\n  nameserver:\n    - https://doh.pub/dns-query\n    - https://dns.alidns.com/dns-query\n  fallback:\n    - tls://8.8.4.4\n    - tls://1.1.1.1\n  proxy-server-nameserver:\n    - https://doh.pub/dns-query\n  fallback-filter:\n    geoip: true\n    geoip-code: CN\n    geosite:\n      - gfw\n    ipcidr:\n      - 240.0.0.0/4\n    domain:\n      - '+.google.com'\n      - '+.facebook.com'\n      - '+.youtube.com'\n</code></pre>"},{"location":"en/config/dns/#enable","title":"enable","text":"<p>Whether to enable; if set to false, the system DNS resolution will be used.</p>"},{"location":"en/config/dns/#prefer-h3","title":"prefer-h3","text":"<p>DOH will prioritize the use of HTTP/3.</p>"},{"location":"en/config/dns/#listen","title":"listen","text":"<p>DNS service listening, only supports UDP.</p>"},{"location":"en/config/dns/#ipv6","title":"IPV6","text":"<p>Whether to resolve IPV6; if set to false, it will respond with empty resolutions for AAAA records.</p>"},{"location":"en/config/dns/#enhanced-mode","title":"enhanced-mode","text":"<p>Optional values are <code>fake-ip</code>/<code>redir-host</code>, default is <code>redir-host</code>.</p> <p>This refers to the DNS processing mode of mihomo.</p>"},{"location":"en/config/dns/#fake-ip-range","title":"fake-ip-range","text":"<p>Settings for the IP range under fakeip; the default IPV4 address for tun also uses this value as a reference.</p>"},{"location":"en/config/dns/#fake-ip-filter","title":"fake-ip-filter","text":"<p>Fakeip filtering; the following addresses will not receive fakeip mappings for connections.</p> <p>Values support domain wildcards and importing domain sets.</p>"},{"location":"en/config/dns/#fake-ip-filter-mode-blacklist","title":"fake-ip-filter-mode: blacklist","text":"<p>Optional values are <code>blacklist</code>/<code>whitelist</code>, default is <code>blacklist</code>. In <code>whitelist</code>, only successful matches will return fake-ip.</p>"},{"location":"en/config/dns/#use-hosts","title":"use-hosts","text":"<p>Whether to respond to the configured hosts; default is true.</p>"},{"location":"en/config/dns/#use-system-hosts","title":"use-system-hosts","text":"<p>Whether to query the system hosts; default is true.</p>"},{"location":"en/config/dns/#respect-rules","title":"respect-rules","text":"<p>DNS connections comply with routing rules, requiring configuration of proxy-server-nameserver.</p>"},{"location":"en/config/dns/#default-nameserver","title":"default-nameserver","text":"<p>Default DNS, used for resolving the domain names of DNS servers.</p> <p>Must be an IP, can be encrypted DNS.</p>"},{"location":"en/config/dns/#nameserver-policy","title":"nameserver-policy","text":"<p>Specifies the resolving servers for domain queries, can use geosite, prioritized over <code>nameserver/fallback queries</code>.</p> <p>Keys support domain wildcards.</p> <p>Values support strings/arrays.</p>"},{"location":"en/config/dns/#proxy-server-nameserver","title":"proxy-server-nameserver","text":"<p>The proxy node domain resolution server is used solely for resolving the domain names of proxy nodes. If left blank, it will follow the configurations of nameserver-policy, nameserver, and fallback.</p>"},{"location":"en/config/dns/#direct-nameserver","title":"direct-nameserver","text":"<p>The DNS server for domain resolution at the direct exit. If left blank, it will follow the configurations of nameserver-policy, nameserver, and fallback.</p>"},{"location":"en/config/dns/#direct-nameserver-follow-policy","title":"direct-nameserver-follow-policy","text":"<p>Indicates whether to adhere to the nameserver-policy. The default is not to comply, and it only takes effect when direct-nameserver is not empty.</p>"},{"location":"en/config/dns/#nameserver","title":"nameserver","text":"<p>Default domain name resolution server.</p>"},{"location":"en/config/dns/#fallback","title":"fallback","text":"<p>Backup domain name resolution servers, generally using overseas DNS to ensure reliable results.</p> <p>After configuring <code>fallback</code>, <code>fallback-filter</code> is enabled by default, with <code>geoip-code</code> set to CN.</p>"},{"location":"en/config/dns/#fallback-filter","title":"fallback-filter","text":"<p>Filtering for backup domain name resolution servers; those meeting the conditions will use <code>fallback</code> results or only use <code>fallback</code> for resolution.</p>"},{"location":"en/config/dns/#geoip","title":"geoip","text":"<p>Whether to enable geoip judgment.</p>"},{"location":"en/config/dns/#geoip-code","title":"geoip-code","text":"<p>Optional values are country abbreviations, default value is <code>CN</code>.</p> <p>Results from IPs other than those configured with <code>geoip-code</code> will be considered polluted.</p> <p>Results from the country configured with <code>geoip-code</code> will be adopted directly; otherwise, <code>fallback</code> results will be used.</p>"},{"location":"en/config/dns/#geosite","title":"geosite","text":"<p>Optional values are collections included in the corresponding geosite.</p> <p>Contents of the geosite list are considered polluted; domain names matching the geosite will only use <code>fallback</code> resolution, not <code>nameserver</code>.</p>"},{"location":"en/config/dns/#ipcidr","title":"ipcidr","text":"<p>Written as <code>IP/mask</code>.</p> <p>Results from these subnets will be considered polluted; when <code>nameserver</code> resolves these results, it will adopt <code>fallback</code> resolution results.</p>"},{"location":"en/config/dns/#domain","title":"domain","text":"<p>These domains are considered polluted; matching these domains will directly use <code>fallback</code> resolution, not <code>nameserver</code>.</p>"},{"location":"en/config/dns/#additional-parameters","title":"Additional Parameters","text":"<p>This section can be used to send DNS queries to public address DNS servers, using <code>#</code> to append and <code>&amp;</code> to connect different parameters.</p>"},{"location":"en/config/dns/#dns-specifies-proxyinterface-for-connection","title":"DNS specifies proxy/interface for connection","text":"<p>Prioritize existing proxies; if a proxy with that name does not exist, specify the interface for connection.</p> <p><code>#RULES</code> is for connecting according to routing rules, equivalent to respect-rules.</p> <p>If queries need to go through a proxy, configure <code>proxy-server-nameserver</code> to avoid issues.</p> <pre><code>nameserver:\n  - 'tls://dns.google#proxy'\n  - 'tls://dns.alidns.com#eth0'\n</code></pre>"},{"location":"en/config/dns/#force-http3","title":"Force HTTP/3","text":"<p>This option does not conflict with <code>prefer-h3</code>; when filled in, it forces the use of HTTP/3 to establish DOH connections. Ensure that the DOH server supports HTTP/3 before use.</p> <pre><code>nameserver:\n  - 'https://dns.cloudflare.com/dns-query#h3=true'\n</code></pre>"},{"location":"en/config/dns/#skip-certificate-verification-for-doh","title":"Skip certificate verification for DOH","text":"<pre><code>nameserver:\n  - 'https://dns.cloudflare.com/dns-query#skip-cert-verify=true'\n</code></pre>"},{"location":"en/config/dns/#ecs","title":"ecs","text":"<p>Specify the subnet address for DNS queries, only supports doh.</p> <pre><code>nameserver:\n  - 'https://8.8.8.8/dns-query#ecs=1.1.1.1/24'\n</code></pre>"},{"location":"en/config/dns/#ecs-override","title":"ecs-override","text":"<p>Force override of the subnet address for DNS queries, only supports doh.</p> <pre><code>nameserver:\n  - 'https://8.8.8.8/dns-query#ecs=1.1.1.1/24&amp;ecs-override=true'\n</code></pre>"},{"location":"en/config/dns/diagram/","title":"DNS resolve process","text":"<p>\u4ee5\u4e0b\u662f\u4e24\u79cd\u5e38\u89c1\u7684 DNS \u914d\u7f6e\uff1a</p> <pre><code>dns:\n  ...\n  ipv6: true\n  enhanced-mode: redir-host / fake-ip\n  fake-ip-range: 28.0.0.1/8\n  fake-ip-filter:\n    - '*'\n    - '+.lan'\n  nameserver:\n    - https://doh.pub/dns-query\n  fallback:\n    - https://8.8.8.8/dns-query\n  nameserver-policy:\n    \"geosite:cn,private\":\n      - https://doh.pub/dns-query\n      - https://dns.alidns.com/dns-query\n</code></pre> <p>\u6b64\u6d41\u7a0b\u56fe\u4e3a\u4e86\u66f4\u76f4\u89c2\u548c\u7b80\u5355\u5730\u8bf4\u660e Clash.Meta \u7684 DNS \u5de5\u4f5c\u6d41\u7a0b\uff0c\u5ffd\u7565\u4e86 Clash \u5185\u90e8\u7684 DNS \u6620\u5c04\u5904\u7406\u3002</p> <pre><code>flowchart TD\n  Start[\u5ba2\u6237\u7aef\u53d1\u8d77\u8bf7\u6c42] --&gt; rule[\u5339\u914d\u89c4\u5219]\n  rule --&gt;  Domain[\u5339\u914d\u5230\u57fa\u4e8e\u57df\u540d\u7684\u89c4\u5219]\n  rule --&gt; IP[\u5339\u914d\u5230\u57fa\u4e8e IP \u7684\u89c4\u5219]\n\n  Domain --&gt; |\u57df\u540d\u5339\u914d\u5230\u76f4\u8fde\u89c4\u5219|DNS\n  IP --&gt; DNS[\u901a\u8fc7 Clash DNS \u89e3\u6790\u57df\u540d]\n\n\n  Domain --&gt; |\u57df\u540d\u5339\u914d\u5230\u4ee3\u7406\u89c4\u5219|Remote[\u901a\u8fc7\u4ee3\u7406\u670d\u52a1\u5668\u89e3\u6790\u57df\u540d\u5e76\u5efa\u7acb\u8fde\u63a5]\n\n  Cache --&gt; |Redir-host/FakeIP-Direct \u672a\u547d\u4e2d|NS[\u5339\u914d nameserver-policy \u5e76\u67e5\u8be2 ]\n  Cache --&gt; |Cache \u547d\u4e2d|Get\n  Cache --&gt; |FakeIP \u672a\u547d\u4e2d,\u4ee3\u7406\u57df\u540d|Remote\n\n  NS --&gt; |\u5339\u914d\u6210\u529f| Get[\u5c06\u67e5\u8be2\u5230\u7684 IP \u7528\u4e8e\u5339\u914d IP \u89c4\u5219]\n  NS --&gt; |\u6ca1\u5339\u914d\u5230| NF[nameserver/fallback \u5e76\u53d1\u67e5\u8be2]\n\n  NF --&gt; Get[\u67e5\u8be2\u5f97\u5230 IP]\n  Get --&gt; |\u7f13\u5b58 DNS \u7ed3\u679c|Cache[(Cache)]\n  Get --&gt; S[\u901a\u8fc7 IP \u76f4\u63a5/\u901a\u8fc7\u4ee3\u7406\u5efa\u7acb\u8fde\u63a5]\n\n  DNS --&gt; Redir-host/FakeIP\n  Redir-host/FakeIP --&gt; |\u67e5\u8be2 DNS \u7f13\u5b58|Cache\n\n\n</code></pre>"},{"location":"en/config/dns/hosts/","title":"hosts","text":"<pre><code>hosts:\n  '*.clash.dev': 127.0.0.1\n  'alpha.clash.dev': '::1'\n  test.com: [1.1.1.1, 2.2.2.2]\n  baidu.com: google.com\n</code></pre> <p>Keys support domain wildcards.</p> <p>Values support strings/arrays; domain redirection does not support arrays.</p> <p>Note</p> <p>A complete domain takes precedence over domains using wildcards, for example: foo.example.com &gt; *.example.com &gt; .example.com.</p>"},{"location":"en/config/inbound/port/","title":"Proxy Ports","text":"<p>HTTP/SOCKS/Mixed Port Verification and External Access</p>"},{"location":"en/config/inbound/port/#https-proxy-port","title":"HTTP(S) Proxy Port","text":"<pre><code>port: 7890\n</code></pre>"},{"location":"en/config/inbound/port/#socks44a5-proxy-port","title":"SOCKS4/4a/5 Proxy Port","text":"<pre><code>socks-port: 7891\n</code></pre>"},{"location":"en/config/inbound/port/#mixed-port","title":"Mixed Port","text":"<p>Node</p> <p>The mixed port is a special port that supports both HTTP(S) and SOCKS5 protocols. You can connect to this port using any program that supports HTTP or SOCKS proxies.</p> <pre><code>mixed-port: 7892\n</code></pre>"},{"location":"en/config/inbound/port/#transparent-proxy-port","title":"Transparent Proxy Port","text":"<p>Note</p> <p>The redirect port is applicable only for Linux (Android) and macOS, while the tproxy port is applicable only for Linux (Android).</p> <p>The redirect transparent proxy port can only proxy TCP traffic.</p> <pre><code>redir-port: 7893\n</code></pre> <p>The tproxy transparent proxy port can proxy both TCP and UDP traffic.</p> <pre><code>tproxy-port: 7894\n</code></pre>"},{"location":"en/config/inbound/listeners/http/#general-fields","title":"General Fields","text":""},{"location":"en/config/inbound/listeners/http/#protocol-configuration","title":"Protocol Configuration","text":""},{"location":"en/config/inbound/listeners/http/#user-authentication","title":"User Authentication","text":"<p>If the users field is not filled in, it will follow the global User Authentication settings. If it is filled in, the global settings will be ignored. To skip authentication for this inbound connection, you can set <code>users: []</code>.</p>"},{"location":"en/config/inbound/listeners/mixed/#general-fields","title":"General Fields","text":""},{"location":"en/config/inbound/listeners/mixed/#protocol-configuration","title":"Protocol Configuration","text":""},{"location":"en/config/inbound/listeners/mixed/#udp","title":"UDP","text":"<p>Whether to listen for UDP</p>"},{"location":"en/config/inbound/listeners/mixed/#user-authentication","title":"User Authentication","text":"<p>If the users field is left empty, it will follow the global User Authentication settings. If filled in, it will override the global settings. To skip authentication for this inbound connection, you can specify users: []</p>"},{"location":"en/config/inbound/listeners/socks/#general-fields","title":"General Fields","text":""},{"location":"en/config/inbound/listeners/socks/#protocol-configuration","title":"Protocol Configuration","text":""},{"location":"en/config/inbound/listeners/socks/#udp","title":"UDP","text":"<p>Whether to listen for UDP</p>"},{"location":"en/config/inbound/listeners/socks/#user-authentication","title":"User Authentication","text":"<p>If the users field is not filled in, it will follow the global User Authentication settings. If it is filled in, the global settings will be ignored. To bypass authentication for this inbound connection, you can set users: []</p>"},{"location":"en/config/proxies/hysteria2/","title":"Hysteria2","text":"<p>Configuration Reference</p> <pre><code>proxies:\n- name: \"hysteria2\"\n  type: hysteria2\n  server: server.com\n  port: 443\n  ports: 443-8443\n  password: yourpassword\n  up: \"30 Mbps\"\n  down: \"200 Mbps\"\n  obfs: salamander # Default is empty; if filled, obfs is enabled. Currently, only salamander is supported.\n  obfs-password: yourpassword\n\n  sni: server.com\n  skip-cert-verify: false\n  fingerprint: xxxx\n  alpn:\n    - h3\n  ca: \"./my.ca\"\n  ca-str: \"xyz\"\n</code></pre> <p>Common Fields</p> <p>TLS Fields</p>"},{"location":"en/config/proxies/hysteria2/#ports","title":"Ports","text":"<p>Configuring this enables port jumping, ignoring <code>port</code>. Refer to Port Range for format.</p>"},{"location":"en/config/proxies/hysteria2/#password","title":"Password","text":"<p>Authentication password.</p>"},{"location":"en/config/proxies/hysteria2/#updown","title":"Up/Down","text":"<p>Brutal rate control; if no unit is specified, the default is Mbps.</p>"},{"location":"en/config/proxies/hysteria2/#obfs","title":"Obfs","text":"<p>QUIC traffic obfuscator type, can only be set to <code>salamander</code>. If left empty, it is disabled.</p>"},{"location":"en/config/proxies/hysteria2/#obfs-password","title":"Obfs-password","text":"<p>QUIC traffic obfuscator password.</p>"},{"location":"en/config/proxies/tls/","title":"TLS Configuration","text":"<pre><code>proxies:\n- name: \"tls-example\"\n  tls: true\n  sni: example.com\n  servername: example.com\n  fingerprint: xxx\n  alpn:\n  - h2\n  - http/1.1\n  skip-cert-verify: true\n  client-fingerprint: random\n  reality-opts:\n    public-key: xxxx\n    short-id: xxxx\n</code></pre>"},{"location":"en/config/proxies/tls/#tls","title":"TLS","text":"<p>Enables TLS, applicable only to protocols that use <code>tls</code>, with the <code>trojan</code> protocol requiring it to be enabled.</p>"},{"location":"en/config/proxies/tls/#sniservername","title":"SNI/Servername","text":"<p>The server name indication, referred to as <code>servername</code> in <code>VMess</code>/<code>VLESS</code>. If left empty, it defaults to the address in <code>server</code>.</p>"},{"location":"en/config/proxies/tls/#fingerprint","title":"Fingerprint","text":"<p>Certificate fingerprint, applicable only to protocols that use <code>tls</code>.</p>"},{"location":"en/config/proxies/tls/#alpn","title":"ALPN","text":"<p>List of supported Application Layer Protocol Negotiation options, arranged in order of priority.</p> <p>If both peers support ALPN, the selected protocol will be one from this list; if there are no mutually supported protocols, the connection will fail.</p> <p>Refer to Application-Layer Protocol Negotiation</p>"},{"location":"en/config/proxies/tls/#skip-cert-verify","title":"Skip Cert Verify","text":"<p>Bypasses certificate verification, applicable only to protocols that use <code>tls</code>.</p>"},{"location":"en/config/proxies/tls/#client-fingerprint","title":"Client Fingerprint","text":"<p>Client uTLS fingerprint, applicable only to <code>VMess</code>/<code>VLESS</code>/<code>Trojan</code> protocols. For optional details, refer to Global Client Fingerprint.</p>"},{"location":"en/config/proxies/tls/#reality-options","title":"Reality Options","text":"<p>Configuration for reality; if not empty, reality will be enabled.</p>"},{"location":"en/config/proxies/tls/#reality-optspublic-key","title":"reality-opts.public-key","text":"<p>Public key corresponding to the reality server's private key.</p>"},{"location":"en/config/proxies/tls/#reality-optsshort-id","title":"reality-opts.short-id","text":"<p>One of the server's short IDs.</p>"},{"location":"en/config/proxy-groups/","title":"General Fields","text":"<pre><code>proxy-groups:\n- name: \"proxy\"\n  type: select\n  proxies:\n  - DIRECT\n  - ss\n  use:\n  - provider1\n  - provider1\n\n  url: 'https://www.gstatic.com/generate_204'\n  interval: 300\n  lazy: true\n  timeout: 5000\n  max-failed-times: 5\n\n  disable-udp: true\n  interface-name: en0\n  routing-mark: 11451\n  include-all: false\n  include-all-proxies: false\n  include-all-providers: false\n  filter: \"(?i)\u6e2f|hk|hongkong|hong kong\"\n  exclude-filter: \"\u7f8e|\u65e5\"\n  exclude-type: \"Shadowsocks|Http\"\n  expected-status: 204\n  hidden: true\n  icon: xxx\n</code></pre>"},{"location":"en/config/proxy-groups/#name","title":"name","text":"<p>Required, the name of the proxy group.</p> <p>Note</p> <p>If there are special characters, they should be enclosed in quotes.</p>"},{"location":"en/config/proxy-groups/#type","title":"type","text":"<p>Required, the type of the proxy group.</p>"},{"location":"en/config/proxy-groups/#proxies","title":"proxies","text":"<p>References to outbound proxies or other proxy groups.</p>"},{"location":"en/config/proxy-groups/#use","title":"use","text":"<p>References to proxy sets.</p>"},{"location":"en/config/proxy-groups/#url","title":"url","text":"<p>Health check test address.</p>"},{"location":"en/config/proxy-groups/#interval","title":"interval","text":"<p>Health check interval; if not 0, periodic testing is enabled, measured in seconds.</p>"},{"location":"en/config/proxy-groups/#lazy","title":"lazy","text":"<p>Lazy state, defaults to <code>true</code>. If the current proxy group is not selected, no testing is performed.</p>"},{"location":"en/config/proxy-groups/#timeout","title":"timeout","text":"<p>Health check timeout, measured in milliseconds.</p>"},{"location":"en/config/proxy-groups/#max-failed-times","title":"max-failed-times","text":"<p>Maximum number of failures; exceeding this triggers a forced health check, default is 5.</p>"},{"location":"en/config/proxy-groups/#disable-udp","title":"disable-udp","text":"<p>Disables <code>UDP</code> for this proxy group.</p>"},{"location":"en/config/proxy-groups/#interface-name","title":"interface-name","text":"<p>Specifies the outbound interface for the proxy group.</p> <p>Priority: Proxy Node &gt; Proxy Policy &gt; Global.</p>"},{"location":"en/config/proxy-groups/#routing-mark","title":"routing-mark","text":"<p>The routing mark attached when the proxy group is outbound.</p> <p>Priority: Proxy Node &gt; Proxy Policy &gt; Global.</p>"},{"location":"en/config/proxy-groups/#include-all","title":"include-all","text":"<p>Includes all outbound proxies and proxy sets, sorted by name.</p> <p>Inclusion does not include proxy groups; other proxy groups can be included in proxies.</p>"},{"location":"en/config/proxy-groups/#include-all-proxies","title":"include-all-proxies","text":"<p>Includes all outbound proxies, sorted by name.</p> <p>Inclusion does not include proxy groups; other proxy groups can be included in <code>proxies</code>.</p>"},{"location":"en/config/proxy-groups/#include-all-providers","title":"include-all-providers","text":"<p>Includes all proxy sets, sorted by name.</p> <p>This will invalidate including proxy sets.</p>"},{"location":"en/config/proxy-groups/#filter","title":"filter","text":"<p>Filters nodes that meet keywords or regular expressions. You can use ` to separate multiple regular expressions.</p> <p>This only applies to included proxy sets and including all outbound proxies.</p>"},{"location":"en/config/proxy-groups/#exclude-filter","title":"exclude-filter","text":"<p>Excludes nodes that meet keywords or regular expressions. You can use ` to separate multiple regular expressions.</p>"},{"location":"en/config/proxy-groups/#exclude-type","title":"exclude-type","text":"<p>Excludes node types.</p> <p>Note that the syntax for <code>proxy-groups</code> and <code>proxy-providers</code> is different; regular expressions are not supported, and should be separated by <code>|</code>.</p>"},{"location":"en/config/proxy-groups/#expected-status","title":"expected-status","text":"<p>The expected HTTP response status code during health checks. If this field is configured, a node is considered available only when the response status code matches the expected status. The default is <code>*</code>, indicating no requirements on the response status.</p>"},{"location":"en/config/proxy-groups/#syntax","title":"syntax","text":"<p>You can use <code>/</code> to match multiple status codes, <code>-</code> to match a range of statuses, and mix them.</p>"},{"location":"en/config/proxy-groups/#example","title":"example","text":"<p>Match status codes 200 and 302.</p> <pre><code>expected-status: 200/302\n</code></pre> <p>Match status codes from 400 to 503.</p> <pre><code>expected-status: 400-503\n</code></pre> <p>Match status codes 200 and 302, as well as from 400 to 503.</p> <pre><code>expected-status: 200/302/400-503\n</code></pre>"},{"location":"en/config/proxy-groups/#hidden","title":"hidden","text":"<p>Returns <code>hidden</code> status in the API to hide the display of this proxy group (requires front-end adaptation using the API).</p>"},{"location":"en/config/proxy-groups/#icon","title":"icon","text":"<p>Returns the string input for <code>icon</code> in the API to display in this proxy group (requires front-end adaptation using the API).</p>"},{"location":"en/config/proxy-groups/built-in/","title":"Preset outbound","text":""},{"location":"en/config/proxy-groups/built-in/#direct","title":"DIRECT","text":"<p>Direct, data exits directly.</p>"},{"location":"en/config/proxy-groups/built-in/#reject","title":"REJECT","text":"<p>Reject, intercepts data from going out.</p>"},{"location":"en/config/proxy-groups/built-in/#reject-drop","title":"REJECT-DROP","text":"<p>Reject, unlike <code>REJECT</code>, this strategy silently drops the request.</p>"},{"location":"en/config/proxy-groups/built-in/#pass","title":"PASS","text":"<p>Bypass, skipping this rule when matching.</p>"},{"location":"en/config/proxy-groups/built-in/#compatible","title":"COMPATIBLE","text":"<p>Compatible, appears when no node is selected in the policy group filtering, equivalent to <code>DIRECT</code>.</p>"},{"location":"en/config/proxy-groups/fallback/","title":"Fallback","text":"<pre><code>proxy-groups:\n- name: \"fallback\"\n  type: fallback\n  proxies:\n  - ss\n  - vmess\n  url: 'https://www.gstatic.com/generate_204'\n  interval: 300\n  #lazy: true\n</code></pre> <p>If the currently selected node times out, the system will switch to the next available node in sequence.</p>"},{"location":"en/config/proxy-groups/fallback/#common-fields","title":"Common Fields","text":"<p>Refer to Common Fields.</p>"},{"location":"en/config/proxy-groups/load-balance/#common-fields","title":"Common Fields","text":"<p>Refer to Common Fields.</p>"},{"location":"en/config/proxy-groups/load-balance/#strategy","title":"strategy","text":"<p>Load balancing strategy.</p> <ul> <li> <p><code>consistent-hashing</code>: Distributes requests with the same top-level domain to the same proxy node within the strategy group.</p> </li> <li> <p><code>round-robin</code>: Distributes all requests to different proxy nodes within the strategy group.</p> </li> <li> <p><code>sticky-sessions</code>: sticky-sessions.</p> </li> </ul>"},{"location":"en/config/proxy-groups/relay/","title":"Relay","text":"<pre><code>Proxy Groups:\n# Traffic: Clash &lt;-&gt; http &lt;-&gt; vmess &lt;-&gt; ss1 &lt;-&gt; ss2 &lt;-&gt; Internet\n- name: \"relay\"\n  type: relay\n  proxies:\n    - http\n    - vmess\n    - ss1\n    - ss2\n</code></pre> <p>Warning</p> <p>The relay strategy is about to be deprecated. Please use dialer-proxy.</p> <p>WireGuard currently does not support usage in relay, so please also use dialer-proxy.</p> <p>The traffic flow is Clash &lt;-&gt; http &lt;-&gt; vmess &lt;-&gt; ss1 &lt;-&gt; ss2 &lt;-&gt; Internet.</p>"},{"location":"en/config/proxy-groups/relay/#about-udp","title":"About UDP","text":"<p>Relay supports the transmission of UDP, provided that both the head and tail nodes of the proxy chain support UDP over TCP. Currently, the protocols that support UDP include <code>vmess</code>, <code>vless</code>, <code>trojan</code>, <code>ss</code>, <code>ssr</code>, and <code>tuic</code>.</p>"},{"location":"en/config/proxy-groups/select/#common-fields","title":"Common Fields","text":"<p>Refer to Common Fields.</p>"},{"location":"en/config/proxy-groups/url-test/#common-fields","title":"Common Fields","text":"<p>Refer to Common Fields.</p>"},{"location":"en/config/proxy-groups/url-test/#tolerance","title":"tolerance","text":"<p>proxies switch tolerance, measured in milliseconds (ms).</p>"},{"location":"en/config/proxy-providers/","title":"Proxy Providers","text":"<pre><code>proxy-providers:\n  provider1:\n    type: http\n    url: \"http://test.com\"\n    path: ./proxy_providers/provider1.yaml\n    interval: 3600\n    proxy: DIRECT\n    header:\n      User-Agent:\n      - \"Clash/v1.18.0\"\n      - \"mihomo/1.18.3\"\n      Authorization:\n      - 'token 1231231'\n    health-check:\n      enable: true\n      url: https://www.gstatic.com/generate_204\n      interval: 300\n      timeout: 5000\n      lazy: true\n      expected-status: 204\n    override:\n      tfo: false\n      mptcp: false\n      udp: true\n      udp-over-tcp: false\n      down: \"50 Mbps\"\n      up: \"10 Mbps\"\n      skip-cert-verify: true\n      dialer-proxy: proxy\n      interface-name: tailscale0\n      routing-mark: 233\n      ip-version: ipv4-prefer\n      additional-prefix: \"provider1 prefix |\"\n      additional-suffix: \"| provider1 suffix\"\n      proxy-name:\n      - pattern: \"IPLC-(.*?)\u500d\"\n        target: \"iplc x $1\"\n    filter: \"(?i)\u6e2f|hk|hongkong|hong kong\"\n    exclude-filter: \"xxx\"\n    exclude-type: \"ss|http\"\n\n  provider2:\n    type: file\n    path: ./proxy_providers/provider2.yaml\n    health-check:\n      enable: true\n      url: https://www.gstatic.com/generate_204\n      interval: 300\n</code></pre>"},{"location":"en/config/proxy-providers/#name","title":"Name","text":"<p>This is required, such as <code>provider1</code>, and must be unique. It is advisable not to duplicate names with policy groups.</p>"},{"location":"en/config/proxy-providers/#type","title":"Type","text":"<p>This is required, the <code>provider</code> type, with options of <code>http/file</code>.</p>"},{"location":"en/config/proxy-providers/#url","title":"URL","text":"<p>If the type is <code>http</code>, this must be configured.</p>"},{"location":"en/config/proxy-providers/#path","title":"Path","text":"<p>Optional, the file path, must be unique. If not provided, the MD5 of the URL will be used as the filename.</p> <p>For security reasons, this path is restricted to only allow locations within <code>HomeDir</code> (configured with the -d startup parameter). If you wish to store it in any location, set the environment variable <code>SKIP_SAFE_PATH_CHECK=1</code>.</p>"},{"location":"en/config/proxy-providers/#interval","title":"Interval","text":"<p>The update time for the <code>provider</code>, measured in seconds.</p>"},{"location":"en/config/proxy-providers/#proxy","title":"Proxy","text":"<p>Download/update through the specified proxy.</p>"},{"location":"en/config/proxy-providers/#header","title":"Header","text":"<p>Custom HTTP request headers.</p>"},{"location":"en/config/proxy-providers/#health-check","title":"Health Check","text":"<p>Health check (latency testing).</p>"},{"location":"en/config/proxy-providers/#health-checkenable","title":"health-check.enable","text":"<p>Whether to enable, optional <code>true/false</code>.</p>"},{"location":"en/config/proxy-providers/#health-checkurl","title":"health-check.url","text":"<p>Health check address, it is recommended to use one of the following addresses:</p> CloudflareGoogle <pre><code>https://cp.cloudflare.com\n</code></pre> <pre><code>https://www.gstatic.com/generate_204\n</code></pre>"},{"location":"en/config/proxy-providers/#health-checkinterval","title":"health-check.interval","text":"<p>Health check interval, measured in seconds.</p>"},{"location":"en/config/proxy-providers/#health-checktimeout","title":"health-check.timeout","text":"<p>Health check timeout, measured in milliseconds.</p>"},{"location":"en/config/proxy-providers/#health-checklazy","title":"health-check.lazy","text":"<p>Lazy state, defaults to <code>true</code>, no testing is performed when this provider node is not in use.</p>"},{"location":"en/config/proxy-providers/#health-checkexpected-status","title":"health-check.expected-status","text":"<p>Refer to expected status.</p>"},{"location":"en/config/proxy-providers/#override","title":"Override","text":"<p>Override node content, the following fields are supported.</p>"},{"location":"en/config/proxy-providers/#overrideadditional-prefix","title":"override.additional-prefix","text":"<p>Add a fixed prefix to the node name.</p>"},{"location":"en/config/proxy-providers/#overrideadditional-suffix","title":"override.additional-suffix","text":"<p>Add a fixed suffix to the node name.</p>"},{"location":"en/config/proxy-providers/#overrideproxy-name","title":"override.proxy-name","text":"<p>Replace the content of the node name, supporting regular expressions, where pattern is the replacement content and target is the replacement target.</p>"},{"location":"en/config/proxy-providers/#configuration-items","title":"Configuration Items","text":"<p>Refer to common fields tfo</p> <p>Refer to common fields mptcp</p> <p>Refer to common fields udp.</p> <p>Refer to <code>Shadowsocks</code> udp-over-tcp</p> <p>Refer to <code>Hysteria</code>/<code>Hysteria2</code> up.</p> <p>Refer to <code>Hysteria</code>/<code>Hysteria2</code> down.</p> <p>Refer to common fields skip-cert-verify.</p> <p>Refer to common fields dialer-proxy.</p> <p>Refer to common fields interface-name.</p> <p>Refer to common fields routing-mark.</p> <p>Refer to common fields ip-version.</p>"},{"location":"en/config/proxy-providers/#filter","title":"Filter","text":"<p>Filter nodes that meet keywords or regular expressions, multiple regular expressions can be separated by `.</p>"},{"location":"en/config/proxy-providers/#exclude-filter","title":"Exclude Filter","text":"<p>Exclude nodes that meet keywords or regular expressions, multiple regular expressions can be separated by `.</p>"},{"location":"en/config/proxy-providers/#exclude-type","title":"Exclude Type","text":"<p>Regular expressions are not supported; use <code>|</code> to separate and exclude based on node type.</p> <p>Note that the syntax for <code>proxy-groups</code> and <code>proxy-providers</code> is different.</p>"},{"location":"en/config/proxy-providers/content/","title":"Content of the proxy-providers file","text":"yamluribase64 <pre><code>proxies:\n- name: \"ss1\"\n  type: ss\n  server: server\n  port: 443\n  cipher: chacha20-ietf-poly1305\n  password: \"password\"\n- name: \"ss2\"\n  type: ss\n  server: server\n  port: 443\n  cipher: chacha20-ietf-poly1305\n  password: \"password\"\n</code></pre> <pre><code>ss://YWVzLTI1Ni1nY206bWV0YUAxMjcuMC4wLjE6NDQz#home\nvmess://eyJhZGQiOiIxMjcuMC4wLjEiLCJhaWQiOiIwIiwiYWxwbiI6IiIsImZwIjoiIiwiaG9zdCI6IiIsImlkIjoiMTIyMzQ1Njc4OSIsIm5ldCI6InRjcCIsInBhdGgiOiIiLCJwb3J0IjoiNDQzIiwicHMiOiJ2bWVzcyIsInNjeSI6ImF1dG8iLCJzbmkiOiIiLCJ0bHMiOiIiLCJ0eXBlIjoibm9uZSIsInYiOiIyIn0=\n</code></pre> <pre><code>c3M6Ly9ZV1Z6TFRJMU5pMW5ZMjA2YldWMFlVQXhNamN1TUM0d0xqRTZORFF6I2hvbWUKdm1lc3M6Ly9leUpoWkdRaU9pSXhNamN1TUM0d0xqRWlMQ0poYVdRaU9pSXdJaXdpWVd4d2JpSTZJaUlzSW1ad0lqb2lJaXdpYUc5emRDSTZJaUlzSW1sa0lqb2lNVEl5TXpRMU5qYzRPU0lzSW01bGRDSTZJblJqY0NJc0luQmhkR2dpT2lJaUxDSndiM0owSWpvaU5EUXpJaXdpY0hNaU9pSjJiV1Z6Y3lJc0luTmplU0k2SW1GMWRHOGlMQ0p6Ym1raU9pSWlMQ0owYkhNaU9pSWlMQ0owZVhCbElqb2libTl1WlNJc0luWWlPaUl5SW4wPQ==\n</code></pre> <p>Note</p> <p>The base64 URI is typically the subscription link content provided by the provider for v2ray/xray.</p> <p><code>YAML</code>/<code>uri</code>/<code>base64</code> cannot be written in the same file; <code>uri</code>/<code>base64</code> do not require the <code>proxies:</code> field and can be written directly.</p>"},{"location":"en/config/rule-providers/#name","title":"name","text":"<p>Required, such as <code>google</code>, must be unique.</p>"},{"location":"en/config/rule-providers/#type","title":"type","text":"<p>Required, <code>provider</code> type, options are <code>http</code> / <code>file</code>.</p>"},{"location":"en/config/rule-providers/#url","title":"url","text":"<p>Must be configured if the type is <code>http</code>.</p>"},{"location":"en/config/rule-providers/#path","title":"path","text":"<p>Optional, file path, must be unique. If not provided, the MD5 of the URL will be used as the filename.</p> <p>For security reasons, this path is restricted to only allow locations within <code>HomeDir</code> (configured with the -d startup parameter). If you want to store it in any location, set the environment variable <code>SKIP_SAFE_PATH_CHECK=1</code>.</p>"},{"location":"en/config/rule-providers/#interval","title":"interval","text":"<p>The update interval for the <code>provider</code>, in seconds.</p>"},{"location":"en/config/rule-providers/#proxy","title":"proxy","text":"<p>Download/update through the specified proxy.</p>"},{"location":"en/config/rule-providers/#behavior","title":"behavior","text":"<p>Behavior, options are <code>domain</code> / <code>ipcidr</code> / <code>classical</code>, corresponding to different formats of rule-provider files. Please fill in according to the actual format.</p>"},{"location":"en/config/rule-providers/#format","title":"format","text":"<p>Format, options are <code>yaml</code> / <code>text</code> / <code>mrs</code>, default is <code>yaml</code>.</p> <p>Currently, <code>mrs</code> behavior only supports <code>domain</code> / <code>ipcidr</code>. You can convert using <code>mihomo convert-ruleset domain/ipcidr yaml/text XXX.yaml XXX.mrs</code>.</p>"},{"location":"en/config/rule-providers/content/","title":"Contents of the rule-providers file","text":""},{"location":"en/config/rule-providers/content/#classical","title":"classical","text":"<p>The <code>classical</code> type supports all types of routing rules (except for rule-set/sub-rule).</p> yamltext <pre><code>payload:\n- DOMAIN-SUFFIX,google.com\n- DOMAIN-KEYWORD,google\n- DOMAIN,ad.com\n- SRC-IP-CIDR,192.168.1.201/32\n- IP-CIDR,127.0.0.0/8\n- GEOIP,CN\n- DST-PORT,80\n- SRC-PORT,7777\n</code></pre> <pre><code>DOMAIN-SUFFIX,google.com\nDOMAIN-KEYWORD,google\nDOMAIN,ad.com\nSRC-IP-CIDR,192.168.1.201/32\nIP-CIDR,127.0.0.0/8\nGEOIP,CN\nDST-PORT,80\nSRC-PORT,7777\n</code></pre>"},{"location":"en/config/rule-providers/content/#domain","title":"domain","text":"<p>The content of the <code>domain</code> rule set must adhere to the clash wildcard.</p> yamltext <pre><code>payload:\n- '.blogger.com'\n- '*.*.microsoft.com'\n- 'books.itunes.apple.com'\n</code></pre> <pre><code>.blogger.com\n*.*.microsoft.com\nbooks.itunes.apple.com\n</code></pre>"},{"location":"en/config/rules/","title":"Routing Rules","text":"<pre><code>rules:\n- DOMAIN,ad.com,REJECT\n- DOMAIN-SUFFIX,google.com,auto\n- DOMAIN-KEYWORD,google,auto\n- DOMAIN-REGEX,^abc.*com,PROXY\n- GEOSITE,youtube,PROXY\n\n- IP-CIDR,127.0.0.0/8,DIRECT,no-resolve\n- IP-CIDR6,2620:0:2d0:200::7/32,auto\n- IP-SUFFIX,8.8.8.8/24,PROXY\n- IP-ASN,13335,DIRECT\n- GEOIP,CN,DIRECT\n\n- SRC-GEOIP,cn,DIRECT\n- SRC-IP-ASN,9808,DIRECT\n- SRC-IP-CIDR,192.168.1.201/32,DIRECT\n- SRC-IP-SUFFIX,192.168.1.201/8,DIRECT\n\n- DST-PORT,80,DIRECT\n- SRC-PORT,7777,DIRECT\n\n- IN-PORT,7890,PROXY\n- IN-TYPE,SOCKS/HTTP,PROXY\n- IN-USER,mihomo,PROXY\n- IN-NAME,ss,PROXY\n\n- PROCESS-PATH,/usr/bin/wget,PROXY\n- PROCESS-PATH,C:\\Program Files\\Google\\Chrome\\Application\\chrome.exe,PROXY\n- PROCESS-PATH-REGEX,.*bin/wget,PROXY\n- PROCESS-PATH-REGEX,(?i).*Application\\\\chrome.*,PROXY\n\n- PROCESS-NAME,curl,PROXY\n- PROCESS-NAME,chrome.exe,PROXY\n- PROCESS-NAME,com.termux,PROXY\n- PROCESS-NAME-REGEX,curl$,PROXY\n- PROCESS-NAME-REGEX,(?i)Telegram,PROXY\n- PROCESS-NAME-REGEX,.*telegram.*,PROXY\n- UID,1001,DIRECT\n\n- NETWORK,udp,DIRECT\n- DSCP,4,DIRECT\n\n- RULE-SET,providername,proxy\n- AND,((DOMAIN,baidu.com),(NETWORK,UDP)),DIRECT\n- OR,((NETWORK,UDP),(DOMAIN,baidu.com)),REJECT\n- NOT,((DOMAIN,baidu.com)),PROXY\n- SUB-RULE,(NETWORK,tcp),sub-rule\n\n- MATCH,auto\n</code></pre>"},{"location":"en/config/rules/#priority","title":"Priority","text":"<p>Rules will be matched in order from top to bottom, with the rules at the top having higher priority than those below.</p> <p>If the request is for UDP and the proxy node does not support UDP (for example, if the <code>ss</code> node does not have <code>udp: true</code> specified), it will continue to match downwards.</p>"},{"location":"en/config/rules/#domain","title":"DOMAIN","text":"<p>Matches the full domain name.</p>"},{"location":"en/config/rules/#domain-suffix","title":"DOMAIN-SUFFIX","text":"<p>Matches the domain suffix.</p> <p>For example, <code>google.com</code> matches <code>www.google.com</code>, <code>mail.google.com</code>, and <code>google.com</code>, but does not match <code>content-google.com</code>.</p>"},{"location":"en/config/rules/#domain-keyword","title":"DOMAIN-KEYWORD","text":"<p>Matches using domain keywords.</p>"},{"location":"en/config/rules/#domain-regex","title":"DOMAIN-REGEX","text":"<p>Matches using regular expressions for domain names.</p>"},{"location":"en/config/rules/#geosite","title":"GEOSITE","text":"<p>Matches domains within a Geosite; some content is referenced from v2fly/domain-list-community.</p>"},{"location":"en/config/rules/#ip-cidr-ip-cidr6","title":"IP-CIDR &amp; IP-CIDR6","text":"<p>Matches IP address ranges; <code>IP-CIDR</code> and <code>IP-CIDR6</code> have the same effect, with <code>IP-CIDR6</code> being an alias.</p>"},{"location":"en/config/rules/#ip-suffix","title":"IP-SUFFIX","text":"<p>Matches IP suffix ranges.</p>"},{"location":"en/config/rules/#ip-asn","title":"IP-ASN","text":"<p>Matches the ASN of the IP.</p>"},{"location":"en/config/rules/#geoip","title":"GEOIP","text":"<p>Matches the country code of the IP.</p>"},{"location":"en/config/rules/#src-geoip","title":"SRC-GEOIP","text":"<p>Matches the country code of the source IP.</p>"},{"location":"en/config/rules/#src-ip-asn","title":"SRC-IP-ASN","text":"<p>Matches the ASN of the source IP.</p>"},{"location":"en/config/rules/#src-ip-cidr","title":"SRC-IP-CIDR","text":"<p>Matches the source IP address range.</p>"},{"location":"en/config/rules/#src-ip-suffix","title":"SRC-IP-SUFFIX","text":"<p>Matches the source IP suffix range.</p>"},{"location":"en/config/rules/#dst-port","title":"DST-PORT","text":"<p>Matches the target port range of the request.</p>"},{"location":"en/config/rules/#src-port","title":"SRC-PORT","text":"<p>Matches the source port range of the request.</p>"},{"location":"en/config/rules/#in-port","title":"IN-PORT","text":"<p>Matches the inbound port, allowing for port ranges.</p>"},{"location":"en/config/rules/#in-type","title":"IN-TYPE","text":"<p>Matches the inbound type.</p>"},{"location":"en/config/rules/#in-user","title":"IN-USER","text":"<p>Matches the inbound username, supporting multiple usernames separated by <code>/</code>.</p>"},{"location":"en/config/rules/#in-name","title":"IN-NAME","text":"<p>Matches the inbound name.</p>"},{"location":"en/config/rules/#process-path","title":"PROCESS-PATH","text":"<p>Matches using the full process path.</p>"},{"location":"en/config/rules/#process-path-regex","title":"PROCESS-PATH-REGEX","text":"<p>Matches using regular expressions for the process path.</p>"},{"location":"en/config/rules/#process-name","title":"PROCESS-NAME","text":"<p>Matches using the process name; on the <code>Android</code> platform, it can match package names.</p>"},{"location":"en/config/rules/#process-name-regex","title":"PROCESS-NAME-REGEX","text":"<p>Matches using regular expressions for the process name; on the <code>Android</code> platform, it can match package names.</p>"},{"location":"en/config/rules/#uid","title":"UID","text":"<p>Matches the Linux USER ID.</p>"},{"location":"en/config/rules/#network","title":"NETWORK","text":"<p>Matches <code>tcp</code> or <code>udp</code>.</p>"},{"location":"en/config/rules/#dscp","title":"DSCP","text":"<p>Matches the <code>DSCP</code> tag (only for tproxy UDP inbound).</p>"},{"location":"en/config/rules/#rule-set","title":"RULE-SET","text":"<p>References a set of rules; configuration for rule-providers is required.</p>"},{"location":"en/config/rules/#and-or-not","title":"AND &amp; OR &amp; NOT","text":"<p><code>LOGIC_TYPE,((payload1),(payload2)),Proxy</code></p> <p>payload1 and payload2 are rule types and other payloads, such as <code>DOMAIN,google.com</code>.</p> <p>Logical rules require careful use of parentheses.</p>"},{"location":"en/config/rules/#sub-rule","title":"SUB-RULE","text":"<p>Matches to sub-rules; careful use of parentheses is required.</p>"},{"location":"en/config/rules/#match","title":"MATCH","text":"<p>Matches all requests without conditions.</p>"},{"location":"en/config/rules/#additional-parameters","title":"Additional Parameters","text":""},{"location":"en/config/rules/#no-resolve","title":"no-resolve","text":"<p>Only supports rules regarding the <code>target IP</code>.</p> <p>When domain matching begins for <code>target IP</code> rules, mihomo will trigger DNS resolution to check if the domain's <code>target IP</code> matches the rules. The <code>no-resolve</code> option can be selected to skip DNS resolution.</p> <p>If DNS resolution was triggered in an earlier match, it will still match rules regarding <code>target IP</code> that have the <code>no-resolve</code> option added.</p>"},{"location":"en/config/rules/#src","title":"src","text":"<p>Only supports rules regarding the <code>target IP</code>.</p> <p>Converts <code>target IP</code> matching to <code>source IP</code> matching.</p>"},{"location":"en/example/#alpha-branch","title":"Alpha Branch","text":"<p>Development version with support for new features.</p> <p>Link</p>"},{"location":"en/example/#meta-branch","title":"Meta Branch","text":"<p>Stable version, updated monthly. Some documentation content may not be released promptly in the meta branch.</p> <p>Link</p>"},{"location":"en/example/conf/","title":"Quick configuration","text":"GeoXRULE-SETStash(\u79c1\u8d27) configlink <pre><code># url \u91cc\u586b\u5199\u81ea\u5df1\u7684\u8ba2\u9605,\u540d\u79f0\u4e0d\u80fd\u91cd\u590d\nproxy-providers:\n  provider1:\n    url: \"\"\n    type: http\n    interval: 86400\n    health-check: {enable: true,url: \"https://www.gstatic.com/generate_204\", interval: 300}\n    override:\n      additional-prefix: \"[provider1]\"\n\n  provider2:\n    url: \"\"\n    type: http\n    interval: 86400\n    health-check: {enable: true,url: \"https://www.gstatic.com/generate_204\",interval: 300}\n    override:\n      additional-prefix: \"[provider2]\"\n\nproxies: \n  - name: \"\u76f4\u8fde\"\n    type: direct\n    udp: true\n\nmixed-port: 7890\nipv6: true\nallow-lan: true\nunified-delay: false\ntcp-concurrent: true\nexternal-controller: 127.0.0.1:9090\nexternal-ui: ui\nexternal-ui-url: \"https://github.com/MetaCubeX/metacubexd/archive/refs/heads/gh-pages.zip\"\n\ngeodata-mode: true\ngeox-url:\n  geoip: \"https://mirror.ghproxy.com/https://github.com/MetaCubeX/meta-rules-dat/releases/download/latest/geoip-lite.dat\"\n  geosite: \"https://mirror.ghproxy.com/https://github.com/MetaCubeX/meta-rules-dat/releases/download/latest/geosite.dat\"\n  mmdb: \"https://mirror.ghproxy.com/https://github.com/MetaCubeX/meta-rules-dat/releases/download/latest/country-lite.mmdb\"\n  asn: \"https://mirror.ghproxy.com/https://github.com/xishang0128/geoip/releases/download/latest/GeoLite2-ASN.mmdb\"\n\nfind-process-mode: strict\nglobal-client-fingerprint: chrome\n\nprofile:\n  store-selected: true\n  store-fake-ip: true\n\nsniffer:\n  enable: true\n  sniff:\n    HTTP:\n      ports: [80, 8080-8880]\n      override-destination: true\n    TLS:\n      ports: [443, 8443]\n    QUIC:\n      ports: [443, 8443]\n  skip-domain:\n    - \"Mijia Cloud\"\n    - \"+.push.apple.com\"\n\ntun:\n  enable: true\n  stack: mixed\n  dns-hijack:\n    - \"any:53\"\n    - \"tcp://any:53\"\n  auto-route: true\n  auto-redirect: true\n  auto-detect-interface: true\n\ndns:\n  enable: true\n  ipv6: true\n  respect-rules: true\n  enhanced-mode: fake-ip\n  fake-ip-filter:\n    - \"*\"\n    - \"+.lan\"\n    - \"+.local\"\n    - \"+.market.xiaomi.com\"\n  nameserver:\n    - https://120.53.53.53/dns-query\n    - https://223.5.5.5/dns-query\n  proxy-server-nameserver:\n    - https://120.53.53.53/dns-query\n    - https://223.5.5.5/dns-query\n  nameserver-policy:\n    \"geosite:cn,private\":\n      - https://120.53.53.53/dns-query\n      - https://223.5.5.5/dns-query\n    \"geosite:geolocation-!cn\":\n      - \"https://dns.cloudflare.com/dns-query\"\n      - \"https://dns.google/dns-query\"\n\nproxy-groups:\n\n  - name: \u9ed8\u8ba4\n    type: select\n    proxies: [\u81ea\u52a8\u9009\u62e9,\u76f4\u8fde,\u9999\u6e2f,\u53f0\u6e7e,\u65e5\u672c,\u65b0\u52a0\u5761,\u7f8e\u56fd,\u5176\u5b83\u5730\u533a,\u5168\u90e8\u8282\u70b9]\n\n  - name: Google\n    type: select\n    proxies: [\u9ed8\u8ba4,\u9999\u6e2f,\u53f0\u6e7e,\u65e5\u672c,\u65b0\u52a0\u5761,\u7f8e\u56fd,\u5176\u5b83\u5730\u533a,\u5168\u90e8\u8282\u70b9,\u81ea\u52a8\u9009\u62e9,\u76f4\u8fde]\n\n  - name: Telegram\n    type: select\n    proxies: [\u9ed8\u8ba4,\u9999\u6e2f,\u53f0\u6e7e,\u65e5\u672c,\u65b0\u52a0\u5761,\u7f8e\u56fd,\u5176\u5b83\u5730\u533a,\u5168\u90e8\u8282\u70b9,\u81ea\u52a8\u9009\u62e9,\u76f4\u8fde]\n\n  - name: Twitter\n    type: select\n    proxies: [\u9ed8\u8ba4,\u9999\u6e2f,\u53f0\u6e7e,\u65e5\u672c,\u65b0\u52a0\u5761,\u7f8e\u56fd,\u5176\u5b83\u5730\u533a,\u5168\u90e8\u8282\u70b9,\u81ea\u52a8\u9009\u62e9,\u76f4\u8fde]\n\n  - name: \u54d4\u54e9\u54d4\u54e9\n    type: select\n    proxies: [\u9ed8\u8ba4,\u9999\u6e2f,\u53f0\u6e7e,\u65e5\u672c,\u65b0\u52a0\u5761,\u7f8e\u56fd,\u5176\u5b83\u5730\u533a,\u5168\u90e8\u8282\u70b9,\u81ea\u52a8\u9009\u62e9,\u76f4\u8fde]\n\n  - name: \u5df4\u54c8\u59c6\u7279\n    type: select\n    proxies: [\u9ed8\u8ba4,\u9999\u6e2f,\u53f0\u6e7e,\u65e5\u672c,\u65b0\u52a0\u5761,\u7f8e\u56fd,\u5176\u5b83\u5730\u533a,\u5168\u90e8\u8282\u70b9,\u81ea\u52a8\u9009\u62e9,\u76f4\u8fde]\n\n  - name: YouTube\n    type: select\n    proxies: [\u9ed8\u8ba4,\u9999\u6e2f,\u53f0\u6e7e,\u65e5\u672c,\u65b0\u52a0\u5761,\u7f8e\u56fd,\u5176\u5b83\u5730\u533a,\u5168\u90e8\u8282\u70b9,\u81ea\u52a8\u9009\u62e9,\u76f4\u8fde]\n\n  - name: NETFLIX\n    type: select\n    proxies: [\u9ed8\u8ba4,\u9999\u6e2f,\u53f0\u6e7e,\u65e5\u672c,\u65b0\u52a0\u5761,\u7f8e\u56fd,\u5176\u5b83\u5730\u533a,\u5168\u90e8\u8282\u70b9,\u81ea\u52a8\u9009\u62e9,\u76f4\u8fde]\n\n  - name: Spotify\n    type: select\n    proxies:  [\u9ed8\u8ba4,\u9999\u6e2f,\u53f0\u6e7e,\u65e5\u672c,\u65b0\u52a0\u5761,\u7f8e\u56fd,\u5176\u5b83\u5730\u533a,\u5168\u90e8\u8282\u70b9,\u81ea\u52a8\u9009\u62e9,\u76f4\u8fde]\n\n  - name: Github\n    type: select\n    proxies:  [\u9ed8\u8ba4,\u9999\u6e2f,\u53f0\u6e7e,\u65e5\u672c,\u65b0\u52a0\u5761,\u7f8e\u56fd,\u5176\u5b83\u5730\u533a,\u5168\u90e8\u8282\u70b9,\u81ea\u52a8\u9009\u62e9,\u76f4\u8fde]\n\n  - name: \u56fd\u5185\n    type: select\n    proxies:  [\u76f4\u8fde,\u9ed8\u8ba4,\u9999\u6e2f,\u53f0\u6e7e,\u65e5\u672c,\u65b0\u52a0\u5761,\u7f8e\u56fd,\u5176\u5b83\u5730\u533a,\u5168\u90e8\u8282\u70b9,\u81ea\u52a8\u9009\u62e9]\n\n  - name: \u5176\u4ed6\n    type: select\n    proxies:  [\u9ed8\u8ba4,\u9999\u6e2f,\u53f0\u6e7e,\u65e5\u672c,\u65b0\u52a0\u5761,\u7f8e\u56fd,\u5176\u5b83\u5730\u533a,\u5168\u90e8\u8282\u70b9,\u81ea\u52a8\u9009\u62e9,\u76f4\u8fde]\n\n  #\u5206\u9694,\u4e0b\u9762\u662f\u5730\u533a\u5206\u7ec4\n  - name: \u9999\u6e2f\n    type: select\n    include-all: true\n    filter: \"(?i)\u6e2f|hk|hongkong|hong kong\"\n\n  - name: \u53f0\u6e7e\n    type: select\n    include-all: true\n    filter: \"(?i)\u53f0|tw|taiwan\"\n\n  - name: \u65e5\u672c\n    type: select\n    include-all: true\n    filter: \"(?i)\u65e5|jp|japan\"\n\n  - name: \u7f8e\u56fd\n    type: select\n    include-all: true\n    filter: \"(?i)\u7f8e|us|unitedstates|united states\"\n\n  - name: \u65b0\u52a0\u5761\n    type: select\n    include-all: true\n    filter: \"(?i)(\u65b0|sg|singapore)\"\n\n  - name: \u5176\u5b83\u5730\u533a\n    type: select\n    include-all: true\n    filter: \"(?i)^(?!.*(?:\ud83c\udded\ud83c\uddf0|\ud83c\uddef\ud83c\uddf5|\ud83c\uddfa\ud83c\uddf8|\ud83c\uddf8\ud83c\uddec|\ud83c\udde8\ud83c\uddf3|\u6e2f|hk|hongkong|\u53f0|tw|taiwan|\u65e5|jp|japan|\u65b0|sg|singapore|\u7f8e|us|unitedstates)).*\"\n\n  - name: \u5168\u90e8\u8282\u70b9\n    type: select\n    include-all: true\n\n  - name: \u81ea\u52a8\u9009\u62e9\n    type: url-test\n    include-all: true\n    tolerance: 10\n\nrules:\n  - GEOIP,lan,\u76f4\u8fde,no-resolve\n  - GEOSITE,github,Github\n  - GEOSITE,twitter,Twitter\n  - GEOSITE,youtube,YouTube\n  - GEOSITE,google,Google\n  - GEOSITE,telegram,Telegram\n  - GEOSITE,netflix,NETFLIX\n  - GEOSITE,bilibili,\u54d4\u54e9\u54d4\u54e9\n  - GEOSITE,bahamut,\u5df4\u54c8\u59c6\u7279\n  - GEOSITE,spotify,Spotify\n  - GEOSITE,CN,\u56fd\u5185\n  - GEOSITE,geolocation-!cn,\u5176\u4ed6\n\n  - GEOIP,google,Google\n  - GEOIP,netflix,NETFLIX\n  - GEOIP,telegram,Telegram\n  - GEOIP,twitter,Twitter\n  - GEOIP,CN,\u56fd\u5185\n  - MATCH,\u5176\u4ed6\n</code></pre> <pre><code>https://wiki.metacubex.one/example/geox\n</code></pre> configlink <pre><code># url \u91cc\u586b\u5199\u81ea\u5df1\u7684\u8ba2\u9605,\u540d\u79f0\u4e0d\u80fd\u91cd\u590d\nproxy-providers:\n  provider1:\n    url: \"\"\n    type: http\n    interval: 86400\n    health-check: {enable: true,url: \"https://www.gstatic.com/generate_204\",interval: 300}\n    override:\n      additional-prefix: \"[provider1]\"\n\n  provider2:\n    url: \"\"\n    type: http\n    interval: 86400\n    health-check: {enable: true,url: \"https://www.gstatic.com/generate_204\",interval: 300}\n    override:\n      additional-prefix: \"[provider2]\"\n\nproxies: \n  - name: \"\u76f4\u8fde\"\n    type: direct\n    udp: true\n\nmixed-port: 7890\nipv6: true\nallow-lan: true\nunified-delay: false\ntcp-concurrent: true\nexternal-controller: 127.0.0.1:9090\nexternal-ui: ui\nexternal-ui-url: \"https://github.com/MetaCubeX/metacubexd/archive/refs/heads/gh-pages.zip\"\n\nfind-process-mode: strict\nglobal-client-fingerprint: chrome\n\nprofile:\n  store-selected: true\n  store-fake-ip: true\n\nsniffer:\n  enable: true\n  sniff:\n    HTTP:\n      ports: [80, 8080-8880]\n      override-destination: true\n    TLS:\n      ports: [443, 8443]\n    QUIC:\n      ports: [443, 8443]\n  skip-domain:\n    - \"Mijia Cloud\"\n    - \"+.push.apple.com\"\n\ntun:\n  enable: true\n  stack: mixed\n  dns-hijack:\n    - \"any:53\"\n    - \"tcp://any:53\"\n  auto-route: true\n  auto-redirect: true\n  auto-detect-interface: true\n\ndns:\n  enable: true\n  ipv6: true\n  respect-rules: true\n  enhanced-mode: fake-ip\n  fake-ip-filter:\n    - \"*\"\n    - \"+.lan\"\n    - \"+.local\"\n    - \"+.market.xiaomi.com\"\n  nameserver:\n    - https://120.53.53.53/dns-query\n    - https://223.5.5.5/dns-query\n  proxy-server-nameserver:\n    - https://120.53.53.53/dns-query\n    - https://223.5.5.5/dns-query\n  nameserver-policy:\n    \"rule-set:cn_domain,private_domain\":\n      - https://120.53.53.53/dns-query\n      - https://223.5.5.5/dns-query\n    \"rule-set:geolocation-!cn\":\n      - \"https://dns.cloudflare.com/dns-query\"\n      - \"https://dns.google/dns-query\"\n\nproxy-groups:\n\n  - name: \u9ed8\u8ba4\n    type: select\n    proxies: [\u81ea\u52a8\u9009\u62e9,\u76f4\u8fde,\u9999\u6e2f,\u53f0\u6e7e,\u65e5\u672c,\u65b0\u52a0\u5761,\u7f8e\u56fd,\u5176\u5b83\u5730\u533a,\u5168\u90e8\u8282\u70b9]\n\n  - name: Google\n    type: select\n    proxies: [\u9ed8\u8ba4,\u9999\u6e2f,\u53f0\u6e7e,\u65e5\u672c,\u65b0\u52a0\u5761,\u7f8e\u56fd,\u5176\u5b83\u5730\u533a,\u5168\u90e8\u8282\u70b9,\u81ea\u52a8\u9009\u62e9,\u76f4\u8fde]\n\n  - name: Telegram\n    type: select\n    proxies: [\u9ed8\u8ba4,\u9999\u6e2f,\u53f0\u6e7e,\u65e5\u672c,\u65b0\u52a0\u5761,\u7f8e\u56fd,\u5176\u5b83\u5730\u533a,\u5168\u90e8\u8282\u70b9,\u81ea\u52a8\u9009\u62e9,\u76f4\u8fde]\n\n  - name: Twitter\n    type: select\n    proxies: [\u9ed8\u8ba4,\u9999\u6e2f,\u53f0\u6e7e,\u65e5\u672c,\u65b0\u52a0\u5761,\u7f8e\u56fd,\u5176\u5b83\u5730\u533a,\u5168\u90e8\u8282\u70b9,\u81ea\u52a8\u9009\u62e9,\u76f4\u8fde]\n\n  - name: \u54d4\u54e9\u54d4\u54e9\n    type: select\n    proxies: [\u9ed8\u8ba4,\u9999\u6e2f,\u53f0\u6e7e,\u65e5\u672c,\u65b0\u52a0\u5761,\u7f8e\u56fd,\u5176\u5b83\u5730\u533a,\u5168\u90e8\u8282\u70b9,\u81ea\u52a8\u9009\u62e9,\u76f4\u8fde]\n\n  - name: \u5df4\u54c8\u59c6\u7279\n    type: select\n    proxies: [\u9ed8\u8ba4,\u9999\u6e2f,\u53f0\u6e7e,\u65e5\u672c,\u65b0\u52a0\u5761,\u7f8e\u56fd,\u5176\u5b83\u5730\u533a,\u5168\u90e8\u8282\u70b9,\u81ea\u52a8\u9009\u62e9,\u76f4\u8fde]\n\n  - name: YouTube\n    type: select\n    proxies: [\u9ed8\u8ba4,\u9999\u6e2f,\u53f0\u6e7e,\u65e5\u672c,\u65b0\u52a0\u5761,\u7f8e\u56fd,\u5176\u5b83\u5730\u533a,\u5168\u90e8\u8282\u70b9,\u81ea\u52a8\u9009\u62e9,\u76f4\u8fde]\n\n  - name: NETFLIX\n    type: select\n    proxies: [\u9ed8\u8ba4,\u9999\u6e2f,\u53f0\u6e7e,\u65e5\u672c,\u65b0\u52a0\u5761,\u7f8e\u56fd,\u5176\u5b83\u5730\u533a,\u5168\u90e8\u8282\u70b9,\u81ea\u52a8\u9009\u62e9,\u76f4\u8fde]\n\n  - name: Spotify\n    type: select\n    proxies:  [\u9ed8\u8ba4,\u9999\u6e2f,\u53f0\u6e7e,\u65e5\u672c,\u65b0\u52a0\u5761,\u7f8e\u56fd,\u5176\u5b83\u5730\u533a,\u5168\u90e8\u8282\u70b9,\u81ea\u52a8\u9009\u62e9,\u76f4\u8fde]\n\n  - name: Github\n    type: select\n    proxies:  [\u9ed8\u8ba4,\u9999\u6e2f,\u53f0\u6e7e,\u65e5\u672c,\u65b0\u52a0\u5761,\u7f8e\u56fd,\u5176\u5b83\u5730\u533a,\u5168\u90e8\u8282\u70b9,\u81ea\u52a8\u9009\u62e9,\u76f4\u8fde]\n\n  - name: \u56fd\u5185\n    type: select\n    proxies:  [\u76f4\u8fde,\u9ed8\u8ba4,\u9999\u6e2f,\u53f0\u6e7e,\u65e5\u672c,\u65b0\u52a0\u5761,\u7f8e\u56fd,\u5176\u5b83\u5730\u533a,\u5168\u90e8\u8282\u70b9,\u81ea\u52a8\u9009\u62e9]\n\n  - name: \u5176\u4ed6\n    type: select\n    proxies:  [\u9ed8\u8ba4,\u9999\u6e2f,\u53f0\u6e7e,\u65e5\u672c,\u65b0\u52a0\u5761,\u7f8e\u56fd,\u5176\u5b83\u5730\u533a,\u5168\u90e8\u8282\u70b9,\u81ea\u52a8\u9009\u62e9,\u76f4\u8fde]\n\n  #\u5206\u9694,\u4e0b\u9762\u662f\u5730\u533a\u5206\u7ec4\n  - name: \u9999\u6e2f\n    type: select\n    include-all: true\n    filter: \"(?i)\u6e2f|hk|hongkong|hong kong\"\n\n  - name: \u53f0\u6e7e\n    type: select\n    include-all: true\n    filter: \"(?i)\u53f0|tw|taiwan\"\n\n  - name: \u65e5\u672c\n    type: select\n    include-all: true\n    filter: \"(?i)\u65e5|jp|japan\"\n\n  - name: \u7f8e\u56fd\n    type: select\n    include-all: true\n    filter: \"(?i)\u7f8e|us|unitedstates|united states\"\n\n  - name: \u65b0\u52a0\u5761\n    type: select\n    include-all: true\n    filter: \"(?i)(\u65b0|sg|singapore)\"\n\n  - name: \u5176\u5b83\u5730\u533a\n    type: select\n    include-all: true\n    filter: \"(?i)^(?!.*(?:\ud83c\udded\ud83c\uddf0|\ud83c\uddef\ud83c\uddf5|\ud83c\uddfa\ud83c\uddf8|\ud83c\uddf8\ud83c\uddec|\ud83c\udde8\ud83c\uddf3|\u6e2f|hk|hongkong|\u53f0|tw|taiwan|\u65e5|jp|japan|\u65b0|sg|singapore|\u7f8e|us|unitedstates)).*\"\n\n  - name: \u5168\u90e8\u8282\u70b9\n    type: select\n    include-all: true\n\n  - name: \u81ea\u52a8\u9009\u62e9\n    type: url-test\n    include-all: true\n    tolerance: 10\n\nrules:\n  - RULE-SET,private_ip,\u76f4\u8fde,no-resolve\n  - RULE-SET,github_domain,Github\n  - RULE-SET,twitter_domain,Twitter\n  - RULE-SET,youtube_domain,YouTube\n  - RULE-SET,google_domain,Google\n  - RULE-SET,telegram_domain,Telegram\n  - RULE-SET,netflix_domain,NETFLIX\n  - RULE-SET,bilibili_domain,\u54d4\u54e9\u54d4\u54e9\n  - RULE-SET,bahamut_domain,\u5df4\u54c8\u59c6\u7279\n  - RULE-SET,spotify_domain,Spotify\n  - RULE-SET,cn_domain,\u56fd\u5185\n  - RULE-SET,geolocation-!cn,\u5176\u4ed6\n\n  - RULE-SET,google_ip,Google\n  - RULE-SET,netflix_ip,NETFLIX\n  - RULE-SET,telegram_ip,Telegram\n  - RULE-SET,twitter_ip,Twitter\n  - RULE-SET,cn_ip,\u56fd\u5185\n  - MATCH,\u5176\u4ed6\n\nrule-anchor:\n  ip: &amp;ip {type: http, interval: 86400, behavior: ipcidr, format: mrs}\n  domain: &amp;domain {type: http, interval: 86400, behavior: domain, format: mrs}\nrule-providers:\n  private_domain:\n    &lt;&lt;: *domain\n    url: \"https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/private.mrs\"\n  cn_domain:\n    &lt;&lt;: *domain\n    url: \"https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/cn.mrs\"\n  biliintl_domain:\n    &lt;&lt;: *domain\n    url: \"https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/biliintl.mrs\"\n  ehentai_domain:\n    &lt;&lt;: *domain\n    url: \"https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/ehentai.mrs\"\n  github_domain:\n    &lt;&lt;: *domain\n    url: \"https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/github.mrs\"\n  twitter_domain:\n    &lt;&lt;: *domain\n    url: \"https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/twitter.mrs\"\n  youtube_domain:\n    &lt;&lt;: *domain\n    url: \"https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/youtube.mrs\"\n  google_domain:\n    &lt;&lt;: *domain\n    url: \"https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/google.mrs\"\n  telegram_domain:\n    &lt;&lt;: *domain\n    url: \"https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/telegram.mrs\"\n  netflix_domain:\n    &lt;&lt;: *domain\n    url: \"https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/netflix.mrs\"\n  bilibili_domain:\n    &lt;&lt;: *domain\n    url: \"https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/bilibili.mrs\"\n  bahamut_domain:\n    &lt;&lt;: *domain\n    url: \"https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/bahamut.mrs\"\n  spotify_domain:\n    &lt;&lt;: *domain\n    url: \"https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/spotify.mrs\"\n  pixiv_domain:\n    &lt;&lt;: *domain\n    url: \"https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/pixiv.mrs\"\n  geolocation-!cn:\n    &lt;&lt;: *domain\n    url: \"https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/geolocation-!cn.mrs\"\n\n  private_ip:\n    &lt;&lt;: *ip\n    url: \"https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geoip/private.mrs\"\n  cn_ip:\n    &lt;&lt;: *ip\n    url: \"https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geoip/cn.mrs\"\n  google_ip:\n    &lt;&lt;: *ip\n    url: \"https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geoip/google.mrs\"\n  netflix_ip:\n    &lt;&lt;: *ip\n    url: \"https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geoip/netflix.mrs\"\n  twitter_ip:\n    &lt;&lt;: *ip\n    url: \"https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geoip/twitter.mrs\"\n  telegram_ip:\n    &lt;&lt;: *ip\n    url: \"https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geoip/telegram.mrs\"\n</code></pre> <pre><code>https://wiki.metacubex.one/example/mrs\n</code></pre> configlink <pre><code>######### \u951a\u70b9 start #######\n# \u7b56\u7565\u7ec4\u76f8\u5173\npr: &amp;pr {type: select, proxies: [\u9ed8\u8ba4, \u9999\u6e2f, \u9999\u6e2f\u81ea\u52a8\u9009\u62e9, \u53f0\u6e7e, \u53f0\u6e7e\u81ea\u52a8\u9009\u62e9, \u65e5\u672c, \u65e5\u672c\u81ea\u52a8\u9009\u62e9, \u65b0\u52a0\u5761, \u65b0\u52a0\u5761\u81ea\u52a8\u9009\u62e9, \u7f8e\u56fd, \u7f8e\u56fd\u81ea\u52a8\u9009\u62e9, \u5176\u5b83\u5730\u533a, \u5168\u90e8\u8282\u70b9, \u81ea\u52a8\u9009\u62e9, \u76f4\u8fde]}\n#\u8fd9\u91cc\u662f\u8ba2\u9605\u66f4\u65b0\u548c\u5ef6\u8fdf\u6d4b\u8bd5\u76f8\u5173\u7684\np: &amp;p {type: http, interval: 3600, health-check: {enable: true, url: \"https://www.gstatic.com/generate_204\", interval: 300}}\n######### \u951a\u70b9 end #######\n\n# url \u91cc\u586b\u5199\u81ea\u5df1\u7684\u8ba2\u9605,\u540d\u79f0\u4e0d\u80fd\u91cd\u590d\nproxy-providers:\n  provider1:\n    &lt;&lt;: *p\n    url: \"\"\n  provider2:\n    &lt;&lt;: *p\n    url: \"\"\nipv6: true\nallow-lan: true\nmixed-port: 7890\nexternal-controller: 127.0.0.1:9090\nprofile:\n  store-selected: true\n  store-fake-ip: true\ndns:\n  enable: true\n  ipv6: true\n  enhanced-mode: fake-ip\n  fake-ip-range: 28.0.0.1/8\n  fake-ip-filter:\n    - \"*\"\n    - \"+.lan\"\n    - \"+.local\"\n  default-nameserver:\n    - 223.5.5.5\n  nameserver:\n    - https://doh.pub/dns-query\n    - https://dns.alidns.com/dns-query\n\nproxies:\n- name: \"\u76f4\u8fde\"\n  type: direct\n  udp: true\nproxy-groups:\n- {name: \u9ed8\u8ba4, type: select, proxies: [\u81ea\u52a8\u9009\u62e9, \u76f4\u8fde, \u9999\u6e2f, \u9999\u6e2f\u81ea\u52a8\u9009\u62e9, \u53f0\u6e7e, \u53f0\u6e7e\u81ea\u52a8\u9009\u62e9, \u65e5\u672c, \u65e5\u672c\u81ea\u52a8\u9009\u62e9, \u65b0\u52a0\u5761, \u65b0\u52a0\u5761\u81ea\u52a8\u9009\u62e9, \u7f8e\u56fd, \u7f8e\u56fd\u81ea\u52a8\u9009\u62e9, \u5176\u5b83\u5730\u533a, \u5168\u90e8\u8282\u70b9], icon: \"https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/Proxy.png\"}\n- {name: Google, &lt;&lt;: *pr, icon: \"https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/Google_Search.png\"}\n- {name: Apple, &lt;&lt;: *pr, icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/Apple.png}\n- {name: Telegram, &lt;&lt;: *pr, icon: \"https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/Telegram.png\"}\n- {name: Twitter, &lt;&lt;: *pr, icon: \"https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/Twitter.png\"}\n- {name: ehentai, &lt;&lt;: *pr, icon: \"https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/Panda.png\"}\n- {name: \u54d4\u54e9\u54d4\u54e9, &lt;&lt;: *pr, icon: \"https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/bilibili.png\"}\n- {name: \u54d4\u54e9\u4e1c\u5357\u4e9a, &lt;&lt;: *pr, icon: \"https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/bilibili.png\"}\n- {name: \u5df4\u54c8\u59c6\u7279, &lt;&lt;: *pr, icon: \"https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/Bahamut.png\"}\n- {name: YouTube, &lt;&lt;: *pr, icon: \"https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/YouTube.png\"}\n- {name: NETFLIX, &lt;&lt;: *pr, icon: \"https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/Netflix.png\"}\n- {name: Spotify, &lt;&lt;: *pr, icon: \"https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/Spotify.png\"}\n- {name: \u56fd\u5185, type: select, proxies: [\u76f4\u8fde, \u9ed8\u8ba4, \u9999\u6e2f, \u9999\u6e2f\u81ea\u52a8\u9009\u62e9, \u53f0\u6e7e, \u53f0\u6e7e\u81ea\u52a8\u9009\u62e9, \u65e5\u672c, \u65e5\u672c\u81ea\u52a8\u9009\u62e9, \u65b0\u52a0\u5761, \u65b0\u52a0\u5761\u81ea\u52a8\u9009\u62e9, \u7f8e\u56fd, \u7f8e\u56fd\u81ea\u52a8\u9009\u62e9, \u5176\u5b83\u5730\u533a, \u5168\u90e8\u8282\u70b9, \u81ea\u52a8\u9009\u62e9], icon: \"https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/China_Map.png\"}\n- {name: \u5176\u4ed6, &lt;&lt;: *pr, icon: \"https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/Final.png\"}\n  #\u5206\u9694,\u4e0b\u9762\u662f\u5730\u533a\u5206\u7ec4\n- {name: \u9999\u6e2f, type: select, include-all: true, filter: \"(?i)\u6e2f|hk|hongkong|hong kong\", icon: \"https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/HK.png\"}\n- {name: \u53f0\u6e7e, type: select, include-all: true, filter: \"(?i)\u53f0|tw|taiwan\", icon: \"https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/TW.png\"}\n- {name: \u65e5\u672c, type: select, include-all: true, filter: \"(?i)\u65e5|jp|japan\", icon: \"https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/JP.png\"}\n- {name: \u7f8e\u56fd, type: select, include-all: true, filter: \"(?i)\u7f8e|us|unitedstates|united states\", icon: \"https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/US.png\"}\n- {name: \u65b0\u52a0\u5761, type: select, include-all: true, filter: \"(?i)(\u65b0|sg|singapore)\", icon: \"https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/SG.png\"}\n- {name: \u5176\u5b83\u5730\u533a, type: select, include-all: true, filter: \"(?i)^(?!.*(?:\ud83c\udded\ud83c\uddf0|\ud83c\uddef\ud83c\uddf5|\ud83c\uddfa\ud83c\uddf8|\ud83c\uddf8\ud83c\uddec|\ud83c\udde8\ud83c\uddf3|\u6e2f|hk|hongkong|\u53f0|tw|taiwan|\u65e5|jp|japan|\u65b0|sg|singapore|\u7f8e|us|unitedstates)).*\", icon: \"https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/Available.png\"}\n- {name: \u81ea\u52a8\u9009\u62e9, type: url-test, include-all: true, tolerance: 10, icon: \"https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/Auto.png\"}\n- {name: \u5168\u90e8\u8282\u70b9, type: select, include-all: true, icon: \"https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/Global.png\"}\n\n- {name: \u9999\u6e2f\u81ea\u52a8\u9009\u62e9,type: url-test, include-all: true, filter: \"(?i) \u6e2f|hk|hongkong|hong kong\", icon: \"https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/HK.png\"}\n- {name: \u53f0\u6e7e\u81ea\u52a8\u9009\u62e9,type: url-test, include-all: true, filter: \"(?i) \u53f0|tw|taiwan\", icon: \"https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/TW.png\"}\n- {name: \u65e5\u672c\u81ea\u52a8\u9009\u62e9,type: url-test, include-all: true, filter: \"(?i) \u65e5|jp|japan\", icon: \"https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/JP.png\"}\n- {name: \u7f8e\u56fd\u81ea\u52a8\u9009\u62e9,type: url-test, include-all: true, filter: \"(?i) \u7f8e|us|unitedstates|united states\", icon: \"https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/US.png\"}\n- {name: \u65b0\u52a0\u5761\u81ea\u52a8\u9009\u62e9,type: url-test, include-all: true, filter: \"(?i)(\u65b0|sg|singapore)\", icon: \"https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/SG.png\"}\n\nrules:\n- GEOIP,lan,\u76f4\u8fde,no-resolve\n- RULE-SET,biliintl_domain,\u54d4\u54e9\u4e1c\u5357\u4e9a\n- RULE-SET,ehentai_domain,ehentai\n- RULE-SET,github_domain,\u5176\u4ed6\n- RULE-SET,twitter_domain,Twitter\n- RULE-SET,youtube_domain,YouTube\n- RULE-SET,google_domain,Google\n- RULE-SET,telegram_domain,Telegram\n- RULE-SET,netflix_domain,NETFLIX\n- RULE-SET,bilibili_domain,\u54d4\u54e9\u54d4\u54e9\n- RULE-SET,bahamut_domain,\u5df4\u54c8\u59c6\u7279\n- RULE-SET,spotify_domain,Spotify\n- RULE-SET,pixiv_domain,\u5176\u4ed6\n- RULE-SET,geolocation-!cn,\u5176\u4ed6\n\n- RULE-SET,google_ip,Google\n- RULE-SET,netflix_ip,NETFLIX\n- RULE-SET,telegram_ip,Telegram\n- RULE-SET,twitter_ip,Twitter\n- RULE-SET,cn_domain,\u56fd\u5185\n- RULE-SET,cn_ip,\u56fd\u5185\n- MATCH,\u5176\u4ed6\n\nrule-anchor:\n  ip: &amp;ip {type: http, interval: 86400, behavior: ipcidr, format: text}\n  domain: &amp;domain {type: http, interval: 86400, behavior: domain, format: text}\nrule-providers:\n  private:\n    &lt;&lt;: *domain\n    url: \"https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/private.list\"\n  cn_domain:\n    &lt;&lt;: *domain\n    url: \"https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/cn.list\"\n  biliintl_domain:\n    &lt;&lt;: *domain\n    url: \"https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/biliintl.list\"\n  ehentai_domain:\n    &lt;&lt;: *domain\n    url: \"https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/ehentai.list\"\n  github_domain:\n    &lt;&lt;: *domain\n    url: \"https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/github.list\"\n  twitter_domain:\n    &lt;&lt;: *domain\n    url: \"https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/twitter.list\"\n  youtube_domain:\n    &lt;&lt;: *domain\n    url: \"https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/youtube.list\"\n  google_domain:\n    &lt;&lt;: *domain\n    url: \"https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/google.list\"\n  telegram_domain:\n    &lt;&lt;: *domain\n    url: \"https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/telegram.list\"\n  netflix_domain:\n    &lt;&lt;: *domain\n    url: \"https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/netflix.list\"\n  bilibili_domain:\n    &lt;&lt;: *domain\n    url: \"https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/bilibili.list\"\n  bahamut_domain:\n    &lt;&lt;: *domain\n    url: \"https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/bahamut.list\"\n  spotify_domain:\n    &lt;&lt;: *domain\n    url: \"https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/spotify.list\"\n  pixiv_domain:\n    &lt;&lt;: *domain\n    url: \"https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/pixiv.list\"\n  geolocation-!cn:\n    &lt;&lt;: *domain\n    url: \"https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/geolocation-!cn.list\"\n\n  cn_ip:\n    &lt;&lt;: *ip\n    url: \"https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geoip/cn.list\"\n  google_ip:\n    &lt;&lt;: *ip\n    url: \"https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geoip/google.list\"\n  netflix_ip:\n    &lt;&lt;: *ip\n    url: \"https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geoip/netflix.list\"\n  twitter_ip:\n    &lt;&lt;: *ip\n    url: \"https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geoip/twitter.list\"\n  telegram_ip:\n    &lt;&lt;: *ip\n    url: \"https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geoip/telegram.list\"\n</code></pre> <pre><code>https://wiki.metacubex.one/example/stash\n</code></pre>"},{"location":"en/handbook/syntax/","title":"Grammar","text":"<p>Mihomo uses <code>yaml</code> as the configuration file format.</p> <p><code>yaml</code> is case-sensitive and uses indentation to indicate hierarchical relationships. Tabs are not allowed for indentation; only spaces are permitted. The number of spaces used for indentation is not important, as long as elements at the same level are left-aligned.</p>"},{"location":"en/handbook/syntax/#comments","title":"Comments","text":"<p>In <code>yaml</code> formatted files, comments start with \"#\" and extend to the end of the line. The \"#\" must be at the beginning of the line or preceded by a space; otherwise, it is not considered a comment.</p> <pre><code>port: 7890 # HTTP proxy port\nsocks-port: 7891\n# SOCKS proxy port\n</code></pre>"},{"location":"en/handbook/syntax/#objects","title":"Objects","text":"<p>Key-value pairs in objects are represented using the colon structure <code>key: value</code>, with a space required after the colon. Indentation indicates hierarchical relationships.</p> <p>Since the <code>yaml</code> format is a superset of <code>json</code>, you can directly use <code>json</code> syntax.</p>"},{"location":"en/handbook/syntax/#multi-line","title":"Multi-line","text":"<pre><code>tun:\n  enable: true\n  stack: system\n  auto-route: true\n  auto-detect-interface: true\n</code></pre>"},{"location":"en/handbook/syntax/#multi-line-json","title":"Multi-line JSON","text":"<pre><code>tun: { \n  enable: true,\n  stack: system,\n  auto-route: true,\n  auto-detect-interface: true\n}\n</code></pre>"},{"location":"en/handbook/syntax/#single-line-json","title":"Single-line JSON","text":"<pre><code>tun: { enable: true, stack: system, auto-route: true, auto-detect-interface: true }\n</code></pre>"},{"location":"en/handbook/syntax/#full-json","title":"Full JSON","text":"<pre><code>{\n  \"tun\": {\n    \"enable\": true,\n    \"stack\": \"system\",\n    \"auto-route\": true,\n    \"auto-detect-interface\": true\n  }\n}\n</code></pre>"},{"location":"en/handbook/syntax/#arrays","title":"Arrays","text":"<p>Lines starting with <code>-</code> indicate the formation of an array, used for multiple values within an object.</p>"},{"location":"en/handbook/syntax/#multi-line-array","title":"Multi-line Array","text":"<pre><code>a:\n  - b\n  - c\n  - d\n</code></pre>"},{"location":"en/handbook/syntax/#single-line-json-array","title":"Single-line JSON Array","text":"<pre><code>a: [b, c, d]\n</code></pre>"},{"location":"en/handbook/syntax/#references","title":"References","text":"<p><code>&amp;</code> is used for anchors and <code>*</code> for aliases, allowing for references. <code>&amp;</code> establishes an anchor, while <code>&lt;&lt;</code> indicates merging into the current data, and <code>*</code> is used to reference an anchor.</p> <p>In the following example, since the key <code>p</code> does not exist in <code>mihomo</code>, it will be ignored during configuration parsing.</p> <p>If there are duplicate items during merging, they will not be merged.</p> <pre><code>p: &amp;p\n  type: http\n  interval: 3600\n  health-check:\n    enable: true\n    url: https://www.gstatic.com/generate_204\n    interval: 300\n\nproxy-providers:\n  provider1:\n    &lt;&lt;: *p\n    url: \"\"\n    path: ./proxy_providers/provider1.yaml\n\n  provider2:\n    &lt;&lt;: *p\n    type: file\n    path: ./proxy_providers/provider2.yaml\n</code></pre> <p>This is equivalent to:</p> <pre><code>proxy-providers:\n  provider1:\n    type: http\n    interval: 3600\n    health-check:\n      enable: true\n      url: https://www.gstatic.com/generate_204\n      interval: 300\n    url: \"\"\n    path: ./proxy_providers/provider1.yaml\n\n  provider2:\n    interval: 3600\n    health-check:\n      enable: true\n      url: https://www.gstatic.com/generate_204\n      interval: 300\n    type: file\n    path: ./proxy_providers/provider2.yaml\n</code></pre>"},{"location":"en/handbook/syntax/#domain-wildcards","title":"Domain Wildcards","text":""},{"location":"en/handbook/syntax/#wildcard","title":"Wildcard <code>*</code>","text":"<p>Clash's wildcard <code>*</code> can only match one level of domain at a time.</p> <p><code>*.baidu.com</code> matches <code>tieba.baidu.com</code> but does not match <code>123.tieba.baidu.com</code> or <code>baidu.com</code>.</p> <p><code>*</code> only matches hostnames without a <code>.</code> such as localhost.</p>"},{"location":"en/handbook/syntax/#wildcard_1","title":"Wildcard <code>+</code>","text":"<p>The wildcard <code>+</code> is similar to DOMAIN-SUFFIX and can match multiple levels at once.</p> <p><code>+.baidu.com</code> matches <code>tieba.baidu.com</code>, <code>123.tieba.baidu.com</code>, and <code>baidu.com</code>.</p> <p>The wildcard <code>+</code> can only be used for prefix matching of domain names.</p>"},{"location":"en/handbook/syntax/#wildcard_2","title":"Wildcard <code>.</code>","text":"<p>The wildcard <code>.</code> can match multiple levels at once.</p> <p><code>.baidu.com</code> matches <code>tieba.baidu.com</code> and <code>123.tieba.baidu.com</code>, but does not match <code>baidu.com</code>.</p> <p>The wildcard <code>.</code> can only be used for prefix matching of domain names.</p>"},{"location":"en/handbook/syntax/#usage-example","title":"Usage Example","text":"<p>When using wildcards, you should wrap the content in quotes <code>' '</code> or <code>\" \"</code>.</p> <pre><code>fake-ip-filter:\n- \".lan\"\n- \"xbox.*.microsoft.com\"\n- \"+.xboxlive.com\"\n- localhost.ptlogin2.qq.com\n</code></pre>"},{"location":"en/handbook/syntax/#introducing-domain-sets","title":"Introducing Domain Sets","text":"<p>Warning</p> <p>The rule-set only supports behavior as domain/classical.</p> <pre><code>fake-ip-filter:\n- \"rule-set:xxx\"\n- \"geosite:xxx\"\n</code></pre>"},{"location":"en/handbook/syntax/#port-ranges","title":"Port Ranges","text":"<p>Mihomo can use <code>-</code> to match port ranges, and <code>/</code> or <code>,</code> to separate multiple ports/port ranges.</p>"},{"location":"en/handbook/syntax/#example","title":"Example","text":"<p>Match ports 114 to 514 and 810 to 1919, as well as port 65530.</p> <pre><code>114-514/810-1919,65530\n</code></pre>"},{"location":"en/startup/","title":"\u4f7f\u7528\u9884\u7f16\u8bd1\u4e8c\u8fdb\u5236","text":"<p>To start using Mihomo, you can choose one of the following installation methods for your current system.</p>"},{"location":"en/startup/#using-precompiled-binary-files","title":"Using Precompiled Binary Files","text":"<p>Please select and download the binary file corresponding to your common operating system from the options below.</p> WindowsLinuxMacOSFreeBSDAndroid amd64/x86_64386/x86_32arm64/armv8armv7 <p><ul>\u52a0\u8f7d\u4e2d...</ul></p> <p><ul>\u52a0\u8f7d\u4e2d...</ul></p> <p><ul>\u52a0\u8f7d\u4e2d...</ul></p> <p><ul>\u52a0\u8f7d\u4e2d...</ul></p> amd64/x86_64386/x86_32arm64/armv8armv7riscv64mips <p><ul>\u52a0\u8f7d\u4e2d...</ul></p> <p><ul>\u52a0\u8f7d\u4e2d...</ul></p> <p><ul>\u52a0\u8f7d\u4e2d...</ul></p> <p><ul>\u52a0\u8f7d\u4e2d...</ul></p> <p><ul>\u52a0\u8f7d\u4e2d...</ul></p> <p><ul>\u52a0\u8f7d\u4e2d...</ul></p> amd64/x86_64arm64/armv8 <p><ul>\u52a0\u8f7d\u4e2d...</ul></p> <p><ul>\u52a0\u8f7d\u4e2d...</ul></p> amd64/x86_64386/x86_32arm64/armv8 <p><ul>\u52a0\u8f7d\u4e2d...</ul></p> <p><ul>\u52a0\u8f7d\u4e2d...</ul></p> <p><ul>\u52a0\u8f7d\u4e2d...</ul></p> arm64 <p><ul>\u52a0\u8f7d\u4e2d...</ul></p>"},{"location":"en/startup/faq/","title":"FAQ","text":""},{"location":"en/startup/faq/#alpha-and-meta-branch-differences","title":"Alpha and Meta Branch Differences","text":"<p>The Alpha branch is the latest commit branch, while the Meta branch merges the code from the Alpha branch at regular intervals. The Meta branch is not necessarily more stable than the Alpha branch.</p>"},{"location":"en/startup/faq/#which-file-should-i-download","title":"Which file should I download?","text":"<p>In<code>release</code>, the filename of each package includes several pieces of information, including:</p> <ul> <li>Program name (<code>clash.meta</code>)</li> <li>Operating system (e.g., <code>android</code>, <code>darwin</code>, <code>freebsd</code>, <code>linux</code>, <code>windows</code>, etc.)</li> <li>Architecture (e.g., <code>386</code>, <code>amd64</code>, <code>arm32v7</code>, <code>arm64</code>, etc.)</li> <li>Compilation method: <ul> <li><code>default(not specified in file name)</code>: Default version compiled with GOAMD64=v3 tag.</li> <li><code>compatible</code>: Compiled with GOAMD64=v1 tag for compatibility with specific OS or architecture.</li> <li><code>go120</code>: Compiled with Golang1.20 for compatibility with specific OS or architecture.</li> <li><code>abi1/2</code>: ABI version for <code>loongarch64</code>, specific details can be found at http://www.loongnix.cn/zh/toolchain/Golang/downloads-Go1.21/index.html </li> </ul> </li> <li>Compile branch (e.g., <code>alpha</code>)</li> <li>Git hash value of the commit (e.g., <code>f90066f</code>)</li> </ul> <p>You can choose the executable file you need based on these pieces of information.</p> <p>Check details between different architectural levels here.</p> <p>Check details of system compatibility information about Golang version 1.20 here.</p>"},{"location":"en/startup/web/","title":"Web dashboard","text":"<p>Yacd</p> <p>Metacubexd</p>"},{"location":"en/startup/service/","title":"Create a running service","text":""},{"location":"en/startup/service/#using-systemd","title":"Using systemd","text":"<ul> <li> <p>Download the binary executable file from releases.</p> </li> <li> <p>Rename the downloaded binary executable file to <code>mihomo</code> and move it to <code>/usr/local/bin/</code>.</p> </li> <li> <p>Run Mihomo as a daemon.</p> </li> </ul> <p>Use the following commands to copy the Mihomo binary file to /usr/local/bin and the configuration file to /etc/mihomo:</p> <pre><code>cp mihomo /usr/local/bin\ncp config.yaml /etc/mihomo\n</code></pre> <p>Create a systemd configuration file <code>/etc/systemd/system/mihomo.service</code>:</p> <pre><code>[Unit]\nDescription=mihomo Daemon, Another Clash Kernel.\nAfter=network.target NetworkManager.service systemd-networkd.service iwd.service\n\n[Service]\nType=simple\nLimitNPROC=500\nLimitNOFILE=1000000\nCapabilityBoundingSet=CAP_NET_ADMIN CAP_NET_RAW CAP_NET_BIND_SERVICE CAP_SYS_TIME CAP_SYS_PTRACE CAP_DAC_READ_SEARCH CAP_DAC_OVERRIDE\nAmbientCapabilities=CAP_NET_ADMIN CAP_NET_RAW CAP_NET_BIND_SERVICE CAP_SYS_TIME CAP_SYS_PTRACE CAP_DAC_READ_SEARCH CAP_DAC_OVERRIDE\nRestart=always\nExecStartPre=/usr/bin/sleep 1s\nExecStart=/usr/local/bin/mihomo -d /etc/mihomo\nExecReload=/bin/kill -HUP $MAINPID\n\n[Install]\nWantedBy=multi-user.target\n</code></pre> <p>Reload systemd using the following command:</p> <pre><code>systemctl daemon-reload\n</code></pre> <p>Enable the Mihomo service:</p> <pre><code>systemctl enable mihomo\n</code></pre> <p>Start Mihomo immediately with the following command:</p> <pre><code>systemctl start mihomo\n</code></pre> <p>Reload Mihomo with the following command:</p> <pre><code>systemctl reload mihomo\n</code></pre> <p>Check the status of Mihomo with the following command:</p> <pre><code>systemctl status mihomo\n</code></pre> <p>Check the running logs of Mihomo with the following command:</p> <pre><code>journalctl -u mihomo -o cat -e\n</code></pre> <p>Or</p> <pre><code>journalctl -u mihomo -o cat -f\n</code></pre>"}]}